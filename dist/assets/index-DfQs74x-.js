var wg=Object.defineProperty;var kg=(e,t,n)=>t in e?wg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var te=(e,t,n)=>kg(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Ff(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Of={exports:{}},Fi={},Hf={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),Sg=Symbol.for("react.portal"),Ng=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),_g=Symbol.for("react.provider"),Cg=Symbol.for("react.context"),Mg=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),jg=Symbol.for("react.memo"),$g=Symbol.for("react.lazy"),Cu=Symbol.iterator;function Pg(e){return e===null||typeof e!="object"?null:(e=Cu&&e[Cu]||e["@@iterator"],typeof e=="function"?e:null)}var Uf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vf=Object.assign,Bf={};function Zr(e,t,n){this.props=e,this.context=t,this.refs=Bf,this.updater=n||Uf}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wf(){}Wf.prototype=Zr.prototype;function sc(e,t,n){this.props=e,this.context=t,this.refs=Bf,this.updater=n||Uf}var ic=sc.prototype=new Wf;ic.constructor=sc;Vf(ic,Zr.prototype);ic.isPureReactComponent=!0;var Mu=Array.isArray,Yf=Object.prototype.hasOwnProperty,ac={current:null},Xf={key:!0,ref:!0,__self:!0,__source:!0};function Gf(e,t,n){var r,o={},s=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)Yf.call(t,r)&&!Xf.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:rs,type:e,key:s,ref:i,props:o,_owner:ac.current}}function Ag(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lc(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function Ig(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tu=/\/+/g;function da(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ig(""+e.key):t.toString(36)}function Fs(e,t,n,r,o){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case rs:case Sg:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+da(i,0):r,Mu(o)?(n="",e!=null&&(n=e.replace(Tu,"$&/")+"/"),Fs(o,t,n,"",function(c){return c})):o!=null&&(lc(o)&&(o=Ag(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Tu,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Mu(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+da(s,a);i+=Fs(s,t,n,l,o)}else if(l=Pg(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+da(s,a++),i+=Fs(s,t,n,l,o);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function fs(e,t,n){if(e==null)return e;var r=[],o=0;return Fs(e,r,"","",function(s){return t.call(n,s,o++)}),r}function Dg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Os={transition:null},zg={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Os,ReactCurrentOwner:ac};function Qf(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:fs,forEach:function(e,t,n){fs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fs(e,function(){t++}),t},toArray:function(e){return fs(e,function(t){return t})||[]},only:function(e){if(!lc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=Zr;re.Fragment=Ng;re.Profiler=bg;re.PureComponent=sc;re.StrictMode=Eg;re.Suspense=Tg;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zg;re.act=Qf;re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Vf({},e.props),o=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=ac.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Yf.call(t,l)&&!Xf.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:rs,type:e.type,key:o,ref:s,props:r,_owner:i}};re.createContext=function(e){return e={$$typeof:Cg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_g,_context:e},e.Consumer=e};re.createElement=Gf;re.createFactory=function(e){var t=Gf.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:Mg,render:e}};re.isValidElement=lc;re.lazy=function(e){return{$$typeof:$g,_payload:{_status:-1,_result:e},_init:Dg}};re.memo=function(e,t){return{$$typeof:jg,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Os.transition;Os.transition={};try{e()}finally{Os.transition=t}};re.unstable_act=Qf;re.useCallback=function(e,t){return Ge.current.useCallback(e,t)};re.useContext=function(e){return Ge.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};re.useEffect=function(e,t){return Ge.current.useEffect(e,t)};re.useId=function(){return Ge.current.useId()};re.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};re.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return Ge.current.useMemo(e,t)};re.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};re.useRef=function(e){return Ge.current.useRef(e)};re.useState=function(e){return Ge.current.useState(e)};re.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};re.useTransition=function(){return Ge.current.useTransition()};re.version="18.3.1";Hf.exports=re;var T=Hf.exports;const R=Ff(T);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=T,Rg=Symbol.for("react.element"),Fg=Symbol.for("react.fragment"),Og=Object.prototype.hasOwnProperty,Hg=Lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ug={key:!0,ref:!0,__self:!0,__source:!0};function Kf(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Og.call(t,r)&&!Ug.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Rg,type:e,key:s,ref:i,props:o,_owner:Hg.current}}Fi.Fragment=Fg;Fi.jsx=Kf;Fi.jsxs=Kf;Of.exports=Fi;var m=Of.exports,Qa={},Zf={exports:{}},dt={},qf={exports:{}},Jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,E){var j=N.length;N.push(E);e:for(;0<j;){var D=j-1>>>1,L=N[D];if(0<o(L,E))N[D]=E,N[j]=L,j=D;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var E=N[0],j=N.pop();if(j!==E){N[0]=j;e:for(var D=0,L=N.length,B=L>>>1;D<B;){var V=2*(D+1)-1,Y=N[V],X=V+1,q=N[X];if(0>o(Y,j))X<L&&0>o(q,Y)?(N[D]=q,N[X]=j,D=X):(N[D]=Y,N[V]=j,D=V);else if(X<L&&0>o(q,j))N[D]=q,N[X]=j,D=X;else break e}}return E}function o(N,E){var j=N.sortIndex-E.sortIndex;return j!==0?j:N.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,x=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var E=n(c);E!==null;){if(E.callback===null)r(c);else if(E.startTime<=N)r(c),E.sortIndex=E.expirationTime,t(l,E);else break;E=n(c)}}function v(N){if(y=!1,w(N),!x)if(n(l)!==null)x=!0,$(S);else{var E=n(c);E!==null&&z(v,E.startTime-N)}}function S(N,E){x=!1,y&&(y=!1,h(P),P=-1),p=!0;var j=f;try{for(w(E),d=n(l);d!==null&&(!(d.expirationTime>E)||N&&!F());){var D=d.callback;if(typeof D=="function"){d.callback=null,f=d.priorityLevel;var L=D(d.expirationTime<=E);E=e.unstable_now(),typeof L=="function"?d.callback=L:d===n(l)&&r(l),w(E)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var V=n(c);V!==null&&z(v,V.startTime-E),B=!1}return B}finally{d=null,f=j,p=!1}}var _=!1,C=null,P=-1,A=5,I=-1;function F(){return!(e.unstable_now()-I<A)}function H(){if(C!==null){var N=e.unstable_now();I=N;var E=!0;try{E=C(!0,N)}finally{E?O():(_=!1,C=null)}}else _=!1}var O;if(typeof g=="function")O=function(){g(H)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,M=b.port2;b.port1.onmessage=H,O=function(){M.postMessage(null)}}else O=function(){k(H,0)};function $(N){C=N,_||(_=!0,O())}function z(N,E){P=k(function(){N(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,$(S))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(N){switch(f){case 1:case 2:case 3:var E=3;break;default:E=f}var j=f;f=E;try{return N()}finally{f=j}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,E){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=f;f=N;try{return E()}finally{f=j}},e.unstable_scheduleCallback=function(N,E,j){var D=e.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?D+j:D):j=D,N){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=j+L,N={id:u++,callback:E,priorityLevel:N,startTime:j,expirationTime:L,sortIndex:-1},j>D?(N.sortIndex=j,t(c,N),n(l)===null&&N===n(c)&&(y?(h(P),P=-1):y=!0,z(v,j-D))):(N.sortIndex=L,t(l,N),x||p||(x=!0,$(S))),N},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(N){var E=f;return function(){var j=f;f=E;try{return N.apply(this,arguments)}finally{f=j}}}})(Jf);qf.exports=Jf;var Vg=qf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg=T,ct=Vg;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eh=new Set,$o={};function cr(e,t){Fr(e,t),Fr(e+"Capture",t)}function Fr(e,t){for($o[e]=t,e=0;e<t.length;e++)eh.add(t[e])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ka=Object.prototype.hasOwnProperty,Wg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ju={},$u={};function Yg(e){return Ka.call($u,e)?!0:Ka.call(ju,e)?!1:Wg.test(e)?$u[e]=!0:(ju[e]=!0,!1)}function Xg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gg(e,t,n,r){if(t===null||typeof t>"u"||Xg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,r,o,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var cc=/[\-:]([a-z])/g;function uc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cc,uc);Re[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cc,uc);Re[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cc,uc);Re[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function dc(e,t,n,r){var o=Re.hasOwnProperty(t)?Re[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gg(t,n,o,r)&&(n=null),r||o===null?Yg(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var an=Bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hs=Symbol.for("react.element"),gr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),fc=Symbol.for("react.strict_mode"),Za=Symbol.for("react.profiler"),th=Symbol.for("react.provider"),nh=Symbol.for("react.context"),hc=Symbol.for("react.forward_ref"),qa=Symbol.for("react.suspense"),Ja=Symbol.for("react.suspense_list"),pc=Symbol.for("react.memo"),gn=Symbol.for("react.lazy"),rh=Symbol.for("react.offscreen"),Pu=Symbol.iterator;function to(e){return e===null||typeof e!="object"?null:(e=Pu&&e[Pu]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,fa;function mo(e){if(fa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fa=t&&t[1]||""}return`
`+fa+e}var ha=!1;function pa(e,t){if(!e||ha)return"";ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),s=r.stack.split(`
`),i=o.length-1,a=s.length-1;1<=i&&0<=a&&o[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==s[a]){var l=`
`+o[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{ha=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mo(e):""}function Qg(e){switch(e.tag){case 5:return mo(e.type);case 16:return mo("Lazy");case 13:return mo("Suspense");case 19:return mo("SuspenseList");case 0:case 2:case 15:return e=pa(e.type,!1),e;case 11:return e=pa(e.type.render,!1),e;case 1:return e=pa(e.type,!0),e;default:return""}}function el(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yr:return"Fragment";case gr:return"Portal";case Za:return"Profiler";case fc:return"StrictMode";case qa:return"Suspense";case Ja:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nh:return(e.displayName||"Context")+".Consumer";case th:return(e._context.displayName||"Context")+".Provider";case hc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pc:return t=e.displayName||null,t!==null?t:el(e.type)||"Memo";case gn:t=e._payload,e=e._init;try{return el(e(t))}catch{}}return null}function Kg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return el(t);case 8:return t===fc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zg(e){var t=oh(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ps(e){e._valueTracker||(e._valueTracker=Zg(e))}function sh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oh(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tl(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Au(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Dn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ih(e,t){t=t.checked,t!=null&&dc(e,"checked",t,!1)}function nl(e,t){ih(e,t);var n=Dn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rl(e,t.type,n):t.hasOwnProperty("defaultValue")&&rl(e,t.type,Dn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function rl(e,t,n){(t!=="number"||ti(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var go=Array.isArray;function Tr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Dn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ol(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Du(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(go(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Dn(n)}}function ah(e,t){var n=Dn(t.value),r=Dn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ms,ch=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Po(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qg=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(e){qg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),So[t]=So[e]})});function uh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||So.hasOwnProperty(e)&&So[e]?(""+t).trim():t+"px"}function dh(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=uh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Jg=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function il(e,t){if(t){if(Jg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function al(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ll=null;function mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,jr=null,$r=null;function Lu(e){if(e=is(e)){if(typeof cl!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Bi(t),cl(e.stateNode,e.type,t))}}function fh(e){jr?$r?$r.push(e):$r=[e]:jr=e}function hh(){if(jr){var e=jr,t=$r;if($r=jr=null,Lu(e),t)for(e=0;e<t.length;e++)Lu(t[e])}}function ph(e,t){return e(t)}function mh(){}var ma=!1;function gh(e,t,n){if(ma)return e(t,n);ma=!0;try{return ph(e,t,n)}finally{ma=!1,(jr!==null||$r!==null)&&(mh(),hh())}}function Ao(e,t){var n=e.stateNode;if(n===null)return null;var r=Bi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var ul=!1;if(en)try{var no={};Object.defineProperty(no,"passive",{get:function(){ul=!0}}),window.addEventListener("test",no,no),window.removeEventListener("test",no,no)}catch{ul=!1}function ey(e,t,n,r,o,s,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var No=!1,ni=null,ri=!1,dl=null,ty={onError:function(e){No=!0,ni=e}};function ny(e,t,n,r,o,s,i,a,l){No=!1,ni=null,ey.apply(ty,arguments)}function ry(e,t,n,r,o,s,i,a,l){if(ny.apply(this,arguments),No){if(No){var c=ni;No=!1,ni=null}else throw Error(U(198));ri||(ri=!0,dl=c)}}function ur(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ru(e){if(ur(e)!==e)throw Error(U(188))}function oy(e){var t=e.alternate;if(!t){if(t=ur(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ru(o),e;if(s===r)return Ru(o),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function xh(e){return e=oy(e),e!==null?vh(e):null}function vh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vh(e);if(t!==null)return t;e=e.sibling}return null}var wh=ct.unstable_scheduleCallback,Fu=ct.unstable_cancelCallback,sy=ct.unstable_shouldYield,iy=ct.unstable_requestPaint,Ne=ct.unstable_now,ay=ct.unstable_getCurrentPriorityLevel,gc=ct.unstable_ImmediatePriority,kh=ct.unstable_UserBlockingPriority,oi=ct.unstable_NormalPriority,ly=ct.unstable_LowPriority,Sh=ct.unstable_IdlePriority,Oi=null,Ft=null;function cy(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Oi,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:fy,uy=Math.log,dy=Math.LN2;function fy(e){return e>>>=0,e===0?32:31-(uy(e)/dy|0)|0}var gs=64,ys=4194304;function yo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function si(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=yo(a):(s&=i,s!==0&&(r=yo(s)))}else i=n&~o,i!==0?r=yo(i):s!==0&&(r=yo(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,s=t&-t,o>=s||o===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),o=1<<n,r|=e[n],t&=~o;return r}function hy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function py(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-$t(s),a=1<<i,l=o[i];l===-1?(!(a&n)||a&r)&&(o[i]=hy(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nh(){var e=gs;return gs<<=1,!(gs&4194240)&&(gs=64),e}function ga(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function os(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function my(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-$t(n),s=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~s}}function yc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var ce=0;function Eh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bh,xc,_h,Ch,Mh,hl=!1,xs=[],_n=null,Cn=null,Mn=null,Io=new Map,Do=new Map,wn=[],gy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Io.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(t.pointerId)}}function ro(e,t,n,r,o,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},t!==null&&(t=is(t),t!==null&&xc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function yy(e,t,n,r,o){switch(t){case"focusin":return _n=ro(_n,e,t,n,r,o),!0;case"dragenter":return Cn=ro(Cn,e,t,n,r,o),!0;case"mouseover":return Mn=ro(Mn,e,t,n,r,o),!0;case"pointerover":var s=o.pointerId;return Io.set(s,ro(Io.get(s)||null,e,t,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Do.set(s,ro(Do.get(s)||null,e,t,n,r,o)),!0}return!1}function Th(e){var t=Yn(e.target);if(t!==null){var n=ur(t);if(n!==null){if(t=n.tag,t===13){if(t=yh(n),t!==null){e.blockedOn=t,Mh(e.priority,function(){_h(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ll=r,n.target.dispatchEvent(r),ll=null}else return t=is(n),t!==null&&xc(t),e.blockedOn=n,!1;t.shift()}return!0}function Hu(e,t,n){Hs(e)&&n.delete(t)}function xy(){hl=!1,_n!==null&&Hs(_n)&&(_n=null),Cn!==null&&Hs(Cn)&&(Cn=null),Mn!==null&&Hs(Mn)&&(Mn=null),Io.forEach(Hu),Do.forEach(Hu)}function oo(e,t){e.blockedOn===t&&(e.blockedOn=null,hl||(hl=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,xy)))}function zo(e){function t(o){return oo(o,e)}if(0<xs.length){oo(xs[0],e);for(var n=1;n<xs.length;n++){var r=xs[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_n!==null&&oo(_n,e),Cn!==null&&oo(Cn,e),Mn!==null&&oo(Mn,e),Io.forEach(t),Do.forEach(t),n=0;n<wn.length;n++)r=wn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)Th(n),n.blockedOn===null&&wn.shift()}var Pr=an.ReactCurrentBatchConfig,ii=!0;function vy(e,t,n,r){var o=ce,s=Pr.transition;Pr.transition=null;try{ce=1,vc(e,t,n,r)}finally{ce=o,Pr.transition=s}}function wy(e,t,n,r){var o=ce,s=Pr.transition;Pr.transition=null;try{ce=4,vc(e,t,n,r)}finally{ce=o,Pr.transition=s}}function vc(e,t,n,r){if(ii){var o=pl(e,t,n,r);if(o===null)_a(e,t,r,ai,n),Ou(e,r);else if(yy(o,e,t,n,r))r.stopPropagation();else if(Ou(e,r),t&4&&-1<gy.indexOf(e)){for(;o!==null;){var s=is(o);if(s!==null&&bh(s),s=pl(e,t,n,r),s===null&&_a(e,t,r,ai,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else _a(e,t,r,null,n)}}var ai=null;function pl(e,t,n,r){if(ai=null,e=mc(r),e=Yn(e),e!==null)if(t=ur(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ai=e,null}function jh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ay()){case gc:return 1;case kh:return 4;case oi:case ly:return 16;case Sh:return 536870912;default:return 16}default:return 16}}var Nn=null,wc=null,Us=null;function $h(){if(Us)return Us;var e,t=wc,n=t.length,r,o="value"in Nn?Nn.value:Nn.textContent,s=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[s-r];r++);return Us=o.slice(e,1<r?1-r:void 0)}function Vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vs(){return!0}function Uu(){return!1}function ft(e){function t(n,r,o,s,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vs:Uu,this.isPropagationStopped=Uu,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vs)},persist:function(){},isPersistent:vs}),t}var qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=ft(qr),ss=ve({},qr,{view:0,detail:0}),ky=ft(ss),ya,xa,so,Hi=ve({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==so&&(so&&e.type==="mousemove"?(ya=e.screenX-so.screenX,xa=e.screenY-so.screenY):xa=ya=0,so=e),ya)},movementY:function(e){return"movementY"in e?e.movementY:xa}}),Vu=ft(Hi),Sy=ve({},Hi,{dataTransfer:0}),Ny=ft(Sy),Ey=ve({},ss,{relatedTarget:0}),va=ft(Ey),by=ve({},qr,{animationName:0,elapsedTime:0,pseudoElement:0}),_y=ft(by),Cy=ve({},qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),My=ft(Cy),Ty=ve({},qr,{data:0}),Bu=ft(Ty),jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Py={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ay(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Py[e])?!!t[e]:!1}function Sc(){return Ay}var Iy=ve({},ss,{key:function(e){if(e.key){var t=jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$y[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sc,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dy=ft(Iy),zy=ve({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wu=ft(zy),Ly=ve({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sc}),Ry=ft(Ly),Fy=ve({},qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oy=ft(Fy),Hy=ve({},Hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uy=ft(Hy),Vy=[9,13,27,32],Nc=en&&"CompositionEvent"in window,Eo=null;en&&"documentMode"in document&&(Eo=document.documentMode);var By=en&&"TextEvent"in window&&!Eo,Ph=en&&(!Nc||Eo&&8<Eo&&11>=Eo),Yu=" ",Xu=!1;function Ah(e,t){switch(e){case"keyup":return Vy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ih(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function Wy(e,t){switch(e){case"compositionend":return Ih(t);case"keypress":return t.which!==32?null:(Xu=!0,Yu);case"textInput":return e=t.data,e===Yu&&Xu?null:e;default:return null}}function Yy(e,t){if(xr)return e==="compositionend"||!Nc&&Ah(e,t)?(e=$h(),Us=wc=Nn=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ph&&t.locale!=="ko"?null:t.data;default:return null}}var Xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xy[e.type]:t==="textarea"}function Dh(e,t,n,r){fh(r),t=li(t,"onChange"),0<t.length&&(n=new kc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var bo=null,Lo=null;function Gy(e){Yh(e,0)}function Ui(e){var t=kr(e);if(sh(t))return e}function Qy(e,t){if(e==="change")return t}var zh=!1;if(en){var wa;if(en){var ka="oninput"in document;if(!ka){var Qu=document.createElement("div");Qu.setAttribute("oninput","return;"),ka=typeof Qu.oninput=="function"}wa=ka}else wa=!1;zh=wa&&(!document.documentMode||9<document.documentMode)}function Ku(){bo&&(bo.detachEvent("onpropertychange",Lh),Lo=bo=null)}function Lh(e){if(e.propertyName==="value"&&Ui(Lo)){var t=[];Dh(t,Lo,e,mc(e)),gh(Gy,t)}}function Ky(e,t,n){e==="focusin"?(Ku(),bo=t,Lo=n,bo.attachEvent("onpropertychange",Lh)):e==="focusout"&&Ku()}function Zy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ui(Lo)}function qy(e,t){if(e==="click")return Ui(t)}function Jy(e,t){if(e==="input"||e==="change")return Ui(t)}function ex(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:ex;function Ro(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Ka.call(t,o)||!At(e[o],t[o]))return!1}return!0}function Zu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qu(e,t){var n=Zu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zu(n)}}function Rh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fh(){for(var e=window,t=ti();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ti(e.document)}return t}function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tx(e){var t=Fh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rh(n.ownerDocument.documentElement,n)){if(r!==null&&Ec(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!e.extend&&s>r&&(o=r,r=s,s=o),o=qu(n,s);var i=qu(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nx=en&&"documentMode"in document&&11>=document.documentMode,vr=null,ml=null,_o=null,gl=!1;function Ju(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gl||vr==null||vr!==ti(r)||(r=vr,"selectionStart"in r&&Ec(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_o&&Ro(_o,r)||(_o=r,r=li(ml,"onSelect"),0<r.length&&(t=new kc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},Sa={},Oh={};en&&(Oh=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function Vi(e){if(Sa[e])return Sa[e];if(!wr[e])return e;var t=wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Oh)return Sa[e]=t[n];return e}var Hh=Vi("animationend"),Uh=Vi("animationiteration"),Vh=Vi("animationstart"),Bh=Vi("transitionend"),Wh=new Map,ed="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(e,t){Wh.set(e,t),cr(t,[e])}for(var Na=0;Na<ed.length;Na++){var Ea=ed[Na],rx=Ea.toLowerCase(),ox=Ea[0].toUpperCase()+Ea.slice(1);Ln(rx,"on"+ox)}Ln(Hh,"onAnimationEnd");Ln(Uh,"onAnimationIteration");Ln(Vh,"onAnimationStart");Ln("dblclick","onDoubleClick");Ln("focusin","onFocus");Ln("focusout","onBlur");Ln(Bh,"onTransitionEnd");Fr("onMouseEnter",["mouseout","mouseover"]);Fr("onMouseLeave",["mouseout","mouseover"]);Fr("onPointerEnter",["pointerout","pointerover"]);Fr("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sx=new Set("cancel close invalid load scroll toggle".split(" ").concat(xo));function td(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ry(r,t,void 0,e),e.currentTarget=null}function Yh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&o.isPropagationStopped())break e;td(o,a,c),s=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&o.isPropagationStopped())break e;td(o,a,c),s=l}}}if(ri)throw e=dl,ri=!1,dl=null,e}function he(e,t){var n=t[kl];n===void 0&&(n=t[kl]=new Set);var r=e+"__bubble";n.has(r)||(Xh(t,e,2,!1),n.add(r))}function ba(e,t,n){var r=0;t&&(r|=4),Xh(n,e,r,t)}var ks="_reactListening"+Math.random().toString(36).slice(2);function Fo(e){if(!e[ks]){e[ks]=!0,eh.forEach(function(n){n!=="selectionchange"&&(sx.has(n)||ba(n,!1,e),ba(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ks]||(t[ks]=!0,ba("selectionchange",!1,t))}}function Xh(e,t,n,r){switch(jh(t)){case 1:var o=vy;break;case 4:o=wy;break;default:o=vc}n=o.bind(null,t,n,e),o=void 0,!ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function _a(e,t,n,r,o){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Yn(a),i===null)return;if(l=i.tag,l===5||l===6){r=s=i;continue e}a=a.parentNode}}r=r.return}gh(function(){var c=s,u=mc(n),d=[];e:{var f=Wh.get(e);if(f!==void 0){var p=kc,x=e;switch(e){case"keypress":if(Vs(n)===0)break e;case"keydown":case"keyup":p=Dy;break;case"focusin":x="focus",p=va;break;case"focusout":x="blur",p=va;break;case"beforeblur":case"afterblur":p=va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ry;break;case Hh:case Uh:case Vh:p=_y;break;case Bh:p=Oy;break;case"scroll":p=ky;break;case"wheel":p=Uy;break;case"copy":case"cut":case"paste":p=My;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Wu}var y=(t&4)!==0,k=!y&&e==="scroll",h=y?f!==null?f+"Capture":null:f;y=[];for(var g=c,w;g!==null;){w=g;var v=w.stateNode;if(w.tag===5&&v!==null&&(w=v,h!==null&&(v=Ao(g,h),v!=null&&y.push(Oo(g,v,w)))),k)break;g=g.return}0<y.length&&(f=new p(f,x,null,n,u),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==ll&&(x=n.relatedTarget||n.fromElement)&&(Yn(x)||x[tn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=c,x=x?Yn(x):null,x!==null&&(k=ur(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=c),p!==x)){if(y=Vu,v="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Wu,v="onPointerLeave",h="onPointerEnter",g="pointer"),k=p==null?f:kr(p),w=x==null?f:kr(x),f=new y(v,g+"leave",p,n,u),f.target=k,f.relatedTarget=w,v=null,Yn(u)===c&&(y=new y(h,g+"enter",x,n,u),y.target=w,y.relatedTarget=k,v=y),k=v,p&&x)t:{for(y=p,h=x,g=0,w=y;w;w=dr(w))g++;for(w=0,v=h;v;v=dr(v))w++;for(;0<g-w;)y=dr(y),g--;for(;0<w-g;)h=dr(h),w--;for(;g--;){if(y===h||h!==null&&y===h.alternate)break t;y=dr(y),h=dr(h)}y=null}else y=null;p!==null&&nd(d,f,p,y,!1),x!==null&&k!==null&&nd(d,k,x,y,!0)}}e:{if(f=c?kr(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=Qy;else if(Gu(f))if(zh)S=Jy;else{S=Zy;var _=Ky}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=qy);if(S&&(S=S(e,c))){Dh(d,S,n,u);break e}_&&_(e,f,c),e==="focusout"&&(_=f._wrapperState)&&_.controlled&&f.type==="number"&&rl(f,"number",f.value)}switch(_=c?kr(c):window,e){case"focusin":(Gu(_)||_.contentEditable==="true")&&(vr=_,ml=c,_o=null);break;case"focusout":_o=ml=vr=null;break;case"mousedown":gl=!0;break;case"contextmenu":case"mouseup":case"dragend":gl=!1,Ju(d,n,u);break;case"selectionchange":if(nx)break;case"keydown":case"keyup":Ju(d,n,u)}var C;if(Nc)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else xr?Ah(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Ph&&n.locale!=="ko"&&(xr||P!=="onCompositionStart"?P==="onCompositionEnd"&&xr&&(C=$h()):(Nn=u,wc="value"in Nn?Nn.value:Nn.textContent,xr=!0)),_=li(c,P),0<_.length&&(P=new Bu(P,e,null,n,u),d.push({event:P,listeners:_}),C?P.data=C:(C=Ih(n),C!==null&&(P.data=C)))),(C=By?Wy(e,n):Yy(e,n))&&(c=li(c,"onBeforeInput"),0<c.length&&(u=new Bu("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}Yh(d,t)})}function Oo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function li(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Ao(e,n),s!=null&&r.unshift(Oo(e,s,o)),s=Ao(e,t),s!=null&&r.push(Oo(e,s,o))),e=e.return}return r}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function nd(e,t,n,r,o){for(var s=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Ao(n,s),l!=null&&i.unshift(Oo(n,l,a))):o||(l=Ao(n,s),l!=null&&i.push(Oo(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ix=/\r\n?/g,ax=/\u0000|\uFFFD/g;function rd(e){return(typeof e=="string"?e:""+e).replace(ix,`
`).replace(ax,"")}function Ss(e,t,n){if(t=rd(t),rd(e)!==t&&n)throw Error(U(425))}function ci(){}var yl=null,xl=null;function vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wl=typeof setTimeout=="function"?setTimeout:void 0,lx=typeof clearTimeout=="function"?clearTimeout:void 0,od=typeof Promise=="function"?Promise:void 0,cx=typeof queueMicrotask=="function"?queueMicrotask:typeof od<"u"?function(e){return od.resolve(null).then(e).catch(ux)}:wl;function ux(e){setTimeout(function(){throw e})}function Ca(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),zo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);zo(t)}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Jr,Ho="__reactProps$"+Jr,tn="__reactContainer$"+Jr,kl="__reactEvents$"+Jr,dx="__reactListeners$"+Jr,fx="__reactHandles$"+Jr;function Yn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[tn]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sd(e);e!==null;){if(n=e[Rt])return n;e=sd(e)}return t}e=n,n=e.parentNode}return null}function is(e){return e=e[Rt]||e[tn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Bi(e){return e[Ho]||null}var Sl=[],Sr=-1;function Rn(e){return{current:e}}function pe(e){0>Sr||(e.current=Sl[Sr],Sl[Sr]=null,Sr--)}function de(e,t){Sr++,Sl[Sr]=e.current,e.current=t}var zn={},Ve=Rn(zn),et=Rn(!1),nr=zn;function Or(e,t){var n=e.type.contextTypes;if(!n)return zn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function tt(e){return e=e.childContextTypes,e!=null}function ui(){pe(et),pe(Ve)}function id(e,t,n){if(Ve.current!==zn)throw Error(U(168));de(Ve,t),de(et,n)}function Gh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(U(108,Kg(e)||"Unknown",o));return ve({},n,r)}function di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,nr=Ve.current,de(Ve,e),de(et,et.current),!0}function ad(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Gh(e,t,nr),r.__reactInternalMemoizedMergedChildContext=e,pe(et),pe(Ve),de(Ve,e)):pe(et),de(et,n)}var Gt=null,Wi=!1,Ma=!1;function Qh(e){Gt===null?Gt=[e]:Gt.push(e)}function hx(e){Wi=!0,Qh(e)}function Fn(){if(!Ma&&Gt!==null){Ma=!0;var e=0,t=ce;try{var n=Gt;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Gt=null,Wi=!1}catch(o){throw Gt!==null&&(Gt=Gt.slice(e+1)),wh(gc,Fn),o}finally{ce=t,Ma=!1}}return null}var Nr=[],Er=0,fi=null,hi=0,mt=[],gt=0,rr=null,Qt=1,Kt="";function Vn(e,t){Nr[Er++]=hi,Nr[Er++]=fi,fi=e,hi=t}function Kh(e,t,n){mt[gt++]=Qt,mt[gt++]=Kt,mt[gt++]=rr,rr=e;var r=Qt;e=Kt;var o=32-$t(r)-1;r&=~(1<<o),n+=1;var s=32-$t(t)+o;if(30<s){var i=o-o%5;s=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Qt=1<<32-$t(t)+o|n<<o|r,Kt=s+e}else Qt=1<<s|n<<o|r,Kt=e}function bc(e){e.return!==null&&(Vn(e,1),Kh(e,1,0))}function _c(e){for(;e===fi;)fi=Nr[--Er],Nr[Er]=null,hi=Nr[--Er],Nr[Er]=null;for(;e===rr;)rr=mt[--gt],mt[gt]=null,Kt=mt[--gt],mt[gt]=null,Qt=mt[--gt],mt[gt]=null}var at=null,it=null,me=!1,Tt=null;function Zh(e,t){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ld(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,it=Tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rr!==null?{id:Qt,overflow:Kt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,it=null,!0):!1;default:return!1}}function Nl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function El(e){if(me){var t=it;if(t){var n=t;if(!ld(e,t)){if(Nl(e))throw Error(U(418));t=Tn(n.nextSibling);var r=at;t&&ld(e,t)?Zh(r,n):(e.flags=e.flags&-4097|2,me=!1,at=e)}}else{if(Nl(e))throw Error(U(418));e.flags=e.flags&-4097|2,me=!1,at=e}}}function cd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Ns(e){if(e!==at)return!1;if(!me)return cd(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vl(e.type,e.memoizedProps)),t&&(t=it)){if(Nl(e))throw qh(),Error(U(418));for(;t;)Zh(e,t),t=Tn(t.nextSibling)}if(cd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=Tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=at?Tn(e.stateNode.nextSibling):null;return!0}function qh(){for(var e=it;e;)e=Tn(e.nextSibling)}function Hr(){it=at=null,me=!1}function Cc(e){Tt===null?Tt=[e]:Tt.push(e)}var px=an.ReactCurrentBatchConfig;function io(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var o=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var a=o.refs;i===null?delete a[s]:a[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Es(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ud(e){var t=e._init;return t(e._payload)}function Jh(e){function t(h,g){if(e){var w=h.deletions;w===null?(h.deletions=[g],h.flags|=16):w.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function o(h,g){return h=An(h,g),h.index=0,h.sibling=null,h}function s(h,g,w){return h.index=w,e?(w=h.alternate,w!==null?(w=w.index,w<g?(h.flags|=2,g):w):(h.flags|=2,g)):(h.flags|=1048576,g)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,g,w,v){return g===null||g.tag!==6?(g=Da(w,h.mode,v),g.return=h,g):(g=o(g,w),g.return=h,g)}function l(h,g,w,v){var S=w.type;return S===yr?u(h,g,w.props.children,v,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gn&&ud(S)===g.type)?(v=o(g,w.props),v.ref=io(h,g,w),v.return=h,v):(v=Ks(w.type,w.key,w.props,null,h.mode,v),v.ref=io(h,g,w),v.return=h,v)}function c(h,g,w,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=za(w,h.mode,v),g.return=h,g):(g=o(g,w.children||[]),g.return=h,g)}function u(h,g,w,v,S){return g===null||g.tag!==7?(g=qn(w,h.mode,v,S),g.return=h,g):(g=o(g,w),g.return=h,g)}function d(h,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Da(""+g,h.mode,w),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hs:return w=Ks(g.type,g.key,g.props,null,h.mode,w),w.ref=io(h,null,g),w.return=h,w;case gr:return g=za(g,h.mode,w),g.return=h,g;case gn:var v=g._init;return d(h,v(g._payload),w)}if(go(g)||to(g))return g=qn(g,h.mode,w,null),g.return=h,g;Es(h,g)}return null}function f(h,g,w,v){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(h,g,""+w,v);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hs:return w.key===S?l(h,g,w,v):null;case gr:return w.key===S?c(h,g,w,v):null;case gn:return S=w._init,f(h,g,S(w._payload),v)}if(go(w)||to(w))return S!==null?null:u(h,g,w,v,null);Es(h,w)}return null}function p(h,g,w,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return h=h.get(w)||null,a(g,h,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hs:return h=h.get(v.key===null?w:v.key)||null,l(g,h,v,S);case gr:return h=h.get(v.key===null?w:v.key)||null,c(g,h,v,S);case gn:var _=v._init;return p(h,g,w,_(v._payload),S)}if(go(v)||to(v))return h=h.get(w)||null,u(g,h,v,S,null);Es(g,v)}return null}function x(h,g,w,v){for(var S=null,_=null,C=g,P=g=0,A=null;C!==null&&P<w.length;P++){C.index>P?(A=C,C=null):A=C.sibling;var I=f(h,C,w[P],v);if(I===null){C===null&&(C=A);break}e&&C&&I.alternate===null&&t(h,C),g=s(I,g,P),_===null?S=I:_.sibling=I,_=I,C=A}if(P===w.length)return n(h,C),me&&Vn(h,P),S;if(C===null){for(;P<w.length;P++)C=d(h,w[P],v),C!==null&&(g=s(C,g,P),_===null?S=C:_.sibling=C,_=C);return me&&Vn(h,P),S}for(C=r(h,C);P<w.length;P++)A=p(C,h,P,w[P],v),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?P:A.key),g=s(A,g,P),_===null?S=A:_.sibling=A,_=A);return e&&C.forEach(function(F){return t(h,F)}),me&&Vn(h,P),S}function y(h,g,w,v){var S=to(w);if(typeof S!="function")throw Error(U(150));if(w=S.call(w),w==null)throw Error(U(151));for(var _=S=null,C=g,P=g=0,A=null,I=w.next();C!==null&&!I.done;P++,I=w.next()){C.index>P?(A=C,C=null):A=C.sibling;var F=f(h,C,I.value,v);if(F===null){C===null&&(C=A);break}e&&C&&F.alternate===null&&t(h,C),g=s(F,g,P),_===null?S=F:_.sibling=F,_=F,C=A}if(I.done)return n(h,C),me&&Vn(h,P),S;if(C===null){for(;!I.done;P++,I=w.next())I=d(h,I.value,v),I!==null&&(g=s(I,g,P),_===null?S=I:_.sibling=I,_=I);return me&&Vn(h,P),S}for(C=r(h,C);!I.done;P++,I=w.next())I=p(C,h,P,I.value,v),I!==null&&(e&&I.alternate!==null&&C.delete(I.key===null?P:I.key),g=s(I,g,P),_===null?S=I:_.sibling=I,_=I);return e&&C.forEach(function(H){return t(h,H)}),me&&Vn(h,P),S}function k(h,g,w,v){if(typeof w=="object"&&w!==null&&w.type===yr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case hs:e:{for(var S=w.key,_=g;_!==null;){if(_.key===S){if(S=w.type,S===yr){if(_.tag===7){n(h,_.sibling),g=o(_,w.props.children),g.return=h,h=g;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===gn&&ud(S)===_.type){n(h,_.sibling),g=o(_,w.props),g.ref=io(h,_,w),g.return=h,h=g;break e}n(h,_);break}else t(h,_);_=_.sibling}w.type===yr?(g=qn(w.props.children,h.mode,v,w.key),g.return=h,h=g):(v=Ks(w.type,w.key,w.props,null,h.mode,v),v.ref=io(h,g,w),v.return=h,h=v)}return i(h);case gr:e:{for(_=w.key;g!==null;){if(g.key===_)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(h,g.sibling),g=o(g,w.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=za(w,h.mode,v),g.return=h,h=g}return i(h);case gn:return _=w._init,k(h,g,_(w._payload),v)}if(go(w))return x(h,g,w,v);if(to(w))return y(h,g,w,v);Es(h,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(h,g.sibling),g=o(g,w),g.return=h,h=g):(n(h,g),g=Da(w,h.mode,v),g.return=h,h=g),i(h)):n(h,g)}return k}var Ur=Jh(!0),ep=Jh(!1),pi=Rn(null),mi=null,br=null,Mc=null;function Tc(){Mc=br=mi=null}function jc(e){var t=pi.current;pe(pi),e._currentValue=t}function bl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){mi=e,Mc=br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Mc!==e)if(e={context:e,memoizedValue:t,next:null},br===null){if(mi===null)throw Error(U(308));br=e,mi.dependencies={lanes:0,firstContext:e}}else br=br.next=e;return t}var Xn=null;function $c(e){Xn===null?Xn=[e]:Xn.push(e)}function tp(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,$c(t)):(n.next=o.next,o.next=n),t.interleaved=n,nn(e,r)}function nn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yn=!1;function Pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function np(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,nn(e,n)}return o=r.interleaved,o===null?(t.next=t,$c(r)):(t.next=o.next,o.next=t),r.interleaved=t,nn(e,n)}function Bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yc(e,n)}}function dd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=i:s=s.next=i,n=n.next}while(n!==null);s===null?o=s=t:s=s.next=t}else o=s=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function gi(e,t,n,r){var o=e.updateQueue;yn=!1;var s=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==i&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=o.baseState;i=0,u=c=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,y=a;switch(f=t,p=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){d=x.call(p,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,f=typeof x=="function"?x.call(p,d,f):x,f==null)break e;d=ve({},d,f);break e;case 2:yn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,i|=f;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;f=a,a=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else s===null&&(o.shared.lanes=0);sr|=i,e.lanes=i,e.memoizedState=d}}function fd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(U(191,o));o.call(r)}}}var as={},Ot=Rn(as),Uo=Rn(as),Vo=Rn(as);function Gn(e){if(e===as)throw Error(U(174));return e}function Ac(e,t){switch(de(Vo,t),de(Uo,e),de(Ot,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sl(t,e)}pe(Ot),de(Ot,t)}function Vr(){pe(Ot),pe(Uo),pe(Vo)}function rp(e){Gn(Vo.current);var t=Gn(Ot.current),n=sl(t,e.type);t!==n&&(de(Uo,e),de(Ot,n))}function Ic(e){Uo.current===e&&(pe(Ot),pe(Uo))}var ye=Rn(0);function yi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=[];function Dc(){for(var e=0;e<Ta.length;e++)Ta[e]._workInProgressVersionPrimary=null;Ta.length=0}var Ws=an.ReactCurrentDispatcher,ja=an.ReactCurrentBatchConfig,or=0,xe=null,Me=null,Ae=null,xi=!1,Co=!1,Bo=0,mx=0;function Oe(){throw Error(U(321))}function zc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!At(e[n],t[n]))return!1;return!0}function Lc(e,t,n,r,o,s){if(or=s,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=e===null||e.memoizedState===null?vx:wx,e=n(r,o),Co){s=0;do{if(Co=!1,Bo=0,25<=s)throw Error(U(301));s+=1,Ae=Me=null,t.updateQueue=null,Ws.current=kx,e=n(r,o)}while(Co)}if(Ws.current=vi,t=Me!==null&&Me.next!==null,or=0,Ae=Me=xe=null,xi=!1,t)throw Error(U(300));return e}function Rc(){var e=Bo!==0;return Bo=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?xe.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function St(){if(Me===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Ae===null?xe.memoizedState:Ae.next;if(t!==null)Ae=t,Me=e;else{if(e===null)throw Error(U(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ae===null?xe.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function Wo(e,t){return typeof t=="function"?t(e):t}function $a(e){var t=St(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Me,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var a=i=null,l=null,c=s;do{var u=c.lane;if((or&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,xe.lanes|=u,sr|=u}c=c.next}while(c!==null&&c!==s);l===null?i=r:l.next=a,At(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do s=o.lane,xe.lanes|=s,sr|=s,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pa(e){var t=St(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do s=e(s,i.action),i=i.next;while(i!==o);At(s,t.memoizedState)||(qe=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function op(){}function sp(e,t){var n=xe,r=St(),o=t(),s=!At(r.memoizedState,o);if(s&&(r.memoizedState=o,qe=!0),r=r.queue,Fc(lp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,Yo(9,ap.bind(null,n,r,o,t),void 0,null),Ie===null)throw Error(U(349));or&30||ip(n,t,o)}return o}function ip(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ap(e,t,n,r){t.value=n,t.getSnapshot=r,cp(t)&&up(e)}function lp(e,t,n){return n(function(){cp(t)&&up(e)})}function cp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!At(e,n)}catch{return!0}}function up(e){var t=nn(e,1);t!==null&&Pt(t,e,1,-1)}function hd(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t.queue=e,e=e.dispatch=xx.bind(null,xe,e),[t.memoizedState,e]}function Yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function dp(){return St().memoizedState}function Ys(e,t,n,r){var o=Lt();xe.flags|=e,o.memoizedState=Yo(1|t,n,void 0,r===void 0?null:r)}function Yi(e,t,n,r){var o=St();r=r===void 0?null:r;var s=void 0;if(Me!==null){var i=Me.memoizedState;if(s=i.destroy,r!==null&&zc(r,i.deps)){o.memoizedState=Yo(t,n,s,r);return}}xe.flags|=e,o.memoizedState=Yo(1|t,n,s,r)}function pd(e,t){return Ys(8390656,8,e,t)}function Fc(e,t){return Yi(2048,8,e,t)}function fp(e,t){return Yi(4,2,e,t)}function hp(e,t){return Yi(4,4,e,t)}function pp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mp(e,t,n){return n=n!=null?n.concat([e]):null,Yi(4,4,pp.bind(null,t,e),n)}function Oc(){}function gp(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zc(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function yp(e,t){var n=St();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zc(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xp(e,t,n){return or&21?(At(n,t)||(n=Nh(),xe.lanes|=n,sr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function gx(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=ja.transition;ja.transition={};try{e(!1),t()}finally{ce=n,ja.transition=r}}function vp(){return St().memoizedState}function yx(e,t,n){var r=Pn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},wp(e))kp(t,n);else if(n=tp(e,t,n,r),n!==null){var o=Xe();Pt(n,e,r,o),Sp(n,t,r)}}function xx(e,t,n){var r=Pn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(wp(e))kp(t,o);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,a=s(i,n);if(o.hasEagerState=!0,o.eagerState=a,At(a,i)){var l=t.interleaved;l===null?(o.next=o,$c(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=tp(e,t,o,r),n!==null&&(o=Xe(),Pt(n,e,r,o),Sp(n,t,r))}}function wp(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function kp(e,t){Co=xi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yc(e,n)}}var vi={readContext:kt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},vx={readContext:kt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:pd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ys(4194308,4,pp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ys(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ys(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=yx.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:hd,useDebugValue:Oc,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=hd(!1),t=e[0];return e=gx.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,o=Lt();if(me){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ie===null)throw Error(U(349));or&30||ip(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,pd(lp.bind(null,r,s,e),[e]),r.flags|=2048,Yo(9,ap.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Lt(),t=Ie.identifierPrefix;if(me){var n=Kt,r=Qt;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=mx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},wx={readContext:kt,useCallback:gp,useContext:kt,useEffect:Fc,useImperativeHandle:mp,useInsertionEffect:fp,useLayoutEffect:hp,useMemo:yp,useReducer:$a,useRef:dp,useState:function(){return $a(Wo)},useDebugValue:Oc,useDeferredValue:function(e){var t=St();return xp(t,Me.memoizedState,e)},useTransition:function(){var e=$a(Wo)[0],t=St().memoizedState;return[e,t]},useMutableSource:op,useSyncExternalStore:sp,useId:vp,unstable_isNewReconciler:!1},kx={readContext:kt,useCallback:gp,useContext:kt,useEffect:Fc,useImperativeHandle:mp,useInsertionEffect:fp,useLayoutEffect:hp,useMemo:yp,useReducer:Pa,useRef:dp,useState:function(){return Pa(Wo)},useDebugValue:Oc,useDeferredValue:function(e){var t=St();return Me===null?t.memoizedState=e:xp(t,Me.memoizedState,e)},useTransition:function(){var e=Pa(Wo)[0],t=St().memoizedState;return[e,t]},useMutableSource:op,useSyncExternalStore:sp,useId:vp,unstable_isNewReconciler:!1};function _t(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _l(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xi={isMounted:function(e){return(e=e._reactInternals)?ur(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),o=Pn(e),s=qt(r,o);s.payload=t,n!=null&&(s.callback=n),t=jn(e,s,o),t!==null&&(Pt(t,e,o,r),Bs(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),o=Pn(e),s=qt(r,o);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=jn(e,s,o),t!==null&&(Pt(t,e,o,r),Bs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=Pn(e),o=qt(n,r);o.tag=2,t!=null&&(o.callback=t),t=jn(e,o,r),t!==null&&(Pt(t,e,r,n),Bs(t,e,r))}};function md(e,t,n,r,o,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,i):t.prototype&&t.prototype.isPureReactComponent?!Ro(n,r)||!Ro(o,s):!0}function Np(e,t,n){var r=!1,o=zn,s=t.contextType;return typeof s=="object"&&s!==null?s=kt(s):(o=tt(t)?nr:Ve.current,r=t.contextTypes,s=(r=r!=null)?Or(e,o):zn),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=s),t}function gd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Xi.enqueueReplaceState(t,t.state,null)}function Cl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Pc(e);var s=t.contextType;typeof s=="object"&&s!==null?o.context=kt(s):(s=tt(t)?nr:Ve.current,o.context=Or(e,s)),o.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_l(e,t,s,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Xi.enqueueReplaceState(o,o.state,null),gi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Br(e,t){try{var n="",r=t;do n+=Qg(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:o,digest:null}}function Aa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ml(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sx=typeof WeakMap=="function"?WeakMap:Map;function Ep(e,t,n){n=qt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ki||(ki=!0,Rl=r),Ml(e,t)},n}function bp(e,t,n){n=qt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ml(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ml(e,t),typeof r!="function"&&($n===null?$n=new Set([this]):$n.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function yd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sx;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=zx.bind(null,e,t,n),t.then(e,e))}function xd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vd(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qt(-1,1),t.tag=2,jn(n,t,1))),n.lanes|=1),e)}var Nx=an.ReactCurrentOwner,qe=!1;function We(e,t,n,r){t.child=e===null?ep(t,null,n,r):Ur(t,e.child,n,r)}function wd(e,t,n,r,o){n=n.render;var s=t.ref;return Ar(t,o),r=Lc(e,t,n,r,s,o),n=Rc(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rn(e,t,o)):(me&&n&&bc(t),t.flags|=1,We(e,t,r,o),t.child)}function kd(e,t,n,r,o){if(e===null){var s=n.type;return typeof s=="function"&&!Gc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,_p(e,t,s,r,o)):(e=Ks(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&o)){var i=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ro,n(i,r)&&e.ref===t.ref)return rn(e,t,o)}return t.flags|=1,e=An(s,r),e.ref=t.ref,e.return=t,t.child=e}function _p(e,t,n,r,o){if(e!==null){var s=e.memoizedProps;if(Ro(s,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=s,(e.lanes&o)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,rn(e,t,o)}return Tl(e,t,n,r,o)}function Cp(e,t,n){var r=t.pendingProps,o=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Cr,st),st|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Cr,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,de(Cr,st),st|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,de(Cr,st),st|=r;return We(e,t,o,n),t.child}function Mp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tl(e,t,n,r,o){var s=tt(n)?nr:Ve.current;return s=Or(t,s),Ar(t,o),n=Lc(e,t,n,r,s,o),r=Rc(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,rn(e,t,o)):(me&&r&&bc(t),t.flags|=1,We(e,t,n,o),t.child)}function Sd(e,t,n,r,o){if(tt(n)){var s=!0;di(t)}else s=!1;if(Ar(t,o),t.stateNode===null)Xs(e,t),Np(t,n,r),Cl(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=kt(c):(c=tt(n)?nr:Ve.current,c=Or(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&gd(t,i,r,c),yn=!1;var f=t.memoizedState;i.state=f,gi(t,r,i,o),l=t.memoizedState,a!==r||f!==l||et.current||yn?(typeof u=="function"&&(_l(t,n,u,r),l=t.memoizedState),(a=yn||md(t,n,a,r,f,l,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,np(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:_t(t.type,a),i.props=c,d=t.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=kt(l):(l=tt(n)?nr:Ve.current,l=Or(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==l)&&gd(t,i,r,l),yn=!1,f=t.memoizedState,i.state=f,gi(t,r,i,o);var x=t.memoizedState;a!==d||f!==x||et.current||yn?(typeof p=="function"&&(_l(t,n,p,r),x=t.memoizedState),(c=yn||md(t,n,c,r,f,x,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,x,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,x,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),i.props=r,i.state=x,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return jl(e,t,n,r,s,o)}function jl(e,t,n,r,o,s){Mp(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&ad(t,n,!1),rn(e,t,s);r=t.stateNode,Nx.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ur(t,e.child,null,s),t.child=Ur(t,null,a,s)):We(e,t,a,s),t.memoizedState=r.state,o&&ad(t,n,!0),t.child}function Tp(e){var t=e.stateNode;t.pendingContext?id(e,t.pendingContext,t.pendingContext!==t.context):t.context&&id(e,t.context,!1),Ac(e,t.containerInfo)}function Nd(e,t,n,r,o){return Hr(),Cc(o),t.flags|=256,We(e,t,n,r),t.child}var $l={dehydrated:null,treeContext:null,retryLane:0};function Pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function jp(e,t,n){var r=t.pendingProps,o=ye.current,s=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),de(ye,o&1),e===null)return El(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,s?(r=t.mode,s=t.child,i={mode:"hidden",children:i},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Ki(i,r,0,null),e=qn(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Pl(n),t.memoizedState=$l,e):Hc(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Ex(e,t,i,r,a,o,n);if(s){s=r.fallback,i=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=An(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?s=An(a,s):(s=qn(s,i,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,i=e.child.memoizedState,i=i===null?Pl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~n,t.memoizedState=$l,r}return s=e.child,e=s.sibling,r=An(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Hc(e,t){return t=Ki({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,n,r){return r!==null&&Cc(r),Ur(t,e.child,null,n),e=Hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ex(e,t,n,r,o,s,i){if(n)return t.flags&256?(t.flags&=-257,r=Aa(Error(U(422))),bs(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ki({mode:"visible",children:r.children},o,0,null),s=qn(s,o,i,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Ur(t,e.child,null,i),t.child.memoizedState=Pl(i),t.memoizedState=$l,s);if(!(t.mode&1))return bs(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=Aa(s,r,void 0),bs(e,t,i,r)}if(a=(i&e.childLanes)!==0,qe||a){if(r=Ie,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,nn(e,o),Pt(r,e,o,-1))}return Xc(),r=Aa(Error(U(421))),bs(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Lx.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,it=Tn(o.nextSibling),at=t,me=!0,Tt=null,e!==null&&(mt[gt++]=Qt,mt[gt++]=Kt,mt[gt++]=rr,Qt=e.id,Kt=e.overflow,rr=t),t=Hc(t,r.children),t.flags|=4096,t)}function Ed(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bl(e.return,t,n)}function Ia(e,t,n,r,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function $p(e,t,n){var r=t.pendingProps,o=r.revealOrder,s=r.tail;if(We(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ed(e,n,t);else if(e.tag===19)Ed(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ye,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&yi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ia(t,!1,o,n,s);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ia(t,!0,n,null,s);break;case"together":Ia(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function rn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=An(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=An(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bx(e,t,n){switch(t.tag){case 3:Tp(t),Hr();break;case 5:rp(t);break;case 1:tt(t.type)&&di(t);break;case 4:Ac(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;de(pi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?jp(e,t,n):(de(ye,ye.current&1),e=rn(e,t,n),e!==null?e.sibling:null);de(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $p(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),de(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Cp(e,t,n)}return rn(e,t,n)}var Pp,Al,Ap,Ip;Pp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Al=function(){};Ap=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Gn(Ot.current);var s=null;switch(n){case"input":o=tl(e,o),r=tl(e,r),s=[];break;case"select":o=ve({},o,{value:void 0}),r=ve({},r,{value:void 0}),s=[];break;case"textarea":o=ol(e,o),r=ol(e,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ci)}il(n,r);var i;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($o.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&he("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};Ip=function(e,t,n,r){n!==r&&(t.flags|=4)};function ao(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _x(e,t,n){var r=t.pendingProps;switch(_c(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return tt(t.type)&&ui(),He(t),null;case 3:return r=t.stateNode,Vr(),pe(et),pe(Ve),Dc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(Hl(Tt),Tt=null))),Al(e,t),He(t),null;case 5:Ic(t);var o=Gn(Vo.current);if(n=t.type,e!==null&&t.stateNode!=null)Ap(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return He(t),null}if(e=Gn(Ot.current),Ns(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Rt]=t,r[Ho]=s,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(o=0;o<xo.length;o++)he(xo[o],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Au(r,s),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},he("invalid",r);break;case"textarea":Du(r,s),he("invalid",r)}il(n,s),o=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ss(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ss(r.textContent,a,e),o=["children",""+a]):$o.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&he("scroll",r)}switch(n){case"input":ps(r),Iu(r,s,!0);break;case"textarea":ps(r),zu(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ci)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Rt]=t,e[Ho]=r,Pp(e,t,!1,!1),t.stateNode=e;e:{switch(i=al(n,r),n){case"dialog":he("cancel",e),he("close",e),o=r;break;case"iframe":case"object":case"embed":he("load",e),o=r;break;case"video":case"audio":for(o=0;o<xo.length;o++)he(xo[o],e);o=r;break;case"source":he("error",e),o=r;break;case"img":case"image":case"link":he("error",e),he("load",e),o=r;break;case"details":he("toggle",e),o=r;break;case"input":Au(e,r),o=tl(e,r),he("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ve({},r,{value:void 0}),he("invalid",e);break;case"textarea":Du(e,r),o=ol(e,r),he("invalid",e);break;default:o=r}il(n,o),a=o;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?dh(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ch(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Po(e,l):typeof l=="number"&&Po(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($o.hasOwnProperty(s)?l!=null&&s==="onScroll"&&he("scroll",e):l!=null&&dc(e,s,l,i))}switch(n){case"input":ps(e),Iu(e,r,!1);break;case"textarea":ps(e),zu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Dn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Tr(e,!!r.multiple,s,!1):r.defaultValue!=null&&Tr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return He(t),null;case 6:if(e&&t.stateNode!=null)Ip(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Gn(Vo.current),Gn(Ot.current),Ns(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(s=r.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:Ss(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ss(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return He(t),null;case 13:if(pe(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&it!==null&&t.mode&1&&!(t.flags&128))qh(),Hr(),t.flags|=98560,s=!1;else if(s=Ns(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Rt]=t}else Hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),s=!1}else Tt!==null&&(Hl(Tt),Tt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Te===0&&(Te=3):Xc())),t.updateQueue!==null&&(t.flags|=4),He(t),null);case 4:return Vr(),Al(e,t),e===null&&Fo(t.stateNode.containerInfo),He(t),null;case 10:return jc(t.type._context),He(t),null;case 17:return tt(t.type)&&ui(),He(t),null;case 19:if(pe(ye),s=t.memoizedState,s===null)return He(t),null;if(r=(t.flags&128)!==0,i=s.rendering,i===null)if(r)ao(s,!1);else{if(Te!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=yi(e),i!==null){for(t.flags|=128,ao(s,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ye,ye.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ne()>Wr&&(t.flags|=128,r=!0,ao(s,!1),t.lanes=4194304)}else{if(!r)if(e=yi(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ao(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!me)return He(t),null}else 2*Ne()-s.renderingStartTime>Wr&&n!==1073741824&&(t.flags|=128,r=!0,ao(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(n=s.last,n!==null?n.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ne(),t.sibling=null,n=ye.current,de(ye,r?n&1|2:n&1),t):(He(t),null);case 22:case 23:return Yc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Cx(e,t){switch(_c(t),t.tag){case 1:return tt(t.type)&&ui(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vr(),pe(et),pe(Ve),Dc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ic(t),null;case 13:if(pe(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ye),null;case 4:return Vr(),null;case 10:return jc(t.type._context),null;case 22:case 23:return Yc(),null;case 24:return null;default:return null}}var _s=!1,Ue=!1,Mx=typeof WeakSet=="function"?WeakSet:Set,W=null;function _r(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function Il(e,t,n){try{n()}catch(r){ke(e,t,r)}}var bd=!1;function Tx(e,t){if(yl=ii,e=Fh(),Ec(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,u=0,d=e,f=null;t:for(;;){for(var p;d!==n||o!==0&&d.nodeType!==3||(a=i+o),d!==s||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===o&&(a=i),f===s&&++u===r&&(l=i),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xl={focusedElem:e,selectionRange:n},ii=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,k=x.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:_t(t.type,y),k);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(v){ke(t,t.return,v)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return x=bd,bd=!1,x}function Mo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var s=o.destroy;o.destroy=void 0,s!==void 0&&Il(t,n,s)}o=o.next}while(o!==r)}}function Gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Dp(e){var t=e.alternate;t!==null&&(e.alternate=null,Dp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[Ho],delete t[kl],delete t[dx],delete t[fx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zp(e){return e.tag===5||e.tag===3||e.tag===4}function _d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ci));else if(r!==4&&(e=e.child,e!==null))for(zl(e,t,n),e=e.sibling;e!==null;)zl(e,t,n),e=e.sibling}function Ll(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ll(e,t,n),e=e.sibling;e!==null;)Ll(e,t,n),e=e.sibling}var ze=null,Ct=!1;function hn(e,t,n){for(n=n.child;n!==null;)Lp(e,t,n),n=n.sibling}function Lp(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Oi,n)}catch{}switch(n.tag){case 5:Ue||_r(n,t);case 6:var r=ze,o=Ct;ze=null,hn(e,t,n),ze=r,Ct=o,ze!==null&&(Ct?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Ct?(e=ze,n=n.stateNode,e.nodeType===8?Ca(e.parentNode,n):e.nodeType===1&&Ca(e,n),zo(e)):Ca(ze,n.stateNode));break;case 4:r=ze,o=Ct,ze=n.stateNode.containerInfo,Ct=!0,hn(e,t,n),ze=r,Ct=o;break;case 0:case 11:case 14:case 15:if(!Ue&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Il(n,t,i),o=o.next}while(o!==r)}hn(e,t,n);break;case 1:if(!Ue&&(_r(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,t,a)}hn(e,t,n);break;case 21:hn(e,t,n);break;case 22:n.mode&1?(Ue=(r=Ue)||n.memoizedState!==null,hn(e,t,n),Ue=r):hn(e,t,n);break;default:hn(e,t,n)}}function Cd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mx),t.forEach(function(r){var o=Rx.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:ze=a.stateNode,Ct=!1;break e;case 3:ze=a.stateNode.containerInfo,Ct=!0;break e;case 4:ze=a.stateNode.containerInfo,Ct=!0;break e}a=a.return}if(ze===null)throw Error(U(160));Lp(s,i,o),ze=null,Ct=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){ke(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rp(t,e),t=t.sibling}function Rp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),zt(e),r&4){try{Mo(3,e,e.return),Gi(3,e)}catch(y){ke(e,e.return,y)}try{Mo(5,e,e.return)}catch(y){ke(e,e.return,y)}}break;case 1:Et(t,e),zt(e),r&512&&n!==null&&_r(n,n.return);break;case 5:if(Et(t,e),zt(e),r&512&&n!==null&&_r(n,n.return),e.flags&32){var o=e.stateNode;try{Po(o,"")}catch(y){ke(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var s=e.memoizedProps,i=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ih(o,s),al(a,i);var c=al(a,s);for(i=0;i<l.length;i+=2){var u=l[i],d=l[i+1];u==="style"?dh(o,d):u==="dangerouslySetInnerHTML"?ch(o,d):u==="children"?Po(o,d):dc(o,u,d,c)}switch(a){case"input":nl(o,s);break;case"textarea":ah(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Tr(o,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Tr(o,!!s.multiple,s.defaultValue,!0):Tr(o,!!s.multiple,s.multiple?[]:"",!1))}o[Ho]=s}catch(y){ke(e,e.return,y)}}break;case 6:if(Et(t,e),zt(e),r&4){if(e.stateNode===null)throw Error(U(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(y){ke(e,e.return,y)}}break;case 3:if(Et(t,e),zt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zo(t.containerInfo)}catch(y){ke(e,e.return,y)}break;case 4:Et(t,e),zt(e);break;case 13:Et(t,e),zt(e),o=e.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Bc=Ne())),r&4&&Cd(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Ue=(c=Ue)||u,Et(t,e),Ue=c):Et(t,e),zt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(d=W=u;W!==null;){switch(f=W,p=f.child,f.tag){case 0:case 11:case 14:case 15:Mo(4,f,f.return);break;case 1:_r(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){ke(r,n,y)}}break;case 5:_r(f,f.return);break;case 22:if(f.memoizedState!==null){Td(d);continue}}p!==null?(p.return=f,W=p):Td(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uh("display",i))}catch(y){ke(e,e.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ke(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Et(t,e),zt(e),r&4&&Cd(e);break;case 21:break;default:Et(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zp(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Po(o,""),r.flags&=-33);var s=_d(e);Ll(e,s,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=_d(e);zl(e,a,i);break;default:throw Error(U(161))}}catch(l){ke(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jx(e,t,n){W=e,Fp(e)}function Fp(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,s=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||_s;if(!i){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Ue;a=_s;var c=Ue;if(_s=i,(Ue=l)&&!c)for(W=o;W!==null;)i=W,l=i.child,i.tag===22&&i.memoizedState!==null?jd(o):l!==null?(l.return=i,W=l):jd(o);for(;s!==null;)W=s,Fp(s),s=s.sibling;W=o,_s=a,Ue=c}Md(e)}else o.subtreeFlags&8772&&s!==null?(s.return=o,W=s):Md(e)}}function Md(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ue||Gi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ue)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:_t(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&fd(t,s,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fd(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&zo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ue||t.flags&512&&Dl(t)}catch(f){ke(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Td(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function jd(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Gi(4,t)}catch(l){ke(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){ke(t,o,l)}}var s=t.return;try{Dl(t)}catch(l){ke(t,s,l)}break;case 5:var i=t.return;try{Dl(t)}catch(l){ke(t,i,l)}}}catch(l){ke(t,t.return,l)}if(t===e){W=null;break}var a=t.sibling;if(a!==null){a.return=t.return,W=a;break}W=t.return}}var $x=Math.ceil,wi=an.ReactCurrentDispatcher,Uc=an.ReactCurrentOwner,wt=an.ReactCurrentBatchConfig,se=0,Ie=null,Ee=null,Le=0,st=0,Cr=Rn(0),Te=0,Xo=null,sr=0,Qi=0,Vc=0,To=null,Ze=null,Bc=0,Wr=1/0,Xt=null,ki=!1,Rl=null,$n=null,Cs=!1,En=null,Si=0,jo=0,Fl=null,Gs=-1,Qs=0;function Xe(){return se&6?Ne():Gs!==-1?Gs:Gs=Ne()}function Pn(e){return e.mode&1?se&2&&Le!==0?Le&-Le:px.transition!==null?(Qs===0&&(Qs=Nh()),Qs):(e=ce,e!==0||(e=window.event,e=e===void 0?16:jh(e.type)),e):1}function Pt(e,t,n,r){if(50<jo)throw jo=0,Fl=null,Error(U(185));os(e,n,r),(!(se&2)||e!==Ie)&&(e===Ie&&(!(se&2)&&(Qi|=n),Te===4&&kn(e,Le)),nt(e,r),n===1&&se===0&&!(t.mode&1)&&(Wr=Ne()+500,Wi&&Fn()))}function nt(e,t){var n=e.callbackNode;py(e,t);var r=si(e,e===Ie?Le:0);if(r===0)n!==null&&Fu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Fu(n),t===1)e.tag===0?hx($d.bind(null,e)):Qh($d.bind(null,e)),cx(function(){!(se&6)&&Fn()}),n=null;else{switch(Eh(r)){case 1:n=gc;break;case 4:n=kh;break;case 16:n=oi;break;case 536870912:n=Sh;break;default:n=oi}n=Xp(n,Op.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Op(e,t){if(Gs=-1,Qs=0,se&6)throw Error(U(327));var n=e.callbackNode;if(Ir()&&e.callbackNode!==n)return null;var r=si(e,e===Ie?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ni(e,r);else{t=r;var o=se;se|=2;var s=Up();(Ie!==e||Le!==t)&&(Xt=null,Wr=Ne()+500,Zn(e,t));do try{Ix();break}catch(a){Hp(e,a)}while(!0);Tc(),wi.current=s,se=o,Ee!==null?t=0:(Ie=null,Le=0,t=Te)}if(t!==0){if(t===2&&(o=fl(e),o!==0&&(r=o,t=Ol(e,o))),t===1)throw n=Xo,Zn(e,0),kn(e,r),nt(e,Ne()),n;if(t===6)kn(e,r);else{if(o=e.current.alternate,!(r&30)&&!Px(o)&&(t=Ni(e,r),t===2&&(s=fl(e),s!==0&&(r=s,t=Ol(e,s))),t===1))throw n=Xo,Zn(e,0),kn(e,r),nt(e,Ne()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Bn(e,Ze,Xt);break;case 3:if(kn(e,r),(r&130023424)===r&&(t=Bc+500-Ne(),10<t)){if(si(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=wl(Bn.bind(null,e,Ze,Xt),t);break}Bn(e,Ze,Xt);break;case 4:if(kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-$t(r);s=1<<i,i=t[i],i>o&&(o=i),r&=~s}if(r=o,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$x(r/1960))-r,10<r){e.timeoutHandle=wl(Bn.bind(null,e,Ze,Xt),r);break}Bn(e,Ze,Xt);break;case 5:Bn(e,Ze,Xt);break;default:throw Error(U(329))}}}return nt(e,Ne()),e.callbackNode===n?Op.bind(null,e):null}function Ol(e,t){var n=To;return e.current.memoizedState.isDehydrated&&(Zn(e,t).flags|=256),e=Ni(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Hl(t)),e}function Hl(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function Px(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!At(s(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~Vc,t&=~Qi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function $d(e){if(se&6)throw Error(U(327));Ir();var t=si(e,0);if(!(t&1))return nt(e,Ne()),null;var n=Ni(e,t);if(e.tag!==0&&n===2){var r=fl(e);r!==0&&(t=r,n=Ol(e,r))}if(n===1)throw n=Xo,Zn(e,0),kn(e,t),nt(e,Ne()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bn(e,Ze,Xt),nt(e,Ne()),null}function Wc(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Wr=Ne()+500,Wi&&Fn())}}function ir(e){En!==null&&En.tag===0&&!(se&6)&&Ir();var t=se;se|=1;var n=wt.transition,r=ce;try{if(wt.transition=null,ce=1,e)return e()}finally{ce=r,wt.transition=n,se=t,!(se&6)&&Fn()}}function Yc(){st=Cr.current,pe(Cr)}function Zn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lx(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(_c(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ui();break;case 3:Vr(),pe(et),pe(Ve),Dc();break;case 5:Ic(r);break;case 4:Vr();break;case 13:pe(ye);break;case 19:pe(ye);break;case 10:jc(r.type._context);break;case 22:case 23:Yc()}n=n.return}if(Ie=e,Ee=e=An(e.current,null),Le=st=t,Te=0,Xo=null,Vc=Qi=sr=0,Ze=To=null,Xn!==null){for(t=0;t<Xn.length;t++)if(n=Xn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var i=s.next;s.next=o,r.next=i}n.pending=r}Xn=null}return e}function Hp(e,t){do{var n=Ee;try{if(Tc(),Ws.current=vi,xi){for(var r=xe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}xi=!1}if(or=0,Ae=Me=xe=null,Co=!1,Bo=0,Uc.current=null,n===null||n.return===null){Te=1,Xo=t,Ee=null;break}e:{var s=e,i=n.return,a=n,l=t;if(t=Le,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=xd(i);if(p!==null){p.flags&=-257,vd(p,i,a,s,t),p.mode&1&&yd(s,c,t),t=p,l=c;var x=t.updateQueue;if(x===null){var y=new Set;y.add(l),t.updateQueue=y}else x.add(l);break e}else{if(!(t&1)){yd(s,c,t),Xc();break e}l=Error(U(426))}}else if(me&&a.mode&1){var k=xd(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),vd(k,i,a,s,t),Cc(Br(l,a));break e}}s=l=Br(l,a),Te!==4&&(Te=2),To===null?To=[s]:To.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=Ep(s,l,t);dd(s,h);break e;case 1:a=l;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($n===null||!$n.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var v=bp(s,a,t);dd(s,v);break e}}s=s.return}while(s!==null)}Bp(n)}catch(S){t=S,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function Up(){var e=wi.current;return wi.current=vi,e===null?vi:e}function Xc(){(Te===0||Te===3||Te===2)&&(Te=4),Ie===null||!(sr&268435455)&&!(Qi&268435455)||kn(Ie,Le)}function Ni(e,t){var n=se;se|=2;var r=Up();(Ie!==e||Le!==t)&&(Xt=null,Zn(e,t));do try{Ax();break}catch(o){Hp(e,o)}while(!0);if(Tc(),se=n,wi.current=r,Ee!==null)throw Error(U(261));return Ie=null,Le=0,Te}function Ax(){for(;Ee!==null;)Vp(Ee)}function Ix(){for(;Ee!==null&&!sy();)Vp(Ee)}function Vp(e){var t=Yp(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?Bp(e):Ee=t,Uc.current=null}function Bp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Cx(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Te=6,Ee=null;return}}else if(n=_x(n,t,st),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Te===0&&(Te=5)}function Bn(e,t,n){var r=ce,o=wt.transition;try{wt.transition=null,ce=1,Dx(e,t,n,r)}finally{wt.transition=o,ce=r}return null}function Dx(e,t,n,r){do Ir();while(En!==null);if(se&6)throw Error(U(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(my(e,s),e===Ie&&(Ee=Ie=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cs||(Cs=!0,Xp(oi,function(){return Ir(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wt.transition,wt.transition=null;var i=ce;ce=1;var a=se;se|=4,Uc.current=null,Tx(e,n),Rp(n,e),tx(xl),ii=!!yl,xl=yl=null,e.current=n,jx(n),iy(),se=a,ce=i,wt.transition=s}else e.current=n;if(Cs&&(Cs=!1,En=e,Si=o),s=e.pendingLanes,s===0&&($n=null),cy(n.stateNode),nt(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(ki)throw ki=!1,e=Rl,Rl=null,e;return Si&1&&e.tag!==0&&Ir(),s=e.pendingLanes,s&1?e===Fl?jo++:(jo=0,Fl=e):jo=0,Fn(),null}function Ir(){if(En!==null){var e=Eh(Si),t=wt.transition,n=ce;try{if(wt.transition=null,ce=16>e?16:e,En===null)var r=!1;else{if(e=En,En=null,Si=0,se&6)throw Error(U(331));var o=se;for(se|=4,W=e.current;W!==null;){var s=W,i=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:Mo(8,u,s)}var d=u.child;if(d!==null)d.return=u,W=d;else for(;W!==null;){u=W;var f=u.sibling,p=u.return;if(Dp(u),u===c){W=null;break}if(f!==null){f.return=p,W=f;break}W=p}}}var x=s.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}W=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,W=i;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mo(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,W=h;break e}W=s.return}}var g=e.current;for(W=g;W!==null;){i=W;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,W=w;else e:for(i=g;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gi(9,a)}}catch(S){ke(a,a.return,S)}if(a===i){W=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,W=v;break e}W=a.return}}if(se=o,Fn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Oi,e)}catch{}r=!0}return r}finally{ce=n,wt.transition=t}}return!1}function Pd(e,t,n){t=Br(n,t),t=Ep(e,t,1),e=jn(e,t,1),t=Xe(),e!==null&&(os(e,1,t),nt(e,t))}function ke(e,t,n){if(e.tag===3)Pd(e,e,n);else for(;t!==null;){if(t.tag===3){Pd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($n===null||!$n.has(r))){e=Br(n,e),e=bp(t,e,1),t=jn(t,e,1),e=Xe(),t!==null&&(os(t,1,e),nt(t,e));break}}t=t.return}}function zx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Ie===e&&(Le&n)===n&&(Te===4||Te===3&&(Le&130023424)===Le&&500>Ne()-Bc?Zn(e,0):Vc|=n),nt(e,t)}function Wp(e,t){t===0&&(e.mode&1?(t=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):t=1);var n=Xe();e=nn(e,t),e!==null&&(os(e,t,n),nt(e,n))}function Lx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wp(e,n)}function Rx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Wp(e,n)}var Yp;Yp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,bx(e,t,n);qe=!!(e.flags&131072)}else qe=!1,me&&t.flags&1048576&&Kh(t,hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Xs(e,t),e=t.pendingProps;var o=Or(t,Ve.current);Ar(t,n),o=Lc(null,t,r,e,o,n);var s=Rc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(s=!0,di(t)):s=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Pc(t),o.updater=Xi,t.stateNode=o,o._reactInternals=t,Cl(t,r,e,n),t=jl(null,t,r,!0,s,n)):(t.tag=0,me&&s&&bc(t),We(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Xs(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Ox(r),e=_t(r,e),o){case 0:t=Tl(null,t,r,e,n);break e;case 1:t=Sd(null,t,r,e,n);break e;case 11:t=wd(null,t,r,e,n);break e;case 14:t=kd(null,t,r,_t(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_t(r,o),Tl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_t(r,o),Sd(e,t,r,o,n);case 3:e:{if(Tp(t),e===null)throw Error(U(387));r=t.pendingProps,s=t.memoizedState,o=s.element,np(e,t),gi(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){o=Br(Error(U(423)),t),t=Nd(e,t,r,n,o);break e}else if(r!==o){o=Br(Error(U(424)),t),t=Nd(e,t,r,n,o);break e}else for(it=Tn(t.stateNode.containerInfo.firstChild),at=t,me=!0,Tt=null,n=ep(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hr(),r===o){t=rn(e,t,n);break e}We(e,t,r,n)}t=t.child}return t;case 5:return rp(t),e===null&&El(t),r=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,i=o.children,vl(r,o)?i=null:s!==null&&vl(r,s)&&(t.flags|=32),Mp(e,t),We(e,t,i,n),t.child;case 6:return e===null&&El(t),null;case 13:return jp(e,t,n);case 4:return Ac(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ur(t,null,r,n):We(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_t(r,o),wd(e,t,r,o,n);case 7:return We(e,t,t.pendingProps,n),t.child;case 8:return We(e,t,t.pendingProps.children,n),t.child;case 12:return We(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,de(pi,r._currentValue),r._currentValue=i,s!==null)if(At(s.value,i)){if(s.children===o.children&&!et.current){t=rn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=qt(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),bl(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(U(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),bl(i,n,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}We(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ar(t,n),o=kt(o),r=r(o),t.flags|=1,We(e,t,r,n),t.child;case 14:return r=t.type,o=_t(r,t.pendingProps),o=_t(r.type,o),kd(e,t,r,o,n);case 15:return _p(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:_t(r,o),Xs(e,t),t.tag=1,tt(r)?(e=!0,di(t)):e=!1,Ar(t,n),Np(t,r,o),Cl(t,r,o,n),jl(null,t,r,!0,e,n);case 19:return $p(e,t,n);case 22:return Cp(e,t,n)}throw Error(U(156,t.tag))};function Xp(e,t){return wh(e,t)}function Fx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,t,n,r){return new Fx(e,t,n,r)}function Gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ox(e){if(typeof e=="function")return Gc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hc)return 11;if(e===pc)return 14}return 2}function An(e,t){var n=e.alternate;return n===null?(n=xt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ks(e,t,n,r,o,s){var i=2;if(r=e,typeof e=="function")Gc(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case yr:return qn(n.children,o,s,t);case fc:i=8,o|=8;break;case Za:return e=xt(12,n,t,o|2),e.elementType=Za,e.lanes=s,e;case qa:return e=xt(13,n,t,o),e.elementType=qa,e.lanes=s,e;case Ja:return e=xt(19,n,t,o),e.elementType=Ja,e.lanes=s,e;case rh:return Ki(n,o,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case th:i=10;break e;case nh:i=9;break e;case hc:i=11;break e;case pc:i=14;break e;case gn:i=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=xt(i,n,t,o),t.elementType=e,t.type=r,t.lanes=s,t}function qn(e,t,n,r){return e=xt(7,e,r,t),e.lanes=n,e}function Ki(e,t,n,r){return e=xt(22,e,r,t),e.elementType=rh,e.lanes=n,e.stateNode={isHidden:!1},e}function Da(e,t,n){return e=xt(6,e,null,t),e.lanes=n,e}function za(e,t,n){return t=xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hx(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ga(0),this.expirationTimes=ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Qc(e,t,n,r,o,s,i,a,l){return e=new Hx(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=xt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(s),e}function Ux(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Gp(e){if(!e)return zn;e=e._reactInternals;e:{if(ur(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(tt(n))return Gh(e,n,t)}return t}function Qp(e,t,n,r,o,s,i,a,l){return e=Qc(n,r,!0,e,o,s,i,a,l),e.context=Gp(null),n=e.current,r=Xe(),o=Pn(n),s=qt(r,o),s.callback=t??null,jn(n,s,o),e.current.lanes=o,os(e,o,r),nt(e,r),e}function Zi(e,t,n,r){var o=t.current,s=Xe(),i=Pn(o);return n=Gp(n),t.context===null?t.context=n:t.pendingContext=n,t=qt(s,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=jn(o,t,i),e!==null&&(Pt(e,o,i,s),Bs(e,o,i)),i}function Ei(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ad(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Kc(e,t){Ad(e,t),(e=e.alternate)&&Ad(e,t)}function Vx(){return null}var Kp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}qi.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Zi(e,t,null,null)};qi.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ir(function(){Zi(null,e,null,null)}),t[tn]=null}};function qi(e){this._internalRoot=e}qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ch();e={blockedOn:null,target:e,priority:t};for(var n=0;n<wn.length&&t!==0&&t<wn[n].priority;n++);wn.splice(n,0,e),n===0&&Th(e)}};function qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ji(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Id(){}function Bx(e,t,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var c=Ei(i);s.call(c)}}var i=Qp(t,r,e,0,null,!1,!1,"",Id);return e._reactRootContainer=i,e[tn]=i.current,Fo(e.nodeType===8?e.parentNode:e),ir(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Ei(l);a.call(c)}}var l=Qc(e,0,!1,null,null,!1,!1,"",Id);return e._reactRootContainer=l,e[tn]=l.current,Fo(e.nodeType===8?e.parentNode:e),ir(function(){Zi(t,l,n,r)}),l}function ea(e,t,n,r,o){var s=n._reactRootContainer;if(s){var i=s;if(typeof o=="function"){var a=o;o=function(){var l=Ei(i);a.call(l)}}Zi(t,i,e,o)}else i=Bx(n,t,e,o,r);return Ei(i)}bh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=yo(t.pendingLanes);n!==0&&(yc(t,n|1),nt(t,Ne()),!(se&6)&&(Wr=Ne()+500,Fn()))}break;case 13:ir(function(){var r=nn(e,1);if(r!==null){var o=Xe();Pt(r,e,1,o)}}),Kc(e,1)}};xc=function(e){if(e.tag===13){var t=nn(e,134217728);if(t!==null){var n=Xe();Pt(t,e,134217728,n)}Kc(e,134217728)}};_h=function(e){if(e.tag===13){var t=Pn(e),n=nn(e,t);if(n!==null){var r=Xe();Pt(n,e,t,r)}Kc(e,t)}};Ch=function(){return ce};Mh=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};cl=function(e,t,n){switch(t){case"input":if(nl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Bi(r);if(!o)throw Error(U(90));sh(r),nl(r,o)}}}break;case"textarea":ah(e,n);break;case"select":t=n.value,t!=null&&Tr(e,!!n.multiple,t,!1)}};ph=Wc;mh=ir;var Wx={usingClientEntryPoint:!1,Events:[is,kr,Bi,fh,hh,Wc]},lo={findFiberByHostInstance:Yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yx={bundleType:lo.bundleType,version:lo.version,rendererPackageName:lo.rendererPackageName,rendererConfig:lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xh(e),e===null?null:e.stateNode},findFiberByHostInstance:lo.findFiberByHostInstance||Vx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{Oi=Ms.inject(Yx),Ft=Ms}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wx;dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(t))throw Error(U(200));return Ux(e,t,null,n)};dt.createRoot=function(e,t){if(!qc(e))throw Error(U(299));var n=!1,r="",o=Kp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Qc(e,1,!1,null,null,n,!1,r,o),e[tn]=t.current,Fo(e.nodeType===8?e.parentNode:e),new Zc(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=xh(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return ir(e)};dt.hydrate=function(e,t,n){if(!Ji(t))throw Error(U(200));return ea(null,e,t,!0,n)};dt.hydrateRoot=function(e,t,n){if(!qc(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",i=Kp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Qp(t,null,e,1,n??null,o,!1,s,i),e[tn]=t.current,Fo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new qi(t)};dt.render=function(e,t,n){if(!Ji(t))throw Error(U(200));return ea(null,e,t,!1,n)};dt.unmountComponentAtNode=function(e){if(!Ji(e))throw Error(U(40));return e._reactRootContainer?(ir(function(){ea(null,null,e,!1,function(){e._reactRootContainer=null,e[tn]=null})}),!0):!1};dt.unstable_batchedUpdates=Wc;dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ji(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return ea(e,t,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function Zp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Zp)}catch(e){console.error(e)}}Zp(),Zf.exports=dt;var Xx=Zf.exports,Dd=Xx;Qa.createRoot=Dd.createRoot,Qa.hydrateRoot=Dd.hydrateRoot;function Fe(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Fe(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var qp={exports:{}},Jp={},e0={exports:{}},t0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=T;function Gx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qx=typeof Object.is=="function"?Object.is:Gx,Kx=Yr.useState,Zx=Yr.useEffect,qx=Yr.useLayoutEffect,Jx=Yr.useDebugValue;function ev(e,t){var n=t(),r=Kx({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return qx(function(){o.value=n,o.getSnapshot=t,La(o)&&s({inst:o})},[e,n,t]),Zx(function(){return La(o)&&s({inst:o}),e(function(){La(o)&&s({inst:o})})},[e]),Jx(n),n}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qx(e,n)}catch{return!0}}function tv(e,t){return t()}var nv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tv:ev;t0.useSyncExternalStore=Yr.useSyncExternalStore!==void 0?Yr.useSyncExternalStore:nv;e0.exports=t0;var rv=e0.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ta=T,ov=rv;function sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iv=typeof Object.is=="function"?Object.is:sv,av=ov.useSyncExternalStore,lv=ta.useRef,cv=ta.useEffect,uv=ta.useMemo,dv=ta.useDebugValue;Jp.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=lv(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=uv(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),o!==void 0&&i.hasValue){var x=i.value;if(o(x,p))return d=x}return d=p}if(x=d,iv(u,p))return x;var y=r(p);return o!==void 0&&o(x,y)?(u=p,x):(u=p,d=y)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,o]);var a=av(e,s[0],s[1]);return cv(function(){i.hasValue=!0,i.value=a},[a]),dv(a),a};qp.exports=Jp;var fv=qp.exports;const n0=Ff(fv),hv={},zd=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(x=>x(t,p))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(hv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,o,l);return l},r0=e=>e?zd(e):zd,{useDebugValue:pv}=R,{useSyncExternalStoreWithSelector:mv}=n0,gv=e=>e;function o0(e,t=gv,n){const r=mv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return pv(r),r}const Ld=(e,t)=>{const n=r0(e),r=(o,s=t)=>o0(n,o,s);return Object.assign(r,n),r},yv=(e,t)=>e?Ld(e,t):Ld;function De(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var xv={value:()=>{}};function ls(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Zs(n)}function Zs(e){this._=e}function vv(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Zs.prototype=ls.prototype={constructor:Zs,on:function(e,t){var n=this._,r=vv(e+"",n),o,s=-1,i=r.length;if(arguments.length<2){for(;++s<i;)if((o=(e=r[s]).type)&&(o=wv(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<i;)if(o=(e=r[s]).type)n[o]=Rd(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Rd(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Zs(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function wv(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Rd(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=xv,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ul="http://www.w3.org/1999/xhtml";const Fd={svg:"http://www.w3.org/2000/svg",xhtml:Ul,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function na(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Fd.hasOwnProperty(t)?{space:Fd[t],local:e}:e}function kv(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ul&&t.documentElement.namespaceURI===Ul?t.createElement(e):t.createElementNS(n,e)}}function Sv(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function s0(e){var t=na(e);return(t.local?Sv:kv)(t)}function Nv(){}function Jc(e){return e==null?Nv:function(){return this.querySelector(e)}}function Ev(e){typeof e!="function"&&(e=Jc(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,a=r[o]=new Array(i),l,c,u=0;u<i;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new ut(r,this._parents)}function bv(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _v(){return[]}function i0(e){return e==null?_v:function(){return this.querySelectorAll(e)}}function Cv(e){return function(){return bv(e.apply(this,arguments))}}function Mv(e){typeof e=="function"?e=Cv(e):e=i0(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var i=t[s],a=i.length,l,c=0;c<a;++c)(l=i[c])&&(r.push(e.call(l,l.__data__,c,i)),o.push(l));return new ut(r,o)}function a0(e){return function(){return this.matches(e)}}function l0(e){return function(t){return t.matches(e)}}var Tv=Array.prototype.find;function jv(e){return function(){return Tv.call(this.children,e)}}function $v(){return this.firstElementChild}function Pv(e){return this.select(e==null?$v:jv(typeof e=="function"?e:l0(e)))}var Av=Array.prototype.filter;function Iv(){return Array.from(this.children)}function Dv(e){return function(){return Av.call(this.children,e)}}function zv(e){return this.selectAll(e==null?Iv:Dv(typeof e=="function"?e:l0(e)))}function Lv(e){typeof e!="function"&&(e=a0(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,a=r[o]=[],l,c=0;c<i;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new ut(r,this._parents)}function c0(e){return new Array(e.length)}function Rv(){return new ut(this._enter||this._groups.map(c0),this._parents)}function bi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}bi.prototype={constructor:bi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Fv(e){return function(){return e}}function Ov(e,t,n,r,o,s){for(var i=0,a,l=t.length,c=s.length;i<c;++i)(a=t[i])?(a.__data__=s[i],r[i]=a):n[i]=new bi(e,s[i]);for(;i<l;++i)(a=t[i])&&(o[i]=a)}function Hv(e,t,n,r,o,s,i){var a,l,c=new Map,u=t.length,d=s.length,f=new Array(u),p;for(a=0;a<u;++a)(l=t[a])&&(f[a]=p=i.call(l,l.__data__,a,t)+"",c.has(p)?o[a]=l:c.set(p,l));for(a=0;a<d;++a)p=i.call(e,s[a],a,s)+"",(l=c.get(p))?(r[a]=l,l.__data__=s[a],c.delete(p)):n[a]=new bi(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(o[a]=l)}function Uv(e){return e.__data__}function Vv(e,t){if(!arguments.length)return Array.from(this,Uv);var n=t?Hv:Ov,r=this._parents,o=this._groups;typeof e!="function"&&(e=Fv(e));for(var s=o.length,i=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],d=o[c],f=d.length,p=Bv(e.call(u,u&&u.__data__,c,r)),x=p.length,y=a[c]=new Array(x),k=i[c]=new Array(x),h=l[c]=new Array(f);n(u,d,y,k,h,p,t);for(var g=0,w=0,v,S;g<x;++g)if(v=y[g]){for(g>=w&&(w=g+1);!(S=k[w])&&++w<x;);v._next=S||null}}return i=new ut(i,r),i._enter=a,i._exit=l,i}function Bv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Wv(){return new ut(this._exit||this._groups.map(c0),this._parents)}function Yv(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function Xv(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,i=Math.min(o,s),a=new Array(o),l=0;l<i;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),p,x=0;x<d;++x)(p=c[x]||u[x])&&(f[x]=p);for(;l<o;++l)a[l]=n[l];return new ut(a,this._parents)}function Gv(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],i;--o>=0;)(i=r[o])&&(s&&i.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(i,s),s=i);return this}function Qv(e){e||(e=Kv);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var i=n[s],a=i.length,l=o[s]=new Array(a),c,u=0;u<a;++u)(c=i[u])&&(l[u]=c);l.sort(t)}return new ut(o,this._parents).order()}function Kv(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Zv(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function qv(){return Array.from(this)}function Jv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var i=r[o];if(i)return i}return null}function e1(){let e=0;for(const t of this)++e;return e}function t1(){return!this.node()}function n1(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,i=o.length,a;s<i;++s)(a=o[s])&&e.call(a,a.__data__,s,o);return this}function r1(e){return function(){this.removeAttribute(e)}}function o1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function s1(e,t){return function(){this.setAttribute(e,t)}}function i1(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function a1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function l1(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function c1(e,t){var n=na(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?o1:r1:typeof t=="function"?n.local?l1:a1:n.local?i1:s1)(n,t))}function u0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function u1(e){return function(){this.style.removeProperty(e)}}function d1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function f1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function h1(e,t,n){return arguments.length>1?this.each((t==null?u1:typeof t=="function"?f1:d1)(e,t,n??"")):Xr(this.node(),e)}function Xr(e,t){return e.style.getPropertyValue(t)||u0(e).getComputedStyle(e,null).getPropertyValue(t)}function p1(e){return function(){delete this[e]}}function m1(e,t){return function(){this[e]=t}}function g1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function y1(e,t){return arguments.length>1?this.each((t==null?p1:typeof t=="function"?g1:m1)(e,t)):this.node()[e]}function d0(e){return e.trim().split(/^|\s+/)}function eu(e){return e.classList||new f0(e)}function f0(e){this._node=e,this._names=d0(e.getAttribute("class")||"")}f0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function h0(e,t){for(var n=eu(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function p0(e,t){for(var n=eu(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function x1(e){return function(){h0(this,e)}}function v1(e){return function(){p0(this,e)}}function w1(e,t){return function(){(t.apply(this,arguments)?h0:p0)(this,e)}}function k1(e,t){var n=d0(e+"");if(arguments.length<2){for(var r=eu(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?w1:t?x1:v1)(n,t))}function S1(){this.textContent=""}function N1(e){return function(){this.textContent=e}}function E1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function b1(e){return arguments.length?this.each(e==null?S1:(typeof e=="function"?E1:N1)(e)):this.node().textContent}function _1(){this.innerHTML=""}function C1(e){return function(){this.innerHTML=e}}function M1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function T1(e){return arguments.length?this.each(e==null?_1:(typeof e=="function"?M1:C1)(e)):this.node().innerHTML}function j1(){this.nextSibling&&this.parentNode.appendChild(this)}function $1(){return this.each(j1)}function P1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function A1(){return this.each(P1)}function I1(e){var t=typeof e=="function"?e:s0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function D1(){return null}function z1(e,t){var n=typeof e=="function"?e:s0(e),r=t==null?D1:typeof t=="function"?t:Jc(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function L1(){var e=this.parentNode;e&&e.removeChild(this)}function R1(){return this.each(L1)}function F1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function O1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function H1(e){return this.select(e?O1:F1)}function U1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function V1(e){return function(t){e.call(this,t,this.__data__)}}function B1(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function W1(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function Y1(e,t,n){return function(){var r=this.__on,o,s=V1(t);if(r){for(var i=0,a=r.length;i<a;++i)if((o=r[i]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function X1(e,t,n){var r=B1(e+""),o,s=r.length,i;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(o=0,u=a[l];o<s;++o)if((i=r[o]).type===u.type&&i.name===u.name)return u.value}return}for(a=t?Y1:W1,o=0;o<s;++o)this.each(a(r[o],t,n));return this}function m0(e,t,n){var r=u0(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function G1(e,t){return function(){return m0(this,e,t)}}function Q1(e,t){return function(){return m0(this,e,t.apply(this,arguments))}}function K1(e,t){return this.each((typeof t=="function"?Q1:G1)(e,t))}function*Z1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,i;o<s;++o)(i=r[o])&&(yield i)}var g0=[null];function ut(e,t){this._groups=e,this._parents=t}function cs(){return new ut([[document.documentElement]],g0)}function q1(){return this}ut.prototype=cs.prototype={constructor:ut,select:Ev,selectAll:Mv,selectChild:Pv,selectChildren:zv,filter:Lv,data:Vv,enter:Rv,exit:Wv,join:Yv,merge:Xv,selection:q1,order:Gv,sort:Qv,call:Zv,nodes:qv,node:Jv,size:e1,empty:t1,each:n1,attr:c1,style:h1,property:y1,classed:k1,text:b1,html:T1,raise:$1,lower:A1,append:I1,insert:z1,remove:R1,clone:H1,datum:U1,on:X1,dispatch:K1,[Symbol.iterator]:Z1};function yt(e){return typeof e=="string"?new ut([[document.querySelector(e)]],[document.documentElement]):new ut([[e]],g0)}function J1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Mt(e,t){if(e=J1(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const ew={passive:!1},Go={capture:!0,passive:!1};function Ra(e){e.stopImmediatePropagation()}function Dr(e){e.preventDefault(),e.stopImmediatePropagation()}function y0(e){var t=e.document.documentElement,n=yt(e).on("dragstart.drag",Dr,Go);"onselectstart"in t?n.on("selectstart.drag",Dr,Go):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function x0(e,t){var n=e.document.documentElement,r=yt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Dr,Go),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Ts=e=>()=>e;function Vl(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:i,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:i,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Vl.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function tw(e){return!e.ctrlKey&&!e.button}function nw(){return this.parentNode}function rw(e,t){return t??{x:e.x,y:e.y}}function ow(){return navigator.maxTouchPoints||"ontouchstart"in this}function sw(){var e=tw,t=nw,n=rw,r=ow,o={},s=ls("start","drag","end"),i=0,a,l,c,u,d=0;function f(v){v.on("mousedown.drag",p).filter(r).on("touchstart.drag",k).on("touchmove.drag",h,ew).on("touchend.drag touchcancel.drag",g).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(v,S){if(!(u||!e.call(this,v,S))){var _=w(this,t.call(this,v,S),v,S,"mouse");_&&(yt(v.view).on("mousemove.drag",x,Go).on("mouseup.drag",y,Go),y0(v.view),Ra(v),c=!1,a=v.clientX,l=v.clientY,_("start",v))}}function x(v){if(Dr(v),!c){var S=v.clientX-a,_=v.clientY-l;c=S*S+_*_>d}o.mouse("drag",v)}function y(v){yt(v.view).on("mousemove.drag mouseup.drag",null),x0(v.view,c),Dr(v),o.mouse("end",v)}function k(v,S){if(e.call(this,v,S)){var _=v.changedTouches,C=t.call(this,v,S),P=_.length,A,I;for(A=0;A<P;++A)(I=w(this,C,v,S,_[A].identifier,_[A]))&&(Ra(v),I("start",v,_[A]))}}function h(v){var S=v.changedTouches,_=S.length,C,P;for(C=0;C<_;++C)(P=o[S[C].identifier])&&(Dr(v),P("drag",v,S[C]))}function g(v){var S=v.changedTouches,_=S.length,C,P;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<_;++C)(P=o[S[C].identifier])&&(Ra(v),P("end",v,S[C]))}function w(v,S,_,C,P,A){var I=s.copy(),F=Mt(A||_,S),H,O,b;if((b=n.call(v,new Vl("beforestart",{sourceEvent:_,target:f,identifier:P,active:i,x:F[0],y:F[1],dx:0,dy:0,dispatch:I}),C))!=null)return H=b.x-F[0]||0,O=b.y-F[1]||0,function M($,z,N){var E=F,j;switch($){case"start":o[P]=M,j=i++;break;case"end":delete o[P],--i;case"drag":F=Mt(N||z,S),j=i;break}I.call($,v,new Vl($,{sourceEvent:z,subject:b,target:f,identifier:P,active:j,x:F[0]+H,y:F[1]+O,dx:F[0]-E[0],dy:F[1]-E[1],dispatch:I}),C)}}return f.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Ts(!!v),f):e},f.container=function(v){return arguments.length?(t=typeof v=="function"?v:Ts(v),f):t},f.subject=function(v){return arguments.length?(n=typeof v=="function"?v:Ts(v),f):n},f.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Ts(!!v),f):r},f.on=function(){var v=s.on.apply(s,arguments);return v===s?f:v},f.clickDistance=function(v){return arguments.length?(d=(v=+v)*v,f):Math.sqrt(d)},f}function tu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function v0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function us(){}var Qo=.7,_i=1/Qo,zr="\\s*([+-]?\\d+)\\s*",Ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ht="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iw=/^#([0-9a-f]{3,8})$/,aw=new RegExp(`^rgb\\(${zr},${zr},${zr}\\)$`),lw=new RegExp(`^rgb\\(${Ht},${Ht},${Ht}\\)$`),cw=new RegExp(`^rgba\\(${zr},${zr},${zr},${Ko}\\)$`),uw=new RegExp(`^rgba\\(${Ht},${Ht},${Ht},${Ko}\\)$`),dw=new RegExp(`^hsl\\(${Ko},${Ht},${Ht}\\)$`),fw=new RegExp(`^hsla\\(${Ko},${Ht},${Ht},${Ko}\\)$`),Od={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tu(us,Zo,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Hd,formatHex:Hd,formatHex8:hw,formatHsl:pw,formatRgb:Ud,toString:Ud});function Hd(){return this.rgb().formatHex()}function hw(){return this.rgb().formatHex8()}function pw(){return w0(this).formatHsl()}function Ud(){return this.rgb().formatRgb()}function Zo(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=iw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Vd(t):n===3?new Je(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?js(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?js(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aw.exec(e))?new Je(t[1],t[2],t[3],1):(t=lw.exec(e))?new Je(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cw.exec(e))?js(t[1],t[2],t[3],t[4]):(t=uw.exec(e))?js(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dw.exec(e))?Yd(t[1],t[2]/100,t[3]/100,1):(t=fw.exec(e))?Yd(t[1],t[2]/100,t[3]/100,t[4]):Od.hasOwnProperty(e)?Vd(Od[e]):e==="transparent"?new Je(NaN,NaN,NaN,0):null}function Vd(e){return new Je(e>>16&255,e>>8&255,e&255,1)}function js(e,t,n,r){return r<=0&&(e=t=n=NaN),new Je(e,t,n,r)}function mw(e){return e instanceof us||(e=Zo(e)),e?(e=e.rgb(),new Je(e.r,e.g,e.b,e.opacity)):new Je}function Bl(e,t,n,r){return arguments.length===1?mw(e):new Je(e,t,n,r??1)}function Je(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}tu(Je,Bl,v0(us,{brighter(e){return e=e==null?_i:Math.pow(_i,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new Je(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Je(Jn(this.r),Jn(this.g),Jn(this.b),Ci(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bd,formatHex:Bd,formatHex8:gw,formatRgb:Wd,toString:Wd}));function Bd(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}`}function gw(){return`#${Qn(this.r)}${Qn(this.g)}${Qn(this.b)}${Qn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wd(){const e=Ci(this.opacity);return`${e===1?"rgb(":"rgba("}${Jn(this.r)}, ${Jn(this.g)}, ${Jn(this.b)}${e===1?")":`, ${e})`}`}function Ci(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qn(e){return e=Jn(e),(e<16?"0":"")+e.toString(16)}function Yd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jt(e,t,n,r)}function w0(e){if(e instanceof jt)return new jt(e.h,e.s,e.l,e.opacity);if(e instanceof us||(e=Zo(e)),!e)return new jt;if(e instanceof jt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),i=NaN,a=s-o,l=(s+o)/2;return a?(t===s?i=(n-r)/a+(n<r)*6:n===s?i=(r-t)/a+2:i=(t-n)/a+4,a/=l<.5?s+o:2-s-o,i*=60):a=l>0&&l<1?0:i,new jt(i,a,l,e.opacity)}function yw(e,t,n,r){return arguments.length===1?w0(e):new jt(e,t,n,r??1)}function jt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}tu(jt,yw,v0(us,{brighter(e){return e=e==null?_i:Math.pow(_i,e),new jt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qo:Math.pow(Qo,e),new jt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new Je(Fa(e>=240?e-240:e+120,o,r),Fa(e,o,r),Fa(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new jt(Xd(this.h),$s(this.s),$s(this.l),Ci(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ci(this.opacity);return`${e===1?"hsl(":"hsla("}${Xd(this.h)}, ${$s(this.s)*100}%, ${$s(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Xd(e){return e=(e||0)%360,e<0?e+360:e}function $s(e){return Math.max(0,Math.min(1,e||0))}function Fa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const k0=e=>()=>e;function xw(e,t){return function(n){return e+n*t}}function vw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ww(e){return(e=+e)==1?S0:function(t,n){return n-t?vw(t,n,e):k0(isNaN(t)?n:t)}}function S0(e,t){var n=t-e;return n?xw(e,n):k0(isNaN(e)?t:e)}const Gd=function e(t){var n=ww(t);function r(o,s){var i=n((o=Bl(o)).r,(s=Bl(s)).r),a=n(o.g,s.g),l=n(o.b,s.b),c=S0(o.opacity,s.opacity);return function(u){return o.r=i(u),o.g=a(u),o.b=l(u),o.opacity=c(u),o+""}}return r.gamma=e,r}(1);function xn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Wl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Oa=new RegExp(Wl.source,"g");function kw(e){return function(){return e}}function Sw(e){return function(t){return e(t)+""}}function Nw(e,t){var n=Wl.lastIndex=Oa.lastIndex=0,r,o,s,i=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Wl.exec(e))&&(o=Oa.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),a[i]?a[i]+=s:a[++i]=s),(r=r[0])===(o=o[0])?a[i]?a[i]+=o:a[++i]=o:(a[++i]=null,l.push({i,x:xn(r,o)})),n=Oa.lastIndex;return n<t.length&&(s=t.slice(n),a[i]?a[i]+=s:a[++i]=s),a.length<2?l[0]?Sw(l[0].x):kw(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}var Qd=180/Math.PI,Yl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function N0(e,t,n,r,o,s){var i,a,l;return(i=Math.sqrt(e*e+t*t))&&(e/=i,t/=i),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,i=-i),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*Qd,skewX:Math.atan(l)*Qd,scaleX:i,scaleY:a}}var Ps;function Ew(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Yl:N0(t.a,t.b,t.c,t.d,t.e,t.f)}function bw(e){return e==null||(Ps||(Ps=document.createElementNS("http://www.w3.org/2000/svg","g")),Ps.setAttribute("transform",e),!(e=Ps.transform.baseVal.consolidate()))?Yl:(e=e.matrix,N0(e.a,e.b,e.c,e.d,e.e,e.f))}function E0(e,t,n,r){function o(c){return c.length?c.pop()+" ":""}function s(c,u,d,f,p,x){if(c!==d||u!==f){var y=p.push("translate(",null,t,null,n);x.push({i:y-4,x:xn(c,d)},{i:y-2,x:xn(u,f)})}else(d||f)&&p.push("translate("+d+t+f+n)}function i(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(o(d)+"rotate(",null,r)-2,x:xn(c,u)})):u&&d.push(o(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(o(d)+"skewX(",null,r)-2,x:xn(c,u)}):u&&d.push(o(d)+"skewX("+u+r)}function l(c,u,d,f,p,x){if(c!==d||u!==f){var y=p.push(o(p)+"scale(",null,",",null,")");x.push({i:y-4,x:xn(c,d)},{i:y-2,x:xn(u,f)})}else(d!==1||f!==1)&&p.push(o(p)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,d,f),i(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(p){for(var x=-1,y=f.length,k;++x<y;)d[(k=f[x]).i]=k.x(p);return d.join("")}}}var _w=E0(Ew,"px, ","px)","deg)"),Cw=E0(bw,", ",")",")"),Mw=1e-12;function Kd(e){return((e=Math.exp(e))+1/e)/2}function Tw(e){return((e=Math.exp(e))-1/e)/2}function jw(e){return((e=Math.exp(2*e))-1)/(e+1)}const $w=function e(t,n,r){function o(s,i){var a=s[0],l=s[1],c=s[2],u=i[0],d=i[1],f=i[2],p=u-a,x=d-l,y=p*p+x*x,k,h;if(y<Mw)h=Math.log(f/c)/t,k=function(C){return[a+C*p,l+C*x,c*Math.exp(t*C*h)]};else{var g=Math.sqrt(y),w=(f*f-c*c+r*y)/(2*c*n*g),v=(f*f-c*c-r*y)/(2*f*n*g),S=Math.log(Math.sqrt(w*w+1)-w),_=Math.log(Math.sqrt(v*v+1)-v);h=(_-S)/t,k=function(C){var P=C*h,A=Kd(S),I=c/(n*g)*(A*jw(t*P+S)-Tw(S));return[a+I*p,l+I*x,c*A/Kd(t*P+S)]}}return k.duration=h*1e3*t/Math.SQRT2,k}return o.rho=function(s){var i=Math.max(.001,+s),a=i*i,l=a*a;return e(i,a,l)},o}(Math.SQRT2,2,4);var Gr=0,vo=0,co=0,b0=1e3,Mi,wo,Ti=0,ar=0,ra=0,qo=typeof performance=="object"&&performance.now?performance:Date,_0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function nu(){return ar||(_0(Pw),ar=qo.now()+ra)}function Pw(){ar=0}function ji(){this._call=this._time=this._next=null}ji.prototype=ru.prototype={constructor:ji,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?nu():+n)+(t==null?0:+t),!this._next&&wo!==this&&(wo?wo._next=this:Mi=this,wo=this),this._call=e,this._time=n,Xl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xl())}};function ru(e,t,n){var r=new ji;return r.restart(e,t,n),r}function Aw(){nu(),++Gr;for(var e=Mi,t;e;)(t=ar-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Gr}function Zd(){ar=(Ti=qo.now())+ra,Gr=vo=0;try{Aw()}finally{Gr=0,Dw(),ar=0}}function Iw(){var e=qo.now(),t=e-Ti;t>b0&&(ra-=t,Ti=e)}function Dw(){for(var e,t=Mi,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Mi=n);wo=e,Xl(r)}function Xl(e){if(!Gr){vo&&(vo=clearTimeout(vo));var t=e-ar;t>24?(e<1/0&&(vo=setTimeout(Zd,e-qo.now()-ra)),co&&(co=clearInterval(co))):(co||(Ti=qo.now(),co=setInterval(Iw,b0)),Gr=1,_0(Zd))}}function qd(e,t,n){var r=new ji;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var zw=ls("start","end","cancel","interrupt"),Lw=[],C0=0,Jd=1,Gl=2,qs=3,ef=4,Ql=5,Js=6;function oa(e,t,n,r,o,s){var i=e.__transition;if(!i)e.__transition={};else if(n in i)return;Rw(e,n,{name:t,index:r,group:o,on:zw,tween:Lw,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:C0})}function ou(e,t){var n=It(e,t);if(n.state>C0)throw new Error("too late; already scheduled");return n}function Vt(e,t){var n=It(e,t);if(n.state>qs)throw new Error("too late; already running");return n}function It(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Rw(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=ru(s,0,n.time);function s(c){n.state=Jd,n.timer.restart(i,n.delay,n.time),n.delay<=c&&i(c-n.delay)}function i(c){var u,d,f,p;if(n.state!==Jd)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===qs)return qd(i);p.state===ef?(p.state=Js,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[u]):+u<t&&(p.state=Js,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[u])}if(qd(function(){n.state===qs&&(n.state=ef,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Gl,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Gl){for(n.state=qs,o=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++d]=p);o.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Ql,1),d=-1,f=o.length;++d<f;)o[d].call(e,u);n.state===Ql&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Js,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function ei(e,t){var n=e.__transition,r,o,s=!0,i;if(n){t=t==null?null:t+"";for(i in n){if((r=n[i]).name!==t){s=!1;continue}o=r.state>Gl&&r.state<Ql,r.state=Js,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[i]}s&&delete e.__transition}}function Fw(e){return this.each(function(){ei(this,e)})}function Ow(e,t){var n,r;return function(){var o=Vt(this,e),s=o.tween;if(s!==n){r=n=s;for(var i=0,a=r.length;i<a;++i)if(r[i].name===t){r=r.slice(),r.splice(i,1);break}}o.tween=r}}function Hw(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=Vt(this,e),i=s.tween;if(i!==r){o=(r=i).slice();for(var a={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=a;break}l===c&&o.push(a)}s.tween=o}}function Uw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=It(this.node(),n).tween,o=0,s=r.length,i;o<s;++o)if((i=r[o]).name===e)return i.value;return null}return this.each((t==null?Ow:Hw)(n,e,t))}function su(e,t,n){var r=e._id;return e.each(function(){var o=Vt(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return It(o,r).value[t]}}function M0(e,t){var n;return(typeof t=="number"?xn:t instanceof Zo?Gd:(n=Zo(t))?(t=n,Gd):Nw)(e,t)}function Vw(e){return function(){this.removeAttribute(e)}}function Bw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ww(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttribute(e);return i===o?null:i===r?s:s=t(r=i,n)}}function Yw(e,t,n){var r,o=n+"",s;return function(){var i=this.getAttributeNS(e.space,e.local);return i===o?null:i===r?s:s=t(r=i,n)}}function Xw(e,t,n){var r,o,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttribute(e):(i=this.getAttribute(e),l=a+"",i===l?null:i===r&&l===o?s:(o=l,s=t(r=i,a)))}}function Gw(e,t,n){var r,o,s;return function(){var i,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(i=this.getAttributeNS(e.space,e.local),l=a+"",i===l?null:i===r&&l===o?s:(o=l,s=t(r=i,a)))}}function Qw(e,t){var n=na(e),r=n==="transform"?Cw:M0;return this.attrTween(e,typeof t=="function"?(n.local?Gw:Xw)(n,r,su(this,"attr."+e,t)):t==null?(n.local?Bw:Vw)(n):(n.local?Yw:Ww)(n,r,t))}function Kw(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Zw(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function qw(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Zw(e,s)),n}return o._value=t,o}function Jw(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&Kw(e,s)),n}return o._value=t,o}function e2(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=na(e);return this.tween(n,(r.local?qw:Jw)(r,t))}function t2(e,t){return function(){ou(this,e).delay=+t.apply(this,arguments)}}function n2(e,t){return t=+t,function(){ou(this,e).delay=t}}function r2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?t2:n2)(t,e)):It(this.node(),t).delay}function o2(e,t){return function(){Vt(this,e).duration=+t.apply(this,arguments)}}function s2(e,t){return t=+t,function(){Vt(this,e).duration=t}}function i2(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?o2:s2)(t,e)):It(this.node(),t).duration}function a2(e,t){if(typeof t!="function")throw new Error;return function(){Vt(this,e).ease=t}}function l2(e){var t=this._id;return arguments.length?this.each(a2(t,e)):It(this.node(),t).ease}function c2(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Vt(this,e).ease=n}}function u2(e){if(typeof e!="function")throw new Error;return this.each(c2(this._id,e))}function d2(e){typeof e!="function"&&(e=a0(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],i=s.length,a=r[o]=[],l,c=0;c<i;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new on(r,this._parents,this._name,this._id)}function f2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),i=new Array(r),a=0;a<s;++a)for(var l=t[a],c=n[a],u=l.length,d=i[a]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(d[p]=f);for(;a<r;++a)i[a]=t[a];return new on(i,this._parents,this._name,this._id)}function h2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function p2(e,t,n){var r,o,s=h2(t)?ou:Vt;return function(){var i=s(this,e),a=i.on;a!==r&&(o=(r=a).copy()).on(t,n),i.on=o}}function m2(e,t){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(e):this.each(p2(n,e,t))}function g2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function y2(){return this.on("end.remove",g2(this._id))}function x2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jc(e));for(var r=this._groups,o=r.length,s=new Array(o),i=0;i<o;++i)for(var a=r[i],l=a.length,c=s[i]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,oa(c[f],t,n,f,c,It(u,n)));return new on(s,this._parents,t,n)}function v2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=i0(e));for(var r=this._groups,o=r.length,s=[],i=[],a=0;a<o;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),p,x=It(u,n),y=0,k=f.length;y<k;++y)(p=f[y])&&oa(p,t,n,y,f,x);s.push(f),i.push(u)}return new on(s,i,t,n)}var w2=cs.prototype.constructor;function k2(){return new w2(this._groups,this._parents)}function S2(e,t){var n,r,o;return function(){var s=Xr(this,e),i=(this.style.removeProperty(e),Xr(this,e));return s===i?null:s===n&&i===r?o:o=t(n=s,r=i)}}function T0(e){return function(){this.style.removeProperty(e)}}function N2(e,t,n){var r,o=n+"",s;return function(){var i=Xr(this,e);return i===o?null:i===r?s:s=t(r=i,n)}}function E2(e,t,n){var r,o,s;return function(){var i=Xr(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Xr(this,e))),i===l?null:i===r&&l===o?s:(o=l,s=t(r=i,a))}}function b2(e,t){var n,r,o,s="style."+t,i="end."+s,a;return function(){var l=Vt(this,e),c=l.on,u=l.value[s]==null?a||(a=T0(t)):void 0;(c!==n||o!==u)&&(r=(n=c).copy()).on(i,o=u),l.on=r}}function _2(e,t,n){var r=(e+="")=="transform"?_w:M0;return t==null?this.styleTween(e,S2(e,r)).on("end.style."+e,T0(e)):typeof t=="function"?this.styleTween(e,E2(e,r,su(this,"style."+e,t))).each(b2(this._id,e)):this.styleTween(e,N2(e,r,t),n).on("end.style."+e,null)}function C2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function M2(e,t,n){var r,o;function s(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&C2(e,i,n)),r}return s._value=t,s}function T2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,M2(e,t,n??""))}function j2(e){return function(){this.textContent=e}}function $2(e){return function(){var t=e(this);this.textContent=t??""}}function P2(e){return this.tween("text",typeof e=="function"?$2(su(this,"text",e)):j2(e==null?"":e+""))}function A2(e){return function(t){this.textContent=e.call(this,t)}}function I2(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&A2(o)),t}return r._value=e,r}function D2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,I2(e))}function z2(){for(var e=this._name,t=this._id,n=j0(),r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],a=i.length,l,c=0;c<a;++c)if(l=i[c]){var u=It(l,t);oa(l,e,n,c,i,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new on(r,this._parents,e,n)}function L2(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,i){var a={value:i},l={value:function(){--o===0&&s()}};n.each(function(){var c=Vt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),o===0&&s()})}var R2=0;function on(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function j0(){return++R2}var Yt=cs.prototype;on.prototype={constructor:on,select:x2,selectAll:v2,selectChild:Yt.selectChild,selectChildren:Yt.selectChildren,filter:d2,merge:f2,selection:k2,transition:z2,call:Yt.call,nodes:Yt.nodes,node:Yt.node,size:Yt.size,empty:Yt.empty,each:Yt.each,on:m2,attr:Qw,attrTween:e2,style:_2,styleTween:T2,text:P2,textTween:D2,remove:y2,tween:Uw,delay:r2,duration:i2,ease:l2,easeVarying:u2,end:L2,[Symbol.iterator]:Yt[Symbol.iterator]};function F2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var O2={time:null,delay:0,duration:250,ease:F2};function H2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function U2(e){var t,n;e instanceof on?(t=e._id,e=e._name):(t=j0(),(n=O2).time=nu(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var i=r[s],a=i.length,l,c=0;c<a;++c)(l=i[c])&&oa(l,e,t,c,i,n||H2(l,t));return new on(r,this._parents,e,t)}cs.prototype.interrupt=Fw;cs.prototype.transition=U2;const As=e=>()=>e;function V2(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Zt(e,t,n){this.k=e,this.x=t,this.y=n}Zt.prototype={constructor:Zt,scale:function(e){return e===1?this:new Zt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Zt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Jt=new Zt(1,0,0);Zt.prototype;function Ha(e){e.stopImmediatePropagation()}function uo(e){e.preventDefault(),e.stopImmediatePropagation()}function B2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function W2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function tf(){return this.__zoom||Jt}function Y2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function X2(){return navigator.maxTouchPoints||"ontouchstart"in this}function G2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],i=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i))}function $0(){var e=B2,t=W2,n=G2,r=Y2,o=X2,s=[0,1/0],i=[[-1/0,-1/0],[1/0,1/0]],a=250,l=$w,c=ls("start","zoom","end"),u,d,f,p=500,x=150,y=0,k=10;function h(b){b.property("__zoom",tf).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",I).filter(o).on("touchstart.zoom",F).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(b,M,$,z){var N=b.selection?b.selection():b;N.property("__zoom",tf),b!==N?S(b,M,$,z):N.interrupt().each(function(){_(this,arguments).event(z).start().zoom(null,typeof M=="function"?M.apply(this,arguments):M).end()})},h.scaleBy=function(b,M,$,z){h.scaleTo(b,function(){var N=this.__zoom.k,E=typeof M=="function"?M.apply(this,arguments):M;return N*E},$,z)},h.scaleTo=function(b,M,$,z){h.transform(b,function(){var N=t.apply(this,arguments),E=this.__zoom,j=$==null?v(N):typeof $=="function"?$.apply(this,arguments):$,D=E.invert(j),L=typeof M=="function"?M.apply(this,arguments):M;return n(w(g(E,L),j,D),N,i)},$,z)},h.translateBy=function(b,M,$,z){h.transform(b,function(){return n(this.__zoom.translate(typeof M=="function"?M.apply(this,arguments):M,typeof $=="function"?$.apply(this,arguments):$),t.apply(this,arguments),i)},null,z)},h.translateTo=function(b,M,$,z,N){h.transform(b,function(){var E=t.apply(this,arguments),j=this.__zoom,D=z==null?v(E):typeof z=="function"?z.apply(this,arguments):z;return n(Jt.translate(D[0],D[1]).scale(j.k).translate(typeof M=="function"?-M.apply(this,arguments):-M,typeof $=="function"?-$.apply(this,arguments):-$),E,i)},z,N)};function g(b,M){return M=Math.max(s[0],Math.min(s[1],M)),M===b.k?b:new Zt(M,b.x,b.y)}function w(b,M,$){var z=M[0]-$[0]*b.k,N=M[1]-$[1]*b.k;return z===b.x&&N===b.y?b:new Zt(b.k,z,N)}function v(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function S(b,M,$,z){b.on("start.zoom",function(){_(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(z).end()}).tween("zoom",function(){var N=this,E=arguments,j=_(N,E).event(z),D=t.apply(N,E),L=$==null?v(D):typeof $=="function"?$.apply(N,E):$,B=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),V=N.__zoom,Y=typeof M=="function"?M.apply(N,E):M,X=l(V.invert(L).concat(B/V.k),Y.invert(L).concat(B/Y.k));return function(q){if(q===1)q=Y;else{var ie=X(q),oe=B/ie[2];q=new Zt(oe,L[0]-ie[0]*oe,L[1]-ie[1]*oe)}j.zoom(null,q)}})}function _(b,M,$){return!$&&b.__zooming||new C(b,M)}function C(b,M){this.that=b,this.args=M,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,M),this.taps=0}C.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,M){return this.mouse&&b!=="mouse"&&(this.mouse[1]=M.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=M.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=M.invert(this.touch1[0])),this.that.__zoom=M,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var M=yt(this.that).datum();c.call(b,this.that,new V2(b,{sourceEvent:this.sourceEvent,target:h,transform:this.that.__zoom,dispatch:c}),M)}};function P(b,...M){if(!e.apply(this,arguments))return;var $=_(this,M).event(b),z=this.__zoom,N=Math.max(s[0],Math.min(s[1],z.k*Math.pow(2,r.apply(this,arguments)))),E=Mt(b);if($.wheel)($.mouse[0][0]!==E[0]||$.mouse[0][1]!==E[1])&&($.mouse[1]=z.invert($.mouse[0]=E)),clearTimeout($.wheel);else{if(z.k===N)return;$.mouse=[E,z.invert(E)],ei(this),$.start()}uo(b),$.wheel=setTimeout(j,x),$.zoom("mouse",n(w(g(z,N),$.mouse[0],$.mouse[1]),$.extent,i));function j(){$.wheel=null,$.end()}}function A(b,...M){if(f||!e.apply(this,arguments))return;var $=b.currentTarget,z=_(this,M,!0).event(b),N=yt(b.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",B,!0),E=Mt(b,$),j=b.clientX,D=b.clientY;y0(b.view),Ha(b),z.mouse=[E,this.__zoom.invert(E)],ei(this),z.start();function L(V){if(uo(V),!z.moved){var Y=V.clientX-j,X=V.clientY-D;z.moved=Y*Y+X*X>y}z.event(V).zoom("mouse",n(w(z.that.__zoom,z.mouse[0]=Mt(V,$),z.mouse[1]),z.extent,i))}function B(V){N.on("mousemove.zoom mouseup.zoom",null),x0(V.view,z.moved),uo(V),z.event(V).end()}}function I(b,...M){if(e.apply(this,arguments)){var $=this.__zoom,z=Mt(b.changedTouches?b.changedTouches[0]:b,this),N=$.invert(z),E=$.k*(b.shiftKey?.5:2),j=n(w(g($,E),z,N),t.apply(this,M),i);uo(b),a>0?yt(this).transition().duration(a).call(S,j,z,b):yt(this).call(h.transform,j,z,b)}}function F(b,...M){if(e.apply(this,arguments)){var $=b.touches,z=$.length,N=_(this,M,b.changedTouches.length===z).event(b),E,j,D,L;for(Ha(b),j=0;j<z;++j)D=$[j],L=Mt(D,this),L=[L,this.__zoom.invert(L),D.identifier],N.touch0?!N.touch1&&N.touch0[2]!==L[2]&&(N.touch1=L,N.taps=0):(N.touch0=L,E=!0,N.taps=1+!!u);u&&(u=clearTimeout(u)),E&&(N.taps<2&&(d=L[0],u=setTimeout(function(){u=null},p)),ei(this),N.start())}}function H(b,...M){if(this.__zooming){var $=_(this,M).event(b),z=b.changedTouches,N=z.length,E,j,D,L;for(uo(b),E=0;E<N;++E)j=z[E],D=Mt(j,this),$.touch0&&$.touch0[2]===j.identifier?$.touch0[0]=D:$.touch1&&$.touch1[2]===j.identifier&&($.touch1[0]=D);if(j=$.that.__zoom,$.touch1){var B=$.touch0[0],V=$.touch0[1],Y=$.touch1[0],X=$.touch1[1],q=(q=Y[0]-B[0])*q+(q=Y[1]-B[1])*q,ie=(ie=X[0]-V[0])*ie+(ie=X[1]-V[1])*ie;j=g(j,Math.sqrt(q/ie)),D=[(B[0]+Y[0])/2,(B[1]+Y[1])/2],L=[(V[0]+X[0])/2,(V[1]+X[1])/2]}else if($.touch0)D=$.touch0[0],L=$.touch0[1];else return;$.zoom("touch",n(w(j,D,L),$.extent,i))}}function O(b,...M){if(this.__zooming){var $=_(this,M).event(b),z=b.changedTouches,N=z.length,E,j;for(Ha(b),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),E=0;E<N;++E)j=z[E],$.touch0&&$.touch0[2]===j.identifier?delete $.touch0:$.touch1&&$.touch1[2]===j.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(j=Mt(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<k)){var D=yt(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return h.wheelDelta=function(b){return arguments.length?(r=typeof b=="function"?b:As(+b),h):r},h.filter=function(b){return arguments.length?(e=typeof b=="function"?b:As(!!b),h):e},h.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:As(!!b),h):o},h.extent=function(b){return arguments.length?(t=typeof b=="function"?b:As([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),h):t},h.scaleExtent=function(b){return arguments.length?(s[0]=+b[0],s[1]=+b[1],h):[s[0],s[1]]},h.translateExtent=function(b){return arguments.length?(i[0][0]=+b[0][0],i[1][0]=+b[1][0],i[0][1]=+b[0][1],i[1][1]=+b[1][1],h):[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},h.constrain=function(b){return arguments.length?(n=b,h):n},h.duration=function(b){return arguments.length?(a=+b,h):a},h.interpolate=function(b){return arguments.length?(l=b,h):l},h.on=function(){var b=c.on.apply(c,arguments);return b===c?h:b},h.clickDistance=function(b){return arguments.length?(y=(b=+b)*b,h):Math.sqrt(y)},h.tapDistance=function(b){return arguments.length?(k=+b,h):k},h}const sa=T.createContext(null),Q2=sa.Provider,sn={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},P0=sn.error001();function fe(e,t){const n=T.useContext(sa);if(n===null)throw new Error(P0);return o0(n,e,t)}const je=()=>{const e=T.useContext(sa);if(e===null)throw new Error(P0);return T.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},K2=e=>e.userSelectionActive?"none":"all";function iu({position:e,children:t,className:n,style:r,...o}){const s=fe(K2),i=`${e}`.split("-");return R.createElement("div",{className:Fe(["react-flow__panel",n,...i]),style:{...r,pointerEvents:s},...o},t)}function Z2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:R.createElement(iu,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},R.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const q2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:s={},labelBgPadding:i=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u})=>{const d=T.useRef(null),[f,p]=T.useState({x:0,y:0,width:0,height:0}),x=Fe(["react-flow__edge-textwrapper",c]);return T.useEffect(()=>{if(d.current){const y=d.current.getBBox();p({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),typeof n>"u"||!n?null:R.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:x,visibility:f.width?"visible":"hidden",...u},o&&R.createElement("rect",{width:f.width+2*i[0],x:-i[0],y:-i[1],height:f.height+2*i[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),R.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),l)};var J2=T.memo(q2);const au=e=>({width:e.offsetWidth,height:e.offsetHeight}),Qr=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),lu=(e={x:0,y:0},t)=>({x:Qr(e.x,t[0][0],t[1][0]),y:Qr(e.y,t[0][1],t[1][1])}),nf=(e,t,n)=>e<t?Qr(Math.abs(e-t),1,50)/50:e>n?-Qr(Math.abs(e-n),1,50)/50:0,A0=(e,t)=>{const n=nf(e.x,35,t.width-35)*20,r=nf(e.y,35,t.height-35)*20;return[n,r]},I0=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},D0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Jo=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),z0=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),rf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),ek=(e,t)=>z0(D0(Jo(e),Jo(t))),Kl=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},tk=e=>vt(e.width)&&vt(e.height)&&vt(e.x)&&vt(e.y),vt=e=>!isNaN(e)&&isFinite(e),Se=Symbol.for("internals"),L0=["Enter"," ","Escape"],nk=(e,t)=>{},rk=e=>"nativeEvent"in e;function Zl(e){var o,s;const t=rk(e)?e.nativeEvent:e,n=((s=(o=t.composedPath)==null?void 0:o.call(t))==null?void 0:s[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const R0=e=>"clientX"in e,In=(e,t)=>{var s,i;const n=R0(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(i=e.touches)==null?void 0:i[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},$i=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},ds=({id:e,path:t,labelX:n,labelY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:f,interactionWidth:p=20})=>R.createElement(R.Fragment,null,R.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),p&&R.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),o&&vt(n)&&vt(r)?R.createElement(J2,{x:n,y:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c}):null);ds.displayName="BaseEdge";function fo(e,t,n){return n===void 0?n:r=>{const o=t().edges.find(s=>s.id===e);o&&n(r,{...o})}}function F0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,i=Math.abs(r-t)/2,a=r<t?r+i:r-i;return[s,a,o,i]}function O0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:i,targetControlY:a}){const l=e*.125+o*.375+i*.375+n*.125,c=t*.125+s*.375+a*.375+r*.125,u=Math.abs(l-e),d=Math.abs(c-t);return[l,c,u,d]}var lr;(function(e){e.Strict="strict",e.Loose="loose"})(lr||(lr={}));var Kn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Kn||(Kn={}));var es;(function(e){e.Partial="partial",e.Full="full"})(es||(es={}));var Sn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Sn||(Sn={}));var Pi;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Pi||(Pi={}));var Q;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Q||(Q={}));function of({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Q.Left||e===Q.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function H0({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:o,targetPosition:s=Q.Top}){const[i,a]=of({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,c]=of({pos:s,x1:r,y1:o,x2:e,y2:t}),[u,d,f,p]=O0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${i},${a} ${l},${c} ${r},${o}`,u,d,f,p]}const cu=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Q.Bottom,targetPosition:s=Q.Top,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:x,interactionWidth:y})=>{const[k,h,g]=H0({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s});return R.createElement(ds,{path:k,labelX:h,labelY:g,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:x,interactionWidth:y})});cu.displayName="SimpleBezierEdge";const sf={[Q.Left]:{x:-1,y:0},[Q.Right]:{x:1,y:0},[Q.Top]:{x:0,y:-1},[Q.Bottom]:{x:0,y:1}},ok=({source:e,sourcePosition:t=Q.Bottom,target:n})=>t===Q.Left||t===Q.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},af=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function sk({source:e,sourcePosition:t=Q.Bottom,target:n,targetPosition:r=Q.Top,center:o,offset:s}){const i=sf[t],a=sf[r],l={x:e.x+i.x*s,y:e.y+i.y*s},c={x:n.x+a.x*s,y:n.y+a.y*s},u=ok({source:l,sourcePosition:t,target:c}),d=u.x!==0?"x":"y",f=u[d];let p=[],x,y;const k={x:0,y:0},h={x:0,y:0},[g,w,v,S]=F0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(i[d]*a[d]===-1){x=o.x??g,y=o.y??w;const C=[{x,y:l.y},{x,y:c.y}],P=[{x:l.x,y},{x:c.x,y}];i[d]===f?p=d==="x"?C:P:p=d==="x"?P:C}else{const C=[{x:l.x,y:c.y}],P=[{x:c.x,y:l.y}];if(d==="x"?p=i.x===f?P:C:p=i.y===f?C:P,t===r){const O=Math.abs(e[d]-n[d]);if(O<=s){const b=Math.min(s-1,s-O);i[d]===f?k[d]=(l[d]>e[d]?-1:1)*b:h[d]=(c[d]>n[d]?-1:1)*b}}if(t!==r){const O=d==="x"?"y":"x",b=i[d]===a[O],M=l[O]>c[O],$=l[O]<c[O];(i[d]===1&&(!b&&M||b&&$)||i[d]!==1&&(!b&&$||b&&M))&&(p=d==="x"?C:P)}const A={x:l.x+k.x,y:l.y+k.y},I={x:c.x+h.x,y:c.y+h.y},F=Math.max(Math.abs(A.x-p[0].x),Math.abs(I.x-p[0].x)),H=Math.max(Math.abs(A.y-p[0].y),Math.abs(I.y-p[0].y));F>=H?(x=(A.x+I.x)/2,y=p[0].y):(x=p[0].x,y=(A.y+I.y)/2)}return[[e,{x:l.x+k.x,y:l.y+k.y},...p,{x:c.x+h.x,y:c.y+h.y},n],x,y,v,S]}function ik(e,t,n,r){const o=Math.min(af(e,t)/2,af(t,n)/2,r),{x:s,y:i}=t;if(e.x===s&&s===n.x||e.y===i&&i===n.y)return`L${s} ${i}`;if(e.y===i){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${s+o*c},${i}Q ${s},${i} ${s},${i+o*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${i+o*l}Q ${s},${i} ${s+o*a},${i}`}function ql({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:o,targetPosition:s=Q.Top,borderRadius:i=5,centerX:a,centerY:l,offset:c=20}){const[u,d,f,p,x]=sk({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:a,y:l},offset:c});return[u.reduce((k,h,g)=>{let w="";return g>0&&g<u.length-1?w=ik(u[g-1],h,u[g+1],i):w=`${g===0?"M":"L"}${h.x} ${h.y}`,k+=w,k},""),d,f,p,x]}const ia=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:d=Q.Bottom,targetPosition:f=Q.Top,markerEnd:p,markerStart:x,pathOptions:y,interactionWidth:k})=>{const[h,g,w]=ql({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:y==null?void 0:y.borderRadius,offset:y==null?void 0:y.offset});return R.createElement(ds,{path:h,labelX:g,labelY:w,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:p,markerStart:x,interactionWidth:k})});ia.displayName="SmoothStepEdge";const uu=T.memo(e=>{var t;return R.createElement(ia,{...e,pathOptions:T.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});uu.displayName="StepEdge";function ak({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,i,a]=F0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,i,a]}const du=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:f,interactionWidth:p})=>{const[x,y,k]=ak({sourceX:e,sourceY:t,targetX:n,targetY:r});return R.createElement(ds,{path:x,labelX:y,labelY:k,label:o,labelStyle:s,labelShowBg:i,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:d,markerStart:f,interactionWidth:p})});du.displayName="StraightEdge";function Is(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function lf({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case Q.Left:return[t-Is(t-r,s),n];case Q.Right:return[t+Is(r-t,s),n];case Q.Top:return[t,n-Is(n-o,s)];case Q.Bottom:return[t,n+Is(o-n,s)]}}function U0({sourceX:e,sourceY:t,sourcePosition:n=Q.Bottom,targetX:r,targetY:o,targetPosition:s=Q.Top,curvature:i=.25}){const[a,l]=lf({pos:n,x1:e,y1:t,x2:r,y2:o,c:i}),[c,u]=lf({pos:s,x1:r,y1:o,x2:e,y2:t,c:i}),[d,f,p,x]=O0({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${o}`,d,f,p,x]}const Ai=T.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:o=Q.Bottom,targetPosition:s=Q.Top,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:x,pathOptions:y,interactionWidth:k})=>{const[h,g,w]=U0({sourceX:e,sourceY:t,sourcePosition:o,targetX:n,targetY:r,targetPosition:s,curvature:y==null?void 0:y.curvature});return R.createElement(ds,{path:h,labelX:g,labelY:w,label:i,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:x,interactionWidth:k})});Ai.displayName="BezierEdge";const fu=T.createContext(null),lk=fu.Provider;fu.Consumer;const ck=()=>T.useContext(fu),uk=e=>"id"in e&&"source"in e&&"target"in e,dk=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Jl=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,fk=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),V0=(e,t)=>{if(!e.source||!e.target)return t;let n;return uk(e)?n={...e}:n={...e,id:dk(e)},fk(n,t)?t:t.concat(n)},ec=({x:e,y:t},[n,r,o],s,[i,a])=>{const l={x:(e-n)/o,y:(t-r)/o};return s?{x:i*Math.round(l.x/i),y:a*Math.round(l.y/a)}:l},B0=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),er=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],o={x:e.position.x-n,y:e.position.y-r};return{...o,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:o}},aa=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const{x:s,y:i}=er(o,t).positionAbsolute;return D0(r,Jo({x:s,y:i,width:o.width||0,height:o.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return z0(n)},W0=(e,t,[n,r,o]=[0,0,1],s=!1,i=!1,a=[0,0])=>{const l={x:(t.x-n)/o,y:(t.y-r)/o,width:t.width/o,height:t.height/o},c=[];return e.forEach(u=>{const{width:d,height:f,selectable:p=!0,hidden:x=!1}=u;if(i&&!p||x)return!1;const{positionAbsolute:y}=er(u,a),k={x:y.x,y:y.y,width:d||0,height:f||0},h=Kl(l,k),g=typeof d>"u"||typeof f>"u"||d===null||f===null,w=s&&h>0,v=(d||0)*(f||0);(g||w||h>=v||u.dragging)&&c.push(u)}),c},Y0=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},X0=(e,t,n,r,o,s=.1)=>{const i=t/(e.width*(1+s)),a=n/(e.height*(1+s)),l=Math.min(i,a),c=Qr(l,r,o),u=e.x+e.width/2,d=e.y+e.height/2,f=t/2-u*c,p=n/2-d*c;return{x:f,y:p,zoom:c}},Wn=(e,t=0)=>e.transition().duration(t);function cf(e,t,n,r){return(t[n]||[]).reduce((o,s)=>{var i,a;return`${e.id}-${s.id}-${n}`!==r&&o.push({id:s.id||null,type:n,nodeId:e.id,x:(((i=e.positionAbsolute)==null?void 0:i.x)??0)+s.x+s.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+s.y+s.height/2}),o},[])}function hk(e,t,n,r,o,s){const{x:i,y:a}=In(e),c=t.elementsFromPoint(i,a).find(x=>x.classList.contains("react-flow__handle"));if(c){const x=c.getAttribute("data-nodeid");if(x){const y=hu(void 0,c),k=c.getAttribute("data-handleid"),h=s({nodeId:x,id:k,type:y});if(h){const g=o.find(w=>w.nodeId===x&&w.type===y&&w.id===k);return{handle:{id:k,type:y,nodeId:x,x:(g==null?void 0:g.x)||n.x,y:(g==null?void 0:g.y)||n.y},validHandleResult:h}}}}let u=[],d=1/0;if(o.forEach(x=>{const y=Math.sqrt((x.x-n.x)**2+(x.y-n.y)**2);if(y<=r){const k=s(x);y<=d&&(y<d?u=[{handle:x,validHandleResult:k}]:y===d&&u.push({handle:x,validHandleResult:k}),d=y)}}),!u.length)return{handle:null,validHandleResult:G0()};if(u.length===1)return u[0];const f=u.some(({validHandleResult:x})=>x.isValid),p=u.some(({handle:x})=>x.type==="target");return u.find(({handle:x,validHandleResult:y})=>p?x.type==="target":f?y.isValid:!0)||u[0]}const pk={source:null,target:null,sourceHandle:null,targetHandle:null},G0=()=>({handleDomNode:null,isValid:!1,connection:pk,endHandle:null});function Q0(e,t,n,r,o,s,i){const a=o==="target",l=i.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...G0(),handleDomNode:l};if(l){const u=hu(void 0,l),d=l.getAttribute("data-nodeid"),f=l.getAttribute("data-handleid"),p=l.classList.contains("connectable"),x=l.classList.contains("connectableend"),y={source:a?d:n,sourceHandle:a?f:r,target:a?n:d,targetHandle:a?r:f};c.connection=y,p&&x&&(t===lr.Strict?a&&u==="source"||!a&&u==="target":d!==n||f!==r)&&(c.endHandle={nodeId:d,handleId:f,type:u},c.isValid=s(y))}return c}function mk({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((o,s)=>{if(s[Se]){const{handleBounds:i}=s[Se];let a=[],l=[];i&&(a=cf(s,i,"source",`${t}-${n}-${r}`),l=cf(s,i,"target",`${t}-${n}-${r}`)),o.push(...a,...l)}return o},[])}function hu(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Ua(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function gk(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function K0({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:o,getState:s,setState:i,isValidConnection:a,edgeUpdaterType:l,onReconnectEnd:c}){const u=I0(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:p,connectionRadius:x,onConnectStart:y,panBy:k,getNodes:h,cancelConnection:g}=s();let w=0,v;const{x:S,y:_}=In(e),C=u==null?void 0:u.elementFromPoint(S,_),P=hu(l,C),A=f==null?void 0:f.getBoundingClientRect();if(!A||!P)return;let I,F=In(e,A),H=!1,O=null,b=!1,M=null;const $=mk({nodes:h(),nodeId:n,handleId:t,handleType:P}),z=()=>{if(!p)return;const[j,D]=A0(F,A);k({x:j,y:D}),w=requestAnimationFrame(z)};i({connectionPosition:F,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:P,connectionStartHandle:{nodeId:n,handleId:t,type:P},connectionEndHandle:null}),y==null||y(e,{nodeId:n,handleId:t,handleType:P});function N(j){const{transform:D}=s();F=In(j,A);const{handle:L,validHandleResult:B}=hk(j,u,ec(F,D,!1,[1,1]),x,$,V=>Q0(V,d,n,t,o?"target":"source",a,u));if(v=L,H||(z(),H=!0),M=B.handleDomNode,O=B.connection,b=B.isValid,i({connectionPosition:v&&b?B0({x:v.x,y:v.y},D):F,connectionStatus:gk(!!v,b),connectionEndHandle:B.endHandle}),!v&&!b&&!M)return Ua(I);O.source!==O.target&&M&&(Ua(I),I=M,M.classList.add("connecting","react-flow__handle-connecting"),M.classList.toggle("valid",b),M.classList.toggle("react-flow__handle-valid",b))}function E(j){var D,L;(v||M)&&O&&b&&(r==null||r(O)),(L=(D=s()).onConnectEnd)==null||L.call(D,j),l&&(c==null||c(j)),Ua(I),g(),cancelAnimationFrame(w),H=!1,b=!1,O=null,M=null,u.removeEventListener("mousemove",N),u.removeEventListener("mouseup",E),u.removeEventListener("touchmove",N),u.removeEventListener("touchend",E)}u.addEventListener("mousemove",N),u.addEventListener("mouseup",E),u.addEventListener("touchmove",N),u.addEventListener("touchend",E)}const uf=()=>!0,yk=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),xk=(e,t,n)=>r=>{const{connectionStartHandle:o,connectionEndHandle:s,connectionClickStartHandle:i}=r;return{connecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n||(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n}},Z0=T.forwardRef(({type:e="source",position:t=Q.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:i,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:d,...f},p)=>{var A,I;const x=i||null,y=e==="target",k=je(),h=ck(),{connectOnClick:g,noPanClassName:w}=fe(yk,De),{connecting:v,clickConnecting:S}=fe(xk(h,x,e),De);h||(I=(A=k.getState()).onError)==null||I.call(A,"010",sn.error010());const _=F=>{const{defaultEdgeOptions:H,onConnect:O,hasDefaultEdges:b}=k.getState(),M={...H,...F};if(b){const{edges:$,setEdges:z}=k.getState();z(V0(M,$))}O==null||O(M),a==null||a(M)},C=F=>{if(!h)return;const H=R0(F);o&&(H&&F.button===0||!H)&&K0({event:F,handleId:x,nodeId:h,onConnect:_,isTarget:y,getState:k.getState,setState:k.setState,isValidConnection:n||k.getState().isValidConnection||uf}),H?u==null||u(F):d==null||d(F)},P=F=>{const{onClickConnectStart:H,onClickConnectEnd:O,connectionClickStartHandle:b,connectionMode:M,isValidConnection:$}=k.getState();if(!h||!b&&!o)return;if(!b){H==null||H(F,{nodeId:h,handleId:x,handleType:e}),k.setState({connectionClickStartHandle:{nodeId:h,type:e,handleId:x}});return}const z=I0(F.target),N=n||$||uf,{connection:E,isValid:j}=Q0({nodeId:h,id:x,type:e},M,b.nodeId,b.handleId||null,b.type,N,z);j&&_(E),O==null||O(F),k.setState({connectionClickStartHandle:null})};return R.createElement("div",{"data-handleid":x,"data-nodeid":h,"data-handlepos":t,"data-id":`${h}-${x}-${e}`,className:Fe(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",w,c,{source:!y,target:y,connectable:r,connectablestart:o,connectableend:s,connecting:S,connectionindicator:r&&(o&&!v||s&&v)}]),onMouseDown:C,onTouchStart:C,onClick:g?P:void 0,ref:p,...f},l)});Z0.displayName="Handle";var Kr=T.memo(Z0);const q0=({data:e,isConnectable:t,targetPosition:n=Q.Top,sourcePosition:r=Q.Bottom})=>R.createElement(R.Fragment,null,R.createElement(Kr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,R.createElement(Kr,{type:"source",position:r,isConnectable:t}));q0.displayName="DefaultNode";var tc=T.memo(q0);const J0=({data:e,isConnectable:t,sourcePosition:n=Q.Bottom})=>R.createElement(R.Fragment,null,e==null?void 0:e.label,R.createElement(Kr,{type:"source",position:n,isConnectable:t}));J0.displayName="InputNode";var em=T.memo(J0);const tm=({data:e,isConnectable:t,targetPosition:n=Q.Top})=>R.createElement(R.Fragment,null,R.createElement(Kr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);tm.displayName="OutputNode";var nm=T.memo(tm);const pu=()=>null;pu.displayName="GroupNode";const vk=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Ds=e=>e.id;function wk(e,t){return De(e.selectedNodes.map(Ds),t.selectedNodes.map(Ds))&&De(e.selectedEdges.map(Ds),t.selectedEdges.map(Ds))}const rm=T.memo(({onSelectionChange:e})=>{const t=je(),{selectedNodes:n,selectedEdges:r}=fe(vk,wk);return T.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChange.forEach(s=>s(o))},[n,r,e]),null});rm.displayName="SelectionListener";const kk=e=>!!e.onSelectionChange;function Sk({onSelectionChange:e}){const t=fe(kk);return e||t?R.createElement(rm,{onSelectionChange:e}):null}const Nk=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function fr(e,t){T.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ne(e,t,n){T.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const Ek=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:o,onConnectStart:s,onConnectEnd:i,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:p,elevateNodesOnSelect:x,minZoom:y,maxZoom:k,nodeExtent:h,onNodesChange:g,onEdgesChange:w,elementsSelectable:v,connectionMode:S,snapGrid:_,snapToGrid:C,translateExtent:P,connectOnClick:A,defaultEdgeOptions:I,fitView:F,fitViewOptions:H,onNodesDelete:O,onEdgesDelete:b,onNodeDrag:M,onNodeDragStart:$,onNodeDragStop:z,onSelectionDrag:N,onSelectionDragStart:E,onSelectionDragStop:j,noPanClassName:D,nodeOrigin:L,rfId:B,autoPanOnConnect:V,autoPanOnNodeDrag:Y,onError:X,connectionRadius:q,isValidConnection:ie,nodeDragThreshold:oe})=>{const{setNodes:ee,setEdges:be,setDefaultNodesAndEdges:we,setMinZoom:_e,setMaxZoom:ge,setTranslateExtent:le,setNodeExtent:Be,reset:ae}=fe(Nk,De),G=je();return T.useEffect(()=>{const Ce=r==null?void 0:r.map(Nt=>({...Nt,...I}));return we(n,Ce),()=>{ae()}},[]),ne("defaultEdgeOptions",I,G.setState),ne("connectionMode",S,G.setState),ne("onConnect",o,G.setState),ne("onConnectStart",s,G.setState),ne("onConnectEnd",i,G.setState),ne("onClickConnectStart",a,G.setState),ne("onClickConnectEnd",l,G.setState),ne("nodesDraggable",c,G.setState),ne("nodesConnectable",u,G.setState),ne("nodesFocusable",d,G.setState),ne("edgesFocusable",f,G.setState),ne("edgesUpdatable",p,G.setState),ne("elementsSelectable",v,G.setState),ne("elevateNodesOnSelect",x,G.setState),ne("snapToGrid",C,G.setState),ne("snapGrid",_,G.setState),ne("onNodesChange",g,G.setState),ne("onEdgesChange",w,G.setState),ne("connectOnClick",A,G.setState),ne("fitViewOnInit",F,G.setState),ne("fitViewOnInitOptions",H,G.setState),ne("onNodesDelete",O,G.setState),ne("onEdgesDelete",b,G.setState),ne("onNodeDrag",M,G.setState),ne("onNodeDragStart",$,G.setState),ne("onNodeDragStop",z,G.setState),ne("onSelectionDrag",N,G.setState),ne("onSelectionDragStart",E,G.setState),ne("onSelectionDragStop",j,G.setState),ne("noPanClassName",D,G.setState),ne("nodeOrigin",L,G.setState),ne("rfId",B,G.setState),ne("autoPanOnConnect",V,G.setState),ne("autoPanOnNodeDrag",Y,G.setState),ne("onError",X,G.setState),ne("connectionRadius",q,G.setState),ne("isValidConnection",ie,G.setState),ne("nodeDragThreshold",oe,G.setState),fr(e,ee),fr(t,be),fr(y,_e),fr(k,ge),fr(P,le),fr(h,Be),null},df={display:"none"},bk={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},om="react-flow__node-desc",sm="react-flow__edge-desc",_k="react-flow__aria-live",Ck=e=>e.ariaLiveMessage;function Mk({rfId:e}){const t=fe(Ck);return R.createElement("div",{id:`${_k}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:bk},t)}function Tk({rfId:e,disableKeyboardA11y:t}){return R.createElement(R.Fragment,null,R.createElement("div",{id:`${om}-${e}`,style:df},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),R.createElement("div",{id:`${sm}-${e}`,style:df},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&R.createElement(Mk,{rfId:e}))}var ts=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=T.useState(!1),o=T.useRef(!1),s=T.useRef(new Set([])),[i,a]=T.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=c.reduce((d,f)=>d.concat(...f),[]);return[c,u]}return[[],[]]},[e]);return T.useEffect(()=>{const l=typeof document<"u"?document:null,c=(t==null?void 0:t.target)||l;if(e!==null){const u=p=>{if(o.current=p.ctrlKey||p.metaKey||p.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Zl(p))return!1;const y=hf(p.code,a);s.current.add(p[y]),ff(i,s.current,!1)&&(p.preventDefault(),r(!0))},d=p=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&Zl(p))return!1;const y=hf(p.code,a);ff(i,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(p[y]),p.key==="Meta"&&s.current.clear(),o.current=!1},f=()=>{s.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function ff(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function hf(e,t){return t.includes(e)?"code":"key"}function im(e,t,n,r){var a,l;const o=e.parentNode||e.parentId;if(!o)return n;const s=t.get(o),i=er(s,r);return im(s,t,{x:(n.x??0)+i.x,y:(n.y??0)+i.y,z:(((a=s[Se])==null?void 0:a.z)??0)>(n.z??0)?((l=s[Se])==null?void 0:l.z)??0:n.z??0},r)}function am(e,t,n){e.forEach(r=>{var s;const o=r.parentNode||r.parentId;if(o&&!e.has(o))throw new Error(`Parent node ${o} not found`);if(o||n!=null&&n[r.id]){const{x:i,y:a,z:l}=im(r,e,{...r.position,z:((s=r[Se])==null?void 0:s.z)??0},t);r.positionAbsolute={x:i,y:a},r[Se].z=l,n!=null&&n[r.id]&&(r[Se].isParent=!0)}})}function Va(e,t,n,r){const o=new Map,s={},i=r?1e3:0;return e.forEach(a=>{var p;const l=(vt(a.zIndex)?a.zIndex:0)+(a.selected?i:0),c=t.get(a.id),u={...a,positionAbsolute:{x:a.position.x,y:a.position.y}},d=a.parentNode||a.parentId;d&&(s[d]=!0);const f=(c==null?void 0:c.type)&&(c==null?void 0:c.type)!==a.type;Object.defineProperty(u,Se,{enumerable:!1,value:{handleBounds:f||(p=c==null?void 0:c[Se])==null?void 0:p.handleBounds,z:l}}),o.set(a.id,u)}),am(o,n,s),o}function lm(e,t={}){const{getNodes:n,width:r,height:o,minZoom:s,maxZoom:i,d3Zoom:a,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:d}=e(),f=t.initial&&!c&&u;if(a&&l&&(f||!t.initial)){const x=n().filter(k=>{var g;const h=t.includeHiddenNodes?k.width&&k.height:!k.hidden;return(g=t.nodes)!=null&&g.length?h&&t.nodes.some(w=>w.id===k.id):h}),y=x.every(k=>k.width&&k.height);if(x.length>0&&y){const k=aa(x,d),{x:h,y:g,zoom:w}=X0(k,r,o,t.minZoom??s,t.maxZoom??i,t.padding??.1),v=Jt.translate(h,g).scale(w);return typeof t.duration=="number"&&t.duration>0?a.transform(Wn(l,t.duration),v):a.transform(l,v),!0}}return!1}function jk(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Se]:r[Se],selected:n.selected})}),new Map(t)}function $k(e,t){return t.map(n=>{const r=e.find(o=>o.id===n.id);return r&&(n.selected=r.selected),n})}function zs({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:o,edges:s,onNodesChange:i,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:c}=n();e!=null&&e.length&&(l&&r({nodeInternals:jk(e,o)}),i==null||i(e)),t!=null&&t.length&&(c&&r({edges:$k(t,s)}),a==null||a(t))}const hr=()=>{},Pk={zoomIn:hr,zoomOut:hr,zoomTo:hr,getZoom:()=>1,setViewport:hr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:hr,fitBounds:hr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Ak=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Ik=()=>{const e=je(),{d3Zoom:t,d3Selection:n}=fe(Ak,De);return T.useMemo(()=>n&&t?{zoomIn:o=>t.scaleBy(Wn(n,o==null?void 0:o.duration),1.2),zoomOut:o=>t.scaleBy(Wn(n,o==null?void 0:o.duration),1/1.2),zoomTo:(o,s)=>t.scaleTo(Wn(n,s==null?void 0:s.duration),o),getZoom:()=>e.getState().transform[2],setViewport:(o,s)=>{const[i,a,l]=e.getState().transform,c=Jt.translate(o.x??i,o.y??a).scale(o.zoom??l);t.transform(Wn(n,s==null?void 0:s.duration),c)},getViewport:()=>{const[o,s,i]=e.getState().transform;return{x:o,y:s,zoom:i}},fitView:o=>lm(e.getState,o),setCenter:(o,s,i)=>{const{width:a,height:l,maxZoom:c}=e.getState(),u=typeof(i==null?void 0:i.zoom)<"u"?i.zoom:c,d=a/2-o*u,f=l/2-s*u,p=Jt.translate(d,f).scale(u);t.transform(Wn(n,i==null?void 0:i.duration),p)},fitBounds:(o,s)=>{const{width:i,height:a,minZoom:l,maxZoom:c}=e.getState(),{x:u,y:d,zoom:f}=X0(o,i,a,l,c,(s==null?void 0:s.padding)??.1),p=Jt.translate(u,d).scale(f);t.transform(Wn(n,s==null?void 0:s.duration),p)},project:o=>{const{transform:s,snapToGrid:i,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),ec(o,s,i,a)},screenToFlowPosition:o=>{const{transform:s,snapToGrid:i,snapGrid:a,domNode:l}=e.getState();if(!l)return o;const{x:c,y:u}=l.getBoundingClientRect(),d={x:o.x-c,y:o.y-u};return ec(d,s,i,a)},flowToScreenPosition:o=>{const{transform:s,domNode:i}=e.getState();if(!i)return o;const{x:a,y:l}=i.getBoundingClientRect(),c=B0(o,s);return{x:c.x+a,y:c.y+l}},viewportInitialized:!0}:Pk,[t,n])};function la(){const e=Ik(),t=je(),n=T.useCallback(()=>t.getState().getNodes().map(y=>({...y})),[]),r=T.useCallback(y=>t.getState().nodeInternals.get(y),[]),o=T.useCallback(()=>{const{edges:y=[]}=t.getState();return y.map(k=>({...k}))},[]),s=T.useCallback(y=>{const{edges:k=[]}=t.getState();return k.find(h=>h.id===y)},[]),i=T.useCallback(y=>{const{getNodes:k,setNodes:h,hasDefaultNodes:g,onNodesChange:w}=t.getState(),v=k(),S=typeof y=="function"?y(v):y;if(g)h(S);else if(w){const _=S.length===0?v.map(C=>({type:"remove",id:C.id})):S.map(C=>({item:C,type:"reset"}));w(_)}},[]),a=T.useCallback(y=>{const{edges:k=[],setEdges:h,hasDefaultEdges:g,onEdgesChange:w}=t.getState(),v=typeof y=="function"?y(k):y;if(g)h(v);else if(w){const S=v.length===0?k.map(_=>({type:"remove",id:_.id})):v.map(_=>({item:_,type:"reset"}));w(S)}},[]),l=T.useCallback(y=>{const k=Array.isArray(y)?y:[y],{getNodes:h,setNodes:g,hasDefaultNodes:w,onNodesChange:v}=t.getState();if(w){const _=[...h(),...k];g(_)}else if(v){const S=k.map(_=>({item:_,type:"add"}));v(S)}},[]),c=T.useCallback(y=>{const k=Array.isArray(y)?y:[y],{edges:h=[],setEdges:g,hasDefaultEdges:w,onEdgesChange:v}=t.getState();if(w)g([...h,...k]);else if(v){const S=k.map(_=>({item:_,type:"add"}));v(S)}},[]),u=T.useCallback(()=>{const{getNodes:y,edges:k=[],transform:h}=t.getState(),[g,w,v]=h;return{nodes:y().map(S=>({...S})),edges:k.map(S=>({...S})),viewport:{x:g,y:w,zoom:v}}},[]),d=T.useCallback(({nodes:y,edges:k})=>{const{nodeInternals:h,getNodes:g,edges:w,hasDefaultNodes:v,hasDefaultEdges:S,onNodesDelete:_,onEdgesDelete:C,onNodesChange:P,onEdgesChange:A}=t.getState(),I=(y||[]).map(M=>M.id),F=(k||[]).map(M=>M.id),H=g().reduce((M,$)=>{const z=$.parentNode||$.parentId,N=!I.includes($.id)&&z&&M.find(j=>j.id===z);return(typeof $.deletable=="boolean"?$.deletable:!0)&&(I.includes($.id)||N)&&M.push($),M},[]),O=w.filter(M=>typeof M.deletable=="boolean"?M.deletable:!0),b=O.filter(M=>F.includes(M.id));if(H||b){const M=Y0(H,O),$=[...b,...M],z=$.reduce((N,E)=>(N.includes(E.id)||N.push(E.id),N),[]);if((S||v)&&(S&&t.setState({edges:w.filter(N=>!z.includes(N.id))}),v&&(H.forEach(N=>{h.delete(N.id)}),t.setState({nodeInternals:new Map(h)}))),z.length>0&&(C==null||C($),A&&A(z.map(N=>({id:N,type:"remove"})))),H.length>0&&(_==null||_(H),P)){const N=H.map(E=>({id:E.id,type:"remove"}));P(N)}}},[]),f=T.useCallback(y=>{const k=tk(y),h=k?null:t.getState().nodeInternals.get(y.id);return!k&&!h?[null,null,k]:[k?y:rf(h),h,k]},[]),p=T.useCallback((y,k=!0,h)=>{const[g,w,v]=f(y);return g?(h||t.getState().getNodes()).filter(S=>{if(!v&&(S.id===w.id||!S.positionAbsolute))return!1;const _=rf(S),C=Kl(_,g);return k&&C>0||C>=g.width*g.height}):[]},[]),x=T.useCallback((y,k,h=!0)=>{const[g]=f(y);if(!g)return!1;const w=Kl(g,k);return h&&w>0||w>=g.width*g.height},[]);return T.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:o,getEdge:s,setNodes:i,setEdges:a,addNodes:l,addEdges:c,toObject:u,deleteElements:d,getIntersectingNodes:p,isNodeIntersecting:x}),[e,n,r,o,s,i,a,l,c,u,d,p,x])}const Dk={actInsideInputWithModifier:!1};var zk=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=je(),{deleteElements:r}=la(),o=ts(e,Dk),s=ts(t);T.useEffect(()=>{if(o){const{edges:i,getNodes:a}=n.getState(),l=a().filter(u=>u.selected),c=i.filter(u=>u.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[o]),T.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])};function Lk(e){const t=je();T.useEffect(()=>{let n;const r=()=>{var s,i;if(!e.current)return;const o=au(e.current);(o.height===0||o.width===0)&&((i=(s=t.getState()).onError)==null||i.call(s,"004",sn.error004())),t.setState({width:o.width||500,height:o.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const mu={position:"absolute",width:"100%",height:"100%",top:0,left:0},Rk=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Ls=e=>({x:e.x,y:e.y,zoom:e.k}),pr=(e,t)=>e.target.closest(`.${t}`),pf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),mf=e=>{const t=e.ctrlKey&&$i()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},Fk=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Ok=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:o=!0,zoomOnPinch:s=!0,panOnScroll:i=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=Kn.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:d=!0,defaultViewport:f,translateExtent:p,minZoom:x,maxZoom:y,zoomActivationKeyCode:k,preventScrolling:h=!0,children:g,noWheelClassName:w,noPanClassName:v})=>{const S=T.useRef(),_=je(),C=T.useRef(!1),P=T.useRef(!1),A=T.useRef(null),I=T.useRef({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:H,d3ZoomHandler:O,userSelectionActive:b}=fe(Fk,De),M=ts(k),$=T.useRef(0),z=T.useRef(!1),N=T.useRef();return Lk(A),T.useEffect(()=>{if(A.current){const E=A.current.getBoundingClientRect(),j=$0().scaleExtent([x,y]).translateExtent(p),D=yt(A.current).call(j),L=Jt.translate(f.x,f.y).scale(Qr(f.zoom,x,y)),B=[[0,0],[E.width,E.height]],V=j.constrain()(L,B,p);j.transform(D,V),j.wheelDelta(mf),_.setState({d3Zoom:j,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:A.current.closest(".react-flow")})}},[]),T.useEffect(()=>{H&&F&&(i&&!M&&!b?H.on("wheel.zoom",E=>{if(pr(E,w))return!1;E.preventDefault(),E.stopImmediatePropagation();const j=H.property("__zoom").k||1;if(E.ctrlKey&&s){const ie=Mt(E),oe=mf(E),ee=j*Math.pow(2,oe);F.scaleTo(H,ee,ie,E);return}const D=E.deltaMode===1?20:1;let L=l===Kn.Vertical?0:E.deltaX*D,B=l===Kn.Horizontal?0:E.deltaY*D;!$i()&&E.shiftKey&&l!==Kn.Vertical&&(L=E.deltaY*D,B=0),F.translateBy(H,-(L/j)*a,-(B/j)*a,{internal:!0});const V=Ls(H.property("__zoom")),{onViewportChangeStart:Y,onViewportChange:X,onViewportChangeEnd:q}=_.getState();clearTimeout(N.current),z.current||(z.current=!0,t==null||t(E,V),Y==null||Y(V)),z.current&&(e==null||e(E,V),X==null||X(V),N.current=setTimeout(()=>{n==null||n(E,V),q==null||q(V),z.current=!1},150))},{passive:!1}):typeof O<"u"&&H.on("wheel.zoom",function(E,j){if(!h&&E.type==="wheel"&&!E.ctrlKey||pr(E,w))return null;E.preventDefault(),O.call(this,E,j)},{passive:!1}))},[b,i,l,H,F,O,M,s,h,w,t,e,n]),T.useEffect(()=>{F&&F.on("start",E=>{var L,B;if(!E.sourceEvent||E.sourceEvent.internal)return null;$.current=(L=E.sourceEvent)==null?void 0:L.button;const{onViewportChangeStart:j}=_.getState(),D=Ls(E.transform);C.current=!0,I.current=D,((B=E.sourceEvent)==null?void 0:B.type)==="mousedown"&&_.setState({paneDragging:!0}),j==null||j(D),t==null||t(E.sourceEvent,D)})},[F,t]),T.useEffect(()=>{F&&(b&&!C.current?F.on("zoom",null):b||F.on("zoom",E=>{var D;const{onViewportChange:j}=_.getState();if(_.setState({transform:[E.transform.x,E.transform.y,E.transform.k]}),P.current=!!(r&&pf(d,$.current??0)),(e||j)&&!((D=E.sourceEvent)!=null&&D.internal)){const L=Ls(E.transform);j==null||j(L),e==null||e(E.sourceEvent,L)}}))},[b,F,e,d,r]),T.useEffect(()=>{F&&F.on("end",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;const{onViewportChangeEnd:j}=_.getState();if(C.current=!1,_.setState({paneDragging:!1}),r&&pf(d,$.current??0)&&!P.current&&r(E.sourceEvent),P.current=!1,(n||j)&&Rk(I.current,E.transform)){const D=Ls(E.transform);I.current=D,clearTimeout(S.current),S.current=setTimeout(()=>{j==null||j(D),n==null||n(E.sourceEvent,D)},i?150:0)}})},[F,i,d,n,r]),T.useEffect(()=>{F&&F.filter(E=>{const j=M||o,D=s&&E.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&E.button===1&&E.type==="mousedown"&&(pr(E,"react-flow__node")||pr(E,"react-flow__edge")))return!0;if(!d&&!j&&!i&&!c&&!s||b||!c&&E.type==="dblclick"||pr(E,w)&&E.type==="wheel"||pr(E,v)&&(E.type!=="wheel"||i&&E.type==="wheel"&&!M)||!s&&E.ctrlKey&&E.type==="wheel"||!j&&!i&&!D&&E.type==="wheel"||!d&&(E.type==="mousedown"||E.type==="touchstart")||Array.isArray(d)&&!d.includes(E.button)&&E.type==="mousedown")return!1;const L=Array.isArray(d)&&d.includes(E.button)||!E.button||E.button<=1;return(!E.ctrlKey||E.type==="wheel")&&L})},[b,F,o,s,i,c,d,u,M]),R.createElement("div",{className:"react-flow__renderer",ref:A,style:mu},g)},Hk=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Uk(){const{userSelectionActive:e,userSelectionRect:t}=fe(Hk,De);return e&&t?R.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function gf(e,t){const n=t.parentNode||t.parentId,r=e.find(o=>o.id===n);if(r){const o=t.position.x+t.width-r.width,s=t.position.y+t.height-r.height;if(o>0||s>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,o>0&&(r.style.width+=o),s>0&&(r.style.height+=s),t.position.x<0){const i=Math.abs(t.position.x);r.position.x=r.position.x-i,r.style.width+=i,t.position.x=0}if(t.position.y<0){const i=Math.abs(t.position.y);r.position.y=r.position.y-i,r.style.height+=i,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function cm(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,o)=>{const s=e.filter(a=>a.id===o.id);if(s.length===0)return r.push(o),r;const i={...o};for(const a of s)if(a)switch(a.type){case"select":{i.selected=a.selected;break}case"position":{typeof a.position<"u"&&(i.position=a.position),typeof a.positionAbsolute<"u"&&(i.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(i.dragging=a.dragging),i.expandParent&&gf(r,i);break}case"dimensions":{typeof a.dimensions<"u"&&(i.width=a.dimensions.width,i.height=a.dimensions.height),typeof a.updateStyle<"u"&&(i.style={...i.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(i.resizing=a.resizing),i.expandParent&&gf(r,i);break}case"remove":return r}return r.push(i),r},n)}function um(e,t){return cm(e,t)}function Vk(e,t){return cm(e,t)}const vn=(e,t)=>({id:e,type:"select",selected:t});function Mr(e,t){return e.reduce((n,r)=>{const o=t.includes(r.id);return!r.selected&&o?(r.selected=!0,n.push(vn(r.id,!0))):r.selected&&!o&&(r.selected=!1,n.push(vn(r.id,!1))),n},[])}const Ba=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},Bk=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),dm=T.memo(({isSelecting:e,selectionMode:t=es.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:o,onPaneClick:s,onPaneContextMenu:i,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:d})=>{const f=T.useRef(null),p=je(),x=T.useRef(0),y=T.useRef(0),k=T.useRef(),{userSelectionActive:h,elementsSelectable:g,dragging:w}=fe(Bk,De),v=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,y.current=0},S=O=>{s==null||s(O),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},_=O=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){O.preventDefault();return}i==null||i(O)},C=a?O=>a(O):void 0,P=O=>{const{resetSelectedElements:b,domNode:M}=p.getState();if(k.current=M==null?void 0:M.getBoundingClientRect(),!g||!e||O.button!==0||O.target!==f.current||!k.current)return;const{x:$,y:z}=In(O,k.current);b(),p.setState({userSelectionRect:{width:0,height:0,startX:$,startY:z,x:$,y:z}}),r==null||r(O)},A=O=>{const{userSelectionRect:b,nodeInternals:M,edges:$,transform:z,onNodesChange:N,onEdgesChange:E,nodeOrigin:j,getNodes:D}=p.getState();if(!e||!k.current||!b)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const L=In(O,k.current),B=b.startX??0,V=b.startY??0,Y={...b,x:L.x<B?L.x:B,y:L.y<V?L.y:V,width:Math.abs(L.x-B),height:Math.abs(L.y-V)},X=D(),q=W0(M,Y,z,t===es.Partial,!0,j),ie=Y0(q,$).map(ee=>ee.id),oe=q.map(ee=>ee.id);if(x.current!==oe.length){x.current=oe.length;const ee=Mr(X,oe);ee.length&&(N==null||N(ee))}if(y.current!==ie.length){y.current=ie.length;const ee=Mr($,ie);ee.length&&(E==null||E(ee))}p.setState({userSelectionRect:Y})},I=O=>{if(O.button!==0)return;const{userSelectionRect:b}=p.getState();!h&&b&&O.target===f.current&&(S==null||S(O)),p.setState({nodesSelectionActive:x.current>0}),v(),o==null||o(O)},F=O=>{h&&(p.setState({nodesSelectionActive:x.current>0}),o==null||o(O)),v()},H=g&&(e||h);return R.createElement("div",{className:Fe(["react-flow__pane",{dragging:w,selection:e}]),onClick:H?void 0:Ba(S,f),onContextMenu:Ba(_,f),onWheel:Ba(C,f),onMouseEnter:H?void 0:l,onMouseDown:H?P:void 0,onMouseMove:H?A:c,onMouseUp:H?I:void 0,onMouseLeave:H?F:u,ref:f,style:mu},d,R.createElement(Uk,null))});dm.displayName="Pane";function fm(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:fm(r,t):!1}function yf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function Wk(e,t,n,r){return Array.from(e.values()).filter(o=>(o.selected||o.id===r)&&(!o.parentNode||o.parentId||!fm(o,e))&&(o.draggable||t&&typeof o.draggable>"u")).map(o=>{var s,i;return{id:o.id,position:o.position||{x:0,y:0},positionAbsolute:o.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((s=o.positionAbsolute)==null?void 0:s.x)??0),y:n.y-(((i=o.positionAbsolute)==null?void 0:i.y)??0)},delta:{x:0,y:0},extent:o.extent,parentNode:o.parentNode||o.parentId,parentId:o.parentNode||o.parentId,width:o.width,height:o.height,expandParent:o.expandParent}})}function Yk(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function hm(e,t,n,r,o=[0,0],s){const i=Yk(e,e.extent||r);let a=i;const l=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(l&&e.width&&e.height){const d=n.get(l),{x:f,y:p}=er(d,o).positionAbsolute;a=d&&vt(f)&&vt(p)&&vt(d.width)&&vt(d.height)?[[f+e.width*o[0],p+e.height*o[1]],[f+d.width-e.width+e.width*o[0],p+d.height-e.height+e.height*o[1]]]:a}else s==null||s("005",sn.error005()),a=i;else if(e.extent&&l&&e.extent!=="parent"){const d=n.get(l),{x:f,y:p}=er(d,o).positionAbsolute;a=[[e.extent[0][0]+f,e.extent[0][1]+p],[e.extent[1][0]+f,e.extent[1][1]+p]]}let c={x:0,y:0};if(l){const d=n.get(l);c=er(d,o).positionAbsolute}const u=a&&a!=="parent"?lu(t,a):t;return{position:{x:u.x-c.x,y:u.y-c.y},positionAbsolute:u}}function Wa({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(o=>({...n.get(o.id),position:o.position,positionAbsolute:o.positionAbsolute}));return[e?r.find(o=>o.id===e):r[0],r]}const xf=(e,t,n,r)=>{const o=t.querySelectorAll(e);if(!o||!o.length)return null;const s=Array.from(o),i=t.getBoundingClientRect(),a={x:i.width*r[0],y:i.height*r[1]};return s.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-i.left-a.x)/n,y:(c.top-i.top-a.y)/n,...au(l)}})};function ho(e,t,n){return n===void 0?n:r=>{const o=t().nodeInternals.get(e);o&&n(r,{...o})}}function nc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:i,nodeInternals:a,onError:l}=t.getState(),c=a.get(e);if(!c){l==null||l("012",sn.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&i)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):o([e])}function Xk(){const e=je();return T.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:o,snapToGrid:s}=e.getState(),i=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(i-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:s?o[0]*Math.round(l.x/o[0]):l.x,ySnapped:s?o[1]*Math.round(l.y/o[1]):l.y,...l}},[])}function Ya(e){return(t,n,r)=>e==null?void 0:e(t,r)}function pm({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,selectNodesOnDrag:i}){const a=je(),[l,c]=T.useState(!1),u=T.useRef([]),d=T.useRef({x:null,y:null}),f=T.useRef(0),p=T.useRef(null),x=T.useRef({x:0,y:0}),y=T.useRef(null),k=T.useRef(!1),h=T.useRef(!1),g=T.useRef(!1),w=Xk();return T.useEffect(()=>{if(e!=null&&e.current){const v=yt(e.current),S=({x:P,y:A})=>{const{nodeInternals:I,onNodeDrag:F,onSelectionDrag:H,updateNodePositions:O,nodeExtent:b,snapGrid:M,snapToGrid:$,nodeOrigin:z,onError:N}=a.getState();d.current={x:P,y:A};let E=!1,j={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&b){const L=aa(u.current,z);j=Jo(L)}if(u.current=u.current.map(L=>{const B={x:P-L.distance.x,y:A-L.distance.y};$&&(B.x=M[0]*Math.round(B.x/M[0]),B.y=M[1]*Math.round(B.y/M[1]));const V=[[b[0][0],b[0][1]],[b[1][0],b[1][1]]];u.current.length>1&&b&&!L.extent&&(V[0][0]=L.positionAbsolute.x-j.x+b[0][0],V[1][0]=L.positionAbsolute.x+(L.width??0)-j.x2+b[1][0],V[0][1]=L.positionAbsolute.y-j.y+b[0][1],V[1][1]=L.positionAbsolute.y+(L.height??0)-j.y2+b[1][1]);const Y=hm(L,B,I,V,z,N);return E=E||L.position.x!==Y.position.x||L.position.y!==Y.position.y,L.position=Y.position,L.positionAbsolute=Y.positionAbsolute,L}),!E)return;O(u.current,!0,!0),c(!0);const D=o?F:Ya(H);if(D&&y.current){const[L,B]=Wa({nodeId:o,dragItems:u.current,nodeInternals:I});D(y.current,L,B)}},_=()=>{if(!p.current)return;const[P,A]=A0(x.current,p.current);if(P!==0||A!==0){const{transform:I,panBy:F}=a.getState();d.current.x=(d.current.x??0)-P/I[2],d.current.y=(d.current.y??0)-A/I[2],F({x:P,y:A})&&S(d.current)}f.current=requestAnimationFrame(_)},C=P=>{var z;const{nodeInternals:A,multiSelectionActive:I,nodesDraggable:F,unselectNodesAndEdges:H,onNodeDragStart:O,onSelectionDragStart:b}=a.getState();h.current=!0;const M=o?O:Ya(b);(!i||!s)&&!I&&o&&((z=A.get(o))!=null&&z.selected||H()),o&&s&&i&&nc({id:o,store:a,nodeRef:e});const $=w(P);if(d.current=$,u.current=Wk(A,F,$,o),M&&u.current){const[N,E]=Wa({nodeId:o,dragItems:u.current,nodeInternals:A});M(P.sourceEvent,N,E)}};if(t)v.on(".drag",null);else{const P=sw().on("start",A=>{const{domNode:I,nodeDragThreshold:F}=a.getState();F===0&&C(A),g.current=!1;const H=w(A);d.current=H,p.current=(I==null?void 0:I.getBoundingClientRect())||null,x.current=In(A.sourceEvent,p.current)}).on("drag",A=>{var O,b;const I=w(A),{autoPanOnNodeDrag:F,nodeDragThreshold:H}=a.getState();if(A.sourceEvent.type==="touchmove"&&A.sourceEvent.touches.length>1&&(g.current=!0),!g.current){if(!k.current&&h.current&&F&&(k.current=!0,_()),!h.current){const M=I.xSnapped-(((O=d==null?void 0:d.current)==null?void 0:O.x)??0),$=I.ySnapped-(((b=d==null?void 0:d.current)==null?void 0:b.y)??0);Math.sqrt(M*M+$*$)>H&&C(A)}(d.current.x!==I.xSnapped||d.current.y!==I.ySnapped)&&u.current&&h.current&&(y.current=A.sourceEvent,x.current=In(A.sourceEvent,p.current),S(I))}}).on("end",A=>{if(!(!h.current||g.current)&&(c(!1),k.current=!1,h.current=!1,cancelAnimationFrame(f.current),u.current)){const{updateNodePositions:I,nodeInternals:F,onNodeDragStop:H,onSelectionDragStop:O}=a.getState(),b=o?H:Ya(O);if(I(u.current,!1,!1),b){const[M,$]=Wa({nodeId:o,dragItems:u.current,nodeInternals:F});b(A.sourceEvent,M,$)}}}).filter(A=>{const I=A.target;return!A.button&&(!n||!yf(I,`.${n}`,e))&&(!r||yf(I,r,e))});return v.call(P),()=>{v.on(".drag",null)}}}},[e,t,n,r,s,a,o,i,w]),l}function mm(){const e=je();return T.useCallback(n=>{const{nodeInternals:r,nodeExtent:o,updateNodePositions:s,getNodes:i,snapToGrid:a,snapGrid:l,onError:c,nodesDraggable:u}=e.getState(),d=i().filter(g=>g.selected&&(g.draggable||u&&typeof g.draggable>"u")),f=a?l[0]:5,p=a?l[1]:5,x=n.isShiftPressed?4:1,y=n.x*f*x,k=n.y*p*x,h=d.map(g=>{if(g.positionAbsolute){const w={x:g.positionAbsolute.x+y,y:g.positionAbsolute.y+k};a&&(w.x=l[0]*Math.round(w.x/l[0]),w.y=l[1]*Math.round(w.y/l[1]));const{positionAbsolute:v,position:S}=hm(g,w,r,o,void 0,c);g.position=S,g.positionAbsolute=v}return g});s(h,!0,!1)},[])}const Lr={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var po=e=>{const t=({id:n,type:r,data:o,xPos:s,yPos:i,xPosOrigin:a,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:p,onContextMenu:x,onDoubleClick:y,style:k,className:h,isDraggable:g,isSelectable:w,isConnectable:v,isFocusable:S,selectNodesOnDrag:_,sourcePosition:C,targetPosition:P,hidden:A,resizeObserver:I,dragHandle:F,zIndex:H,isParent:O,noDragClassName:b,noPanClassName:M,initialized:$,disableKeyboardA11y:z,ariaLabel:N,rfId:E,hasHandleBounds:j})=>{const D=je(),L=T.useRef(null),B=T.useRef(null),V=T.useRef(C),Y=T.useRef(P),X=T.useRef(r),q=w||g||u||d||f||p,ie=mm(),oe=ho(n,D.getState,d),ee=ho(n,D.getState,f),be=ho(n,D.getState,p),we=ho(n,D.getState,x),_e=ho(n,D.getState,y),ge=ae=>{const{nodeDragThreshold:G}=D.getState();if(w&&(!_||!g||G>0)&&nc({id:n,store:D,nodeRef:L}),u){const Ce=D.getState().nodeInternals.get(n);Ce&&u(ae,{...Ce})}},le=ae=>{if(!Zl(ae)&&!z)if(L0.includes(ae.key)&&w){const G=ae.key==="Escape";nc({id:n,store:D,unselect:G,nodeRef:L})}else g&&c&&Object.prototype.hasOwnProperty.call(Lr,ae.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${ae.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~i}`}),ie({x:Lr[ae.key].x,y:Lr[ae.key].y,isShiftPressed:ae.shiftKey}))};T.useEffect(()=>()=>{B.current&&(I==null||I.unobserve(B.current),B.current=null)},[]),T.useEffect(()=>{if(L.current&&!A){const ae=L.current;(!$||!j||B.current!==ae)&&(B.current&&(I==null||I.unobserve(B.current)),I==null||I.observe(ae),B.current=ae)}},[A,$,j]),T.useEffect(()=>{const ae=X.current!==r,G=V.current!==C,Ce=Y.current!==P;L.current&&(ae||G||Ce)&&(ae&&(X.current=r),G&&(V.current=C),Ce&&(Y.current=P),D.getState().updateNodeDimensions([{id:n,nodeElement:L.current,forceUpdate:!0}]))},[n,r,C,P]);const Be=pm({nodeRef:L,disabled:A||!g,noDragClassName:b,handleSelector:F,nodeId:n,isSelectable:w,selectNodesOnDrag:_});return A?null:R.createElement("div",{className:Fe(["react-flow__node",`react-flow__node-${r}`,{[M]:g},h,{selected:c,selectable:w,parent:O,dragging:Be}]),ref:L,style:{zIndex:H,transform:`translate(${a}px,${l}px)`,pointerEvents:q?"all":"none",visibility:$?"visible":"hidden",...k},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:oe,onMouseMove:ee,onMouseLeave:be,onContextMenu:we,onClick:ge,onDoubleClick:_e,onKeyDown:S?le:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":z?void 0:`${om}-${E}`,"aria-label":N},R.createElement(lk,{value:n},R.createElement(e,{id:n,data:o,type:r,xPos:s,yPos:i,selected:c,isConnectable:v,sourcePosition:C,targetPosition:P,dragging:Be,dragHandle:F,zIndex:H})))};return t.displayName="NodeWrapper",T.memo(t)};const Gk=e=>{const t=e.getNodes().filter(n=>n.selected);return{...aa(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function Qk({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=je(),{width:o,height:s,x:i,y:a,transformString:l,userSelectionActive:c}=fe(Gk,De),u=mm(),d=T.useRef(null);if(T.useEffect(()=>{var x;n||(x=d.current)==null||x.focus({preventScroll:!0})},[n]),pm({nodeRef:d}),c||!o||!s)return null;const f=e?x=>{const y=r.getState().getNodes().filter(k=>k.selected);e(x,y)}:void 0,p=x=>{Object.prototype.hasOwnProperty.call(Lr,x.key)&&u({x:Lr[x.key].x,y:Lr[x.key].y,isShiftPressed:x.shiftKey})};return R.createElement("div",{className:Fe(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},R.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:o,height:s,top:a,left:i}}))}var Kk=T.memo(Qk);const Zk=e=>e.nodesSelectionActive,gm=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,deleteKeyCode:a,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:f,selectionMode:p,onSelectionStart:x,onSelectionEnd:y,multiSelectionKeyCode:k,panActivationKeyCode:h,zoomActivationKeyCode:g,elementsSelectable:w,zoomOnScroll:v,zoomOnPinch:S,panOnScroll:_,panOnScrollSpeed:C,panOnScrollMode:P,zoomOnDoubleClick:A,panOnDrag:I,defaultViewport:F,translateExtent:H,minZoom:O,maxZoom:b,preventScrolling:M,onSelectionContextMenu:$,noWheelClassName:z,noPanClassName:N,disableKeyboardA11y:E})=>{const j=fe(Zk),D=ts(d),L=ts(h),B=L||I,V=L||_,Y=D||f&&B!==!0;return zk({deleteKeyCode:a,multiSelectionKeyCode:k}),R.createElement(Ok,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:s,elementsSelectable:w,zoomOnScroll:v,zoomOnPinch:S,panOnScroll:V,panOnScrollSpeed:C,panOnScrollMode:P,zoomOnDoubleClick:A,panOnDrag:!D&&B,defaultViewport:F,translateExtent:H,minZoom:O,maxZoom:b,zoomActivationKeyCode:g,preventScrolling:M,noWheelClassName:z,noPanClassName:N},R.createElement(dm,{onSelectionStart:x,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:i,panOnDrag:B,isSelecting:!!Y,selectionMode:p},e,j&&R.createElement(Kk,{onSelectionContextMenu:$,noPanClassName:N,disableKeyboardA11y:E})))};gm.displayName="FlowRenderer";var qk=T.memo(gm);function Jk(e){return fe(T.useCallback(n=>e?W0(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function eS(e){const t={input:po(e.input||em),default:po(e.default||tc),output:po(e.output||nm),group:po(e.group||pu)},n={},r=Object.keys(e).filter(o=>!["input","default","output","group"].includes(o)).reduce((o,s)=>(o[s]=po(e[s]||tc),o),n);return{...t,...r}}const tS=({x:e,y:t,width:n,height:r,origin:o})=>!n||!r?{x:e,y:t}:o[0]<0||o[1]<0||o[0]>1||o[1]>1?{x:e,y:t}:{x:e-n*o[0],y:t-r*o[1]},nS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),ym=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,updateNodeDimensions:s,onError:i}=fe(nS,De),a=Jk(e.onlyRenderVisibleElements),l=T.useRef(),c=T.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(d=>{const f=d.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));s(f)});return l.current=u,u},[]);return T.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),R.createElement("div",{className:"react-flow__nodes",style:mu},a.map(u=>{var S,_,C;let d=u.type||"default";e.nodeTypes[d]||(i==null||i("003",sn.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,p=!!(u.draggable||t&&typeof u.draggable>"u"),x=!!(u.selectable||o&&typeof u.selectable>"u"),y=!!(u.connectable||n&&typeof u.connectable>"u"),k=!!(u.focusable||r&&typeof u.focusable>"u"),h=e.nodeExtent?lu(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,g=(h==null?void 0:h.x)??0,w=(h==null?void 0:h.y)??0,v=tS({x:g,y:w,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return R.createElement(f,{key:u.id,id:u.id,className:u.className,style:u.style,type:d,data:u.data,sourcePosition:u.sourcePosition||Q.Bottom,targetPosition:u.targetPosition||Q.Top,hidden:u.hidden,xPos:g,yPos:w,xPosOrigin:v.x,yPosOrigin:v.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:p,isSelectable:x,isConnectable:y,isFocusable:k,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((S=u[Se])==null?void 0:S.z)??0,isParent:!!((_=u[Se])!=null&&_.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel,hasHandleBounds:!!((C=u[Se])!=null&&C.handleBounds)})}))};ym.displayName="NodeRenderer";var rS=T.memo(ym);const oS=(e,t,n)=>n===Q.Left?e-t:n===Q.Right?e+t:e,sS=(e,t,n)=>n===Q.Top?e-t:n===Q.Bottom?e+t:e,vf="react-flow__edgeupdater",wf=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:i,type:a})=>R.createElement("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:i,className:Fe([vf,`${vf}-${a}`]),cx:oS(t,r,e),cy:sS(n,r,e),r,stroke:"transparent",fill:"transparent"}),iS=()=>!0;var mr=e=>{const t=({id:n,className:r,type:o,data:s,onClick:i,onEdgeDoubleClick:a,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:y,style:k,source:h,target:g,sourceX:w,sourceY:v,targetX:S,targetY:_,sourcePosition:C,targetPosition:P,elementsSelectable:A,hidden:I,sourceHandleId:F,targetHandleId:H,onContextMenu:O,onMouseEnter:b,onMouseMove:M,onMouseLeave:$,reconnectRadius:z,onReconnect:N,onReconnectStart:E,onReconnectEnd:j,markerEnd:D,markerStart:L,rfId:B,ariaLabel:V,isFocusable:Y,isReconnectable:X,pathOptions:q,interactionWidth:ie,disableKeyboardA11y:oe})=>{const ee=T.useRef(null),[be,we]=T.useState(!1),[_e,ge]=T.useState(!1),le=je(),Be=T.useMemo(()=>`url('#${Jl(L,B)}')`,[L,B]),ae=T.useMemo(()=>`url('#${Jl(D,B)}')`,[D,B]);if(I)return null;const G=$e=>{var Pe;const{edges:rt,addSelectedEdges:Dt,unselectNodesAndEdges:K,multiSelectionActive:Z}=le.getState(),ue=rt.find(ot=>ot.id===n);ue&&(A&&(le.setState({nodesSelectionActive:!1}),ue.selected&&Z?(K({nodes:[],edges:[ue]}),(Pe=ee.current)==null||Pe.blur()):Dt([n])),i&&i($e,ue))},Ce=fo(n,le.getState,a),Nt=fo(n,le.getState,O),On=fo(n,le.getState,b),ln=fo(n,le.getState,M),cn=fo(n,le.getState,$),ht=($e,rt)=>{if($e.button!==0)return;const{edges:Dt,isValidConnection:K}=le.getState(),Z=rt?g:h,ue=(rt?H:F)||null,Pe=rt?"target":"source",ot=K||iS,pt=rt,eo=Dt.find(Un=>Un.id===n);ge(!0),E==null||E($e,eo,Pe);const ca=Un=>{ge(!1),j==null||j(Un,eo,Pe)};K0({event:$e,handleId:ue,nodeId:Z,onConnect:Un=>N==null?void 0:N(eo,Un),isTarget:pt,getState:le.getState,setState:le.setState,isValidConnection:ot,edgeUpdaterType:Pe,onReconnectEnd:ca})},un=$e=>ht($e,!0),Bt=$e=>ht($e,!1),Wt=()=>we(!0),dn=()=>we(!1),fn=!A&&!i,Hn=$e=>{var rt;if(!oe&&L0.includes($e.key)&&A){const{unselectNodesAndEdges:Dt,addSelectedEdges:K,edges:Z}=le.getState();$e.key==="Escape"?((rt=ee.current)==null||rt.blur(),Dt({edges:[Z.find(Pe=>Pe.id===n)]})):K([n])}};return R.createElement("g",{className:Fe(["react-flow__edge",`react-flow__edge-${o}`,r,{selected:l,animated:c,inactive:fn,updating:be}]),onClick:G,onDoubleClick:Ce,onContextMenu:Nt,onMouseEnter:On,onMouseMove:ln,onMouseLeave:cn,onKeyDown:Y?Hn:void 0,tabIndex:Y?0:void 0,role:Y?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${h} to ${g}`,"aria-describedby":Y?`${sm}-${B}`:void 0,ref:ee},!_e&&R.createElement(e,{id:n,source:h,target:g,selected:l,animated:c,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:y,data:s,style:k,sourceX:w,sourceY:v,targetX:S,targetY:_,sourcePosition:C,targetPosition:P,sourceHandleId:F,targetHandleId:H,markerStart:Be,markerEnd:ae,pathOptions:q,interactionWidth:ie}),X&&R.createElement(R.Fragment,null,(X==="source"||X===!0)&&R.createElement(wf,{position:C,centerX:w,centerY:v,radius:z,onMouseDown:un,onMouseEnter:Wt,onMouseOut:dn,type:"source"}),(X==="target"||X===!0)&&R.createElement(wf,{position:P,centerX:S,centerY:_,radius:z,onMouseDown:Bt,onMouseEnter:Wt,onMouseOut:dn,type:"target"})))};return t.displayName="EdgeWrapper",T.memo(t)};function aS(e){const t={default:mr(e.default||Ai),straight:mr(e.bezier||du),step:mr(e.step||uu),smoothstep:mr(e.step||ia),simplebezier:mr(e.simplebezier||cu)},n={},r=Object.keys(e).filter(o=>!["default","bezier"].includes(o)).reduce((o,s)=>(o[s]=mr(e[s]||Ai),o),n);return{...t,...r}}function kf(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,o=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,i=(n==null?void 0:n.height)||t.height;switch(e){case Q.Top:return{x:r+s/2,y:o};case Q.Right:return{x:r+s,y:o+i/2};case Q.Bottom:return{x:r+s/2,y:o+i};case Q.Left:return{x:r,y:o+i/2}}}function Sf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const lS=(e,t,n,r,o,s)=>{const i=kf(n,e,t),a=kf(s,r,o);return{sourceX:i.x,sourceY:i.y,targetX:a.x,targetY:a.y}};function cS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:o,targetHeight:s,width:i,height:a,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+o),y2:Math.max(e.y+r,t.y+s)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=Jo({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:i/l[2],height:a/l[2]}),d=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),f=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(d*f)>0}function Nf(e){var r,o,s,i,a;const t=((r=e==null?void 0:e[Se])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)<"u"&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.y)<"u";return[{x:((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const uS=[{level:0,isMaxLevel:!0,edges:[]}];function dS(e,t,n=!1){let r=-1;const o=e.reduce((i,a)=>{var u,d;const l=vt(a.zIndex);let c=l?a.zIndex:0;if(n){const f=t.get(a.target),p=t.get(a.source),x=a.selected||(f==null?void 0:f.selected)||(p==null?void 0:p.selected),y=Math.max(((u=p==null?void 0:p[Se])==null?void 0:u.z)||0,((d=f==null?void 0:f[Se])==null?void 0:d.z)||0,1e3);c=(l?a.zIndex:0)+(x?y:0)}return i[c]?i[c].push(a):i[c]=[a],r=c>r?c:r,i},{}),s=Object.entries(o).map(([i,a])=>{const l=+i;return{edges:a,level:l,isMaxLevel:l===r}});return s.length===0?uS:s}function fS(e,t,n){const r=fe(T.useCallback(o=>e?o.edges.filter(s=>{const i=t.get(s.source),a=t.get(s.target);return(i==null?void 0:i.width)&&(i==null?void 0:i.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&cS({sourcePos:i.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:i.width,sourceHeight:i.height,targetWidth:a.width,targetHeight:a.height,width:o.width,height:o.height,transform:o.transform})}):o.edges,[e,t]));return dS(r,t,n)}const hS=({color:e="none",strokeWidth:t=1})=>R.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),pS=({color:e="none",strokeWidth:t=1})=>R.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ef={[Pi.Arrow]:hS,[Pi.ArrowClosed]:pS};function mS(e){const t=je();return T.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call(Ef,e)?Ef[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",sn.error009(e)),null)},[e])}const gS=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:i,orient:a="auto-start-reverse"})=>{const l=mS(t);return l?R.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0"},R.createElement(l,{color:n,strokeWidth:i})):null},yS=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((o,s)=>([s.markerStart,s.markerEnd].forEach(i=>{if(i&&typeof i=="object"){const a=Jl(i,t);r.includes(a)||(o.push({id:a,color:i.color||e,...i}),r.push(a))}}),o),[]).sort((o,s)=>o.id.localeCompare(s.id))},xm=({defaultColor:e,rfId:t})=>{const n=fe(T.useCallback(yS({defaultColor:e,rfId:t}),[e,t]),(r,o)=>!(r.length!==o.length||r.some((s,i)=>s.id!==o[i].id)));return R.createElement("defs",null,n.map(r=>R.createElement(gS,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};xm.displayName="MarkerDefinitions";var xS=T.memo(xm);const vS=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),vm=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:o,noPanClassName:s,onEdgeContextMenu:i,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:x,reconnectRadius:y,children:k,disableKeyboardA11y:h})=>{const{edgesFocusable:g,edgesUpdatable:w,elementsSelectable:v,width:S,height:_,connectionMode:C,nodeInternals:P,onError:A}=fe(vS,De),I=fS(t,P,n);return S?R.createElement(R.Fragment,null,I.map(({level:F,edges:H,isMaxLevel:O})=>R.createElement("svg",{key:F,style:{zIndex:F},width:S,height:_,className:"react-flow__edges react-flow__container"},O&&R.createElement(xS,{defaultColor:e,rfId:r}),R.createElement("g",null,H.map(b=>{const[M,$,z]=Nf(P.get(b.source)),[N,E,j]=Nf(P.get(b.target));if(!z||!j)return null;let D=b.type||"default";o[D]||(A==null||A("011",sn.error011(D)),D="default");const L=o[D]||o.default,B=C===lr.Strict?E.target:(E.target??[]).concat(E.source??[]),V=Sf($.source,b.sourceHandle),Y=Sf(B,b.targetHandle),X=(V==null?void 0:V.position)||Q.Bottom,q=(Y==null?void 0:Y.position)||Q.Top,ie=!!(b.focusable||g&&typeof b.focusable>"u"),oe=b.reconnectable||b.updatable,ee=typeof f<"u"&&(oe||w&&typeof oe>"u");if(!V||!Y)return A==null||A("008",sn.error008(V,b)),null;const{sourceX:be,sourceY:we,targetX:_e,targetY:ge}=lS(M,V,X,N,Y,q);return R.createElement(L,{key:b.id,id:b.id,className:Fe([b.className,s]),type:D,data:b.data,selected:!!b.selected,animated:!!b.animated,hidden:!!b.hidden,label:b.label,labelStyle:b.labelStyle,labelShowBg:b.labelShowBg,labelBgStyle:b.labelBgStyle,labelBgPadding:b.labelBgPadding,labelBgBorderRadius:b.labelBgBorderRadius,style:b.style,source:b.source,target:b.target,sourceHandleId:b.sourceHandle,targetHandleId:b.targetHandle,markerEnd:b.markerEnd,markerStart:b.markerStart,sourceX:be,sourceY:we,targetX:_e,targetY:ge,sourcePosition:X,targetPosition:q,elementsSelectable:v,onContextMenu:i,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:x,reconnectRadius:y,rfId:r,ariaLabel:b.ariaLabel,isFocusable:ie,isReconnectable:ee,pathOptions:"pathOptions"in b?b.pathOptions:void 0,interactionWidth:b.interactionWidth,disableKeyboardA11y:h})})))),k):null};vm.displayName="EdgeRenderer";var wS=T.memo(vm);const kS=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function SS({children:e}){const t=fe(kS);return R.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function NS(e){const t=la(),n=T.useRef(!1);T.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const ES={[Q.Left]:Q.Right,[Q.Right]:Q.Left,[Q.Top]:Q.Bottom,[Q.Bottom]:Q.Top},wm=({nodeId:e,handleType:t,style:n,type:r=Sn.Bezier,CustomComponent:o,connectionStatus:s})=>{var _,C,P;const{fromNode:i,handleId:a,toX:l,toY:c,connectionMode:u}=fe(T.useCallback(A=>({fromNode:A.nodeInternals.get(e),handleId:A.connectionHandleId,toX:(A.connectionPosition.x-A.transform[0])/A.transform[2],toY:(A.connectionPosition.y-A.transform[1])/A.transform[2],connectionMode:A.connectionMode}),[e]),De),d=(_=i==null?void 0:i[Se])==null?void 0:_.handleBounds;let f=d==null?void 0:d[t];if(u===lr.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!i||!f)return null;const p=a?f.find(A=>A.id===a):f[0],x=p?p.x+p.width/2:(i.width??0)/2,y=p?p.y+p.height/2:i.height??0,k=(((C=i.positionAbsolute)==null?void 0:C.x)??0)+x,h=(((P=i.positionAbsolute)==null?void 0:P.y)??0)+y,g=p==null?void 0:p.position,w=g?ES[g]:null;if(!g||!w)return null;if(o)return R.createElement(o,{connectionLineType:r,connectionLineStyle:n,fromNode:i,fromHandle:p,fromX:k,fromY:h,toX:l,toY:c,fromPosition:g,toPosition:w,connectionStatus:s});let v="";const S={sourceX:k,sourceY:h,sourcePosition:g,targetX:l,targetY:c,targetPosition:w};return r===Sn.Bezier?[v]=U0(S):r===Sn.Step?[v]=ql({...S,borderRadius:0}):r===Sn.SmoothStep?[v]=ql(S):r===Sn.SimpleBezier?[v]=H0(S):v=`M${k},${h} ${l},${c}`,R.createElement("path",{d:v,fill:"none",className:"react-flow__connection-path",style:n})};wm.displayName="ConnectionLine";const bS=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function _S({containerStyle:e,style:t,type:n,component:r}){const{nodeId:o,handleType:s,nodesConnectable:i,width:a,height:l,connectionStatus:c}=fe(bS,De);return!(o&&s&&a&&i)?null:R.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},R.createElement("g",{className:Fe(["react-flow__connection",c])},R.createElement(wm,{nodeId:o,handleType:s,style:t,type:n,CustomComponent:r,connectionStatus:c})))}function bf(e,t){return T.useRef(null),je(),T.useMemo(()=>t(e),[e])}const km=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:o,onInit:s,onNodeClick:i,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:x,onSelectionStart:y,onSelectionEnd:k,connectionLineType:h,connectionLineStyle:g,connectionLineComponent:w,connectionLineContainerStyle:v,selectionKeyCode:S,selectionOnDrag:_,selectionMode:C,multiSelectionKeyCode:P,panActivationKeyCode:A,zoomActivationKeyCode:I,deleteKeyCode:F,onlyRenderVisibleElements:H,elementsSelectable:O,selectNodesOnDrag:b,defaultViewport:M,translateExtent:$,minZoom:z,maxZoom:N,preventScrolling:E,defaultMarkerColor:j,zoomOnScroll:D,zoomOnPinch:L,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:Y,zoomOnDoubleClick:X,panOnDrag:q,onPaneClick:ie,onPaneMouseEnter:oe,onPaneMouseMove:ee,onPaneMouseLeave:be,onPaneScroll:we,onPaneContextMenu:_e,onEdgeContextMenu:ge,onEdgeMouseEnter:le,onEdgeMouseMove:Be,onEdgeMouseLeave:ae,onReconnect:G,onReconnectStart:Ce,onReconnectEnd:Nt,reconnectRadius:On,noDragClassName:ln,noWheelClassName:cn,noPanClassName:ht,elevateEdgesOnSelect:un,disableKeyboardA11y:Bt,nodeOrigin:Wt,nodeExtent:dn,rfId:fn})=>{const Hn=bf(e,eS),$e=bf(t,aS);return NS(s),R.createElement(qk,{onPaneClick:ie,onPaneMouseEnter:oe,onPaneMouseMove:ee,onPaneMouseLeave:be,onPaneContextMenu:_e,onPaneScroll:we,deleteKeyCode:F,selectionKeyCode:S,selectionOnDrag:_,selectionMode:C,onSelectionStart:y,onSelectionEnd:k,multiSelectionKeyCode:P,panActivationKeyCode:A,zoomActivationKeyCode:I,elementsSelectable:O,onMove:n,onMoveStart:r,onMoveEnd:o,zoomOnScroll:D,zoomOnPinch:L,zoomOnDoubleClick:X,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:Y,panOnDrag:q,defaultViewport:M,translateExtent:$,minZoom:z,maxZoom:N,onSelectionContextMenu:x,preventScrolling:E,noDragClassName:ln,noWheelClassName:cn,noPanClassName:ht,disableKeyboardA11y:Bt},R.createElement(SS,null,R.createElement(wS,{edgeTypes:$e,onEdgeClick:a,onEdgeDoubleClick:c,onlyRenderVisibleElements:H,onEdgeContextMenu:ge,onEdgeMouseEnter:le,onEdgeMouseMove:Be,onEdgeMouseLeave:ae,onReconnect:G,onReconnectStart:Ce,onReconnectEnd:Nt,reconnectRadius:On,defaultMarkerColor:j,noPanClassName:ht,elevateEdgesOnSelect:!!un,disableKeyboardA11y:Bt,rfId:fn},R.createElement(_S,{style:g,type:h,component:w,containerStyle:v})),R.createElement("div",{className:"react-flow__edgelabel-renderer"}),R.createElement(rS,{nodeTypes:Hn,onNodeClick:i,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,selectNodesOnDrag:b,onlyRenderVisibleElements:H,noPanClassName:ht,noDragClassName:ln,disableKeyboardA11y:Bt,nodeOrigin:Wt,nodeExtent:dn,rfId:fn})))};km.displayName="GraphView";var CS=T.memo(km);const rc=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],pn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:rc,nodeExtent:rc,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:lr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:nk,isValidConnection:void 0},MS=()=>yv((e,t)=>({...pn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:o,elevateNodesOnSelect:s}=t();e({nodeInternals:Va(n,r,o,s)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(o=>({...r,...o}))})},setDefaultNodesAndEdges:(n,r)=>{const o=typeof n<"u",s=typeof r<"u",i=o?Va(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:i,edges:s?r:[],hasDefaultNodes:o,hasDefaultEdges:s})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:o,fitViewOnInit:s,fitViewOnInitDone:i,fitViewOnInitOptions:a,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:f}=new window.DOMMatrixReadOnly(d.transform),p=n.reduce((y,k)=>{const h=o.get(k.id);if(h!=null&&h.hidden)o.set(h.id,{...h,[Se]:{...h[Se],handleBounds:void 0}});else if(h){const g=au(k.nodeElement);!!(g.width&&g.height&&(h.width!==g.width||h.height!==g.height||k.forceUpdate))&&(o.set(h.id,{...h,[Se]:{...h[Se],handleBounds:{source:xf(".source",k.nodeElement,f,c),target:xf(".target",k.nodeElement,f,c)}},...g}),y.push({id:h.id,type:"dimensions",dimensions:g}))}return y},[]);am(o,c);const x=i||s&&!i&&lm(t,{initial:!0,...a});e({nodeInternals:new Map(o),fitViewOnInitDone:x}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,o=!1)=>{const{triggerNodeChanges:s}=t(),i=n.map(a=>{const l={id:a.id,type:"position",dragging:o};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});s(i)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:o,hasDefaultNodes:s,nodeOrigin:i,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(s){const c=um(n,a()),u=Va(c,o,i,l);e({nodeInternals:u})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let i,a=null;r?i=n.map(l=>vn(l,!0)):(i=Mr(s(),n),a=Mr(o,[])),zs({changedNodes:i,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:o,getNodes:s}=t();let i,a=null;r?i=n.map(l=>vn(l,!0)):(i=Mr(o,n),a=Mr(s(),[])),zs({changedNodes:a,changedEdges:i,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:o,getNodes:s}=t(),i=n||s(),a=r||o,l=i.map(u=>(u.selected=!1,vn(u.id,!1))),c=a.map(u=>vn(u.id,!1));zs({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:o}=t();r==null||r.scaleExtent([n,o]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:o}=t();r==null||r.scaleExtent([o,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),s=r().filter(a=>a.selected).map(a=>vn(a.id,!1)),i=n.filter(a=>a.selected).map(a=>vn(a.id,!1));zs({changedNodes:s,changedEdges:i,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(o=>{o.positionAbsolute=lu(o.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:o,height:s,d3Zoom:i,d3Selection:a,translateExtent:l}=t();if(!i||!a||!n.x&&!n.y)return!1;const c=Jt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),u=[[0,0],[o,s]],d=i==null?void 0:i.constrain()(c,u,l);return i.transform(a,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:pn.connectionNodeId,connectionHandleId:pn.connectionHandleId,connectionHandleType:pn.connectionHandleType,connectionStatus:pn.connectionStatus,connectionStartHandle:pn.connectionStartHandle,connectionEndHandle:pn.connectionEndHandle}),reset:()=>e({...pn})}),Object.is),gu=({children:e})=>{const t=T.useRef(null);return t.current||(t.current=MS()),R.createElement(Q2,{value:t.current},e)};gu.displayName="ReactFlowProvider";const Sm=({children:e})=>T.useContext(sa)?R.createElement(R.Fragment,null,e):R.createElement(gu,null,e);Sm.displayName="ReactFlowWrapper";const TS={input:em,default:tc,output:nm,group:pu},jS={default:Ai,straight:du,step:uu,smoothstep:ia,simplebezier:cu},$S=[0,0],PS=[15,15],AS={x:0,y:0,zoom:1},IS={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Nm=T.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s=TS,edgeTypes:i=jS,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:d,onMoveEnd:f,onConnect:p,onConnectStart:x,onConnectEnd:y,onClickConnectStart:k,onClickConnectEnd:h,onNodeMouseEnter:g,onNodeMouseMove:w,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:_,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:A,onNodesDelete:I,onEdgesDelete:F,onSelectionChange:H,onSelectionDragStart:O,onSelectionDrag:b,onSelectionDragStop:M,onSelectionContextMenu:$,onSelectionStart:z,onSelectionEnd:N,connectionMode:E=lr.Strict,connectionLineType:j=Sn.Bezier,connectionLineStyle:D,connectionLineComponent:L,connectionLineContainerStyle:B,deleteKeyCode:V="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:X=!1,selectionMode:q=es.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:oe=$i()?"Meta":"Control",zoomActivationKeyCode:ee=$i()?"Meta":"Control",snapToGrid:be=!1,snapGrid:we=PS,onlyRenderVisibleElements:_e=!1,selectNodesOnDrag:ge=!0,nodesDraggable:le,nodesConnectable:Be,nodesFocusable:ae,nodeOrigin:G=$S,edgesFocusable:Ce,edgesUpdatable:Nt,elementsSelectable:On,defaultViewport:ln=AS,minZoom:cn=.5,maxZoom:ht=2,translateExtent:un=rc,preventScrolling:Bt=!0,nodeExtent:Wt,defaultMarkerColor:dn="#b1b1b7",zoomOnScroll:fn=!0,zoomOnPinch:Hn=!0,panOnScroll:$e=!1,panOnScrollSpeed:rt=.5,panOnScrollMode:Dt=Kn.Free,zoomOnDoubleClick:K=!0,panOnDrag:Z=!0,onPaneClick:ue,onPaneMouseEnter:Pe,onPaneMouseMove:ot,onPaneMouseLeave:pt,onPaneScroll:eo,onPaneContextMenu:ca,children:Nu,onEdgeContextMenu:Un,onEdgeDoubleClick:Hm,onEdgeMouseEnter:Um,onEdgeMouseMove:Vm,onEdgeMouseLeave:Bm,onEdgeUpdate:Wm,onEdgeUpdateStart:Ym,onEdgeUpdateEnd:Xm,onReconnect:Gm,onReconnectStart:Qm,onReconnectEnd:Km,reconnectRadius:Zm=10,edgeUpdaterRadius:qm=10,onNodesChange:Jm,onEdgesChange:eg,noDragClassName:tg="nodrag",noWheelClassName:ng="nowheel",noPanClassName:Eu="nopan",fitView:rg=!1,fitViewOptions:og,connectOnClick:sg=!0,attributionPosition:ig,proOptions:ag,defaultEdgeOptions:lg,elevateNodesOnSelect:cg=!0,elevateEdgesOnSelect:ug=!1,disableKeyboardA11y:bu=!1,autoPanOnConnect:dg=!0,autoPanOnNodeDrag:fg=!0,connectionRadius:hg=20,isValidConnection:pg,onError:mg,style:gg,id:_u,nodeDragThreshold:yg,...xg},vg)=>{const ua=_u||"1";return R.createElement("div",{...xg,style:{...gg,...IS},ref:vg,className:Fe(["react-flow",o]),"data-testid":"rf__wrapper",id:_u},R.createElement(Sm,null,R.createElement(CS,{onInit:c,onMove:u,onMoveStart:d,onMoveEnd:f,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:g,onNodeMouseMove:w,onNodeMouseLeave:v,onNodeContextMenu:S,onNodeDoubleClick:_,nodeTypes:s,edgeTypes:i,connectionLineType:j,connectionLineStyle:D,connectionLineComponent:L,connectionLineContainerStyle:B,selectionKeyCode:Y,selectionOnDrag:X,selectionMode:q,deleteKeyCode:V,multiSelectionKeyCode:oe,panActivationKeyCode:ie,zoomActivationKeyCode:ee,onlyRenderVisibleElements:_e,selectNodesOnDrag:ge,defaultViewport:ln,translateExtent:un,minZoom:cn,maxZoom:ht,preventScrolling:Bt,zoomOnScroll:fn,zoomOnPinch:Hn,zoomOnDoubleClick:K,panOnScroll:$e,panOnScrollSpeed:rt,panOnScrollMode:Dt,panOnDrag:Z,onPaneClick:ue,onPaneMouseEnter:Pe,onPaneMouseMove:ot,onPaneMouseLeave:pt,onPaneScroll:eo,onPaneContextMenu:ca,onSelectionContextMenu:$,onSelectionStart:z,onSelectionEnd:N,onEdgeContextMenu:Un,onEdgeDoubleClick:Hm,onEdgeMouseEnter:Um,onEdgeMouseMove:Vm,onEdgeMouseLeave:Bm,onReconnect:Gm??Wm,onReconnectStart:Qm??Ym,onReconnectEnd:Km??Xm,reconnectRadius:Zm??qm,defaultMarkerColor:dn,noDragClassName:tg,noWheelClassName:ng,noPanClassName:Eu,elevateEdgesOnSelect:ug,rfId:ua,disableKeyboardA11y:bu,nodeOrigin:G,nodeExtent:Wt}),R.createElement(Ek,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:x,onConnectEnd:y,onClickConnectStart:k,onClickConnectEnd:h,nodesDraggable:le,nodesConnectable:Be,nodesFocusable:ae,edgesFocusable:Ce,edgesUpdatable:Nt,elementsSelectable:On,elevateNodesOnSelect:cg,minZoom:cn,maxZoom:ht,nodeExtent:Wt,onNodesChange:Jm,onEdgesChange:eg,snapToGrid:be,snapGrid:we,connectionMode:E,translateExtent:un,connectOnClick:sg,defaultEdgeOptions:lg,fitView:rg,fitViewOptions:og,onNodesDelete:I,onEdgesDelete:F,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:A,onSelectionDrag:b,onSelectionDragStart:O,onSelectionDragStop:M,noPanClassName:Eu,nodeOrigin:G,rfId:ua,autoPanOnConnect:dg,autoPanOnNodeDrag:fg,onError:mg,connectionRadius:hg,isValidConnection:pg,nodeDragThreshold:yg}),R.createElement(Sk,{onSelectionChange:H}),Nu,R.createElement(Z2,{proOptions:ag,position:ig}),R.createElement(Tk,{rfId:ua,disableKeyboardA11y:bu})))});Nm.displayName="ReactFlow";function Em(e){return t=>{const[n,r]=T.useState(t),o=T.useCallback(s=>r(i=>e(s,i)),[]);return[n,r,o]}}const DS=Em(um),zS=Em(Vk),bm=({id:e,x:t,y:n,width:r,height:o,style:s,color:i,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:d,onClick:f,selected:p})=>{const{background:x,backgroundColor:y}=s||{},k=i||x||y;return R.createElement("rect",{className:Fe(["react-flow__minimap-node",{selected:p},c]),x:t,y:n,rx:u,ry:u,width:r,height:o,fill:k,stroke:a,strokeWidth:l,shapeRendering:d,onClick:f?h=>f(h,e):void 0})};bm.displayName="MiniMapNode";var LS=T.memo(bm);const RS=e=>e.nodeOrigin,FS=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Xa=e=>e instanceof Function?e:()=>e;function OS({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o=2,nodeComponent:s=LS,onClick:i}){const a=fe(FS,De),l=fe(RS),c=Xa(t),u=Xa(e),d=Xa(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return R.createElement(R.Fragment,null,a.map(p=>{const{x,y}=er(p,l).positionAbsolute;return R.createElement(s,{key:p.id,x,y,width:p.width,height:p.height,style:p.style,selected:p.selected,className:d(p),color:c(p),borderRadius:r,strokeColor:u(p),strokeWidth:o,shapeRendering:f,onClick:i,id:p.id})}))}var HS=T.memo(OS);const US=200,VS=150,BS=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?ek(aa(t,e.nodeOrigin),n):n,rfId:e.rfId}},WS="react-flow__minimap-desc";function _m({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:i=2,nodeComponent:a,maskColor:l="rgb(240, 240, 240, 0.6)",maskStrokeColor:c="none",maskStrokeWidth:u=1,position:d="bottom-right",onClick:f,onNodeClick:p,pannable:x=!1,zoomable:y=!1,ariaLabel:k="React Flow mini map",inversePan:h=!1,zoomStep:g=10,offsetScale:w=5}){const v=je(),S=T.useRef(null),{boundingRect:_,viewBB:C,rfId:P}=fe(BS,De),A=(e==null?void 0:e.width)??US,I=(e==null?void 0:e.height)??VS,F=_.width/A,H=_.height/I,O=Math.max(F,H),b=O*A,M=O*I,$=w*O,z=_.x-(b-_.width)/2-$,N=_.y-(M-_.height)/2-$,E=b+$*2,j=M+$*2,D=`${WS}-${P}`,L=T.useRef(0);L.current=O,T.useEffect(()=>{if(S.current){const Y=yt(S.current),X=oe=>{const{transform:ee,d3Selection:be,d3Zoom:we}=v.getState();if(oe.sourceEvent.type!=="wheel"||!be||!we)return;const _e=-oe.sourceEvent.deltaY*(oe.sourceEvent.deltaMode===1?.05:oe.sourceEvent.deltaMode?1:.002)*g,ge=ee[2]*Math.pow(2,_e);we.scaleTo(be,ge)},q=oe=>{const{transform:ee,d3Selection:be,d3Zoom:we,translateExtent:_e,width:ge,height:le}=v.getState();if(oe.sourceEvent.type!=="mousemove"||!be||!we)return;const Be=L.current*Math.max(1,ee[2])*(h?-1:1),ae={x:ee[0]-oe.sourceEvent.movementX*Be,y:ee[1]-oe.sourceEvent.movementY*Be},G=[[0,0],[ge,le]],Ce=Jt.translate(ae.x,ae.y).scale(ee[2]),Nt=we.constrain()(Ce,G,_e);we.transform(be,Nt)},ie=$0().on("zoom",x?q:null).on("zoom.wheel",y?X:null);return Y.call(ie),()=>{Y.on("zoom",null)}}},[x,y,h,g]);const B=f?Y=>{const X=Mt(Y);f(Y,{x:X[0],y:X[1]})}:void 0,V=p?(Y,X)=>{const q=v.getState().nodeInternals.get(X);p(Y,q)}:void 0;return R.createElement(iu,{position:d,style:e,className:Fe(["react-flow__minimap",t]),"data-testid":"rf__minimap"},R.createElement("svg",{width:A,height:I,viewBox:`${z} ${N} ${E} ${j}`,role:"img","aria-labelledby":D,ref:S,onClick:B},k&&R.createElement("title",{id:D},k),R.createElement(HS,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:i,nodeComponent:a}),R.createElement("path",{className:"react-flow__minimap-mask",d:`M${z-$},${N-$}h${E+$*2}v${j+$*2}h${-E-$*2}z
        M${C.x},${C.y}h${C.width}v${C.height}h${-C.width}z`,fill:l,fillRule:"evenodd",stroke:c,strokeWidth:u,pointerEvents:"none"})))}_m.displayName="MiniMap";var YS=T.memo(_m);function XS(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},R.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function GS(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},R.createElement("path",{d:"M0 0h32v4.2H0z"}))}function QS(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},R.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function KS(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},R.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function ZS(){return R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},R.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const ko=({children:e,className:t,...n})=>R.createElement("button",{type:"button",className:Fe(["react-flow__controls-button",t]),...n},e);ko.displayName="ControlButton";const qS=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Cm=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:i,onFitView:a,onInteractiveChange:l,className:c,children:u,position:d="bottom-left"})=>{const f=je(),[p,x]=T.useState(!1),{isInteractive:y,minZoomReached:k,maxZoomReached:h}=fe(qS,De),{zoomIn:g,zoomOut:w,fitView:v}=la();if(T.useEffect(()=>{x(!0)},[]),!p)return null;const S=()=>{g(),s==null||s()},_=()=>{w(),i==null||i()},C=()=>{v(o),a==null||a()},P=()=>{f.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)};return R.createElement(iu,{className:Fe(["react-flow__controls",c]),position:d,style:e,"data-testid":"rf__controls"},t&&R.createElement(R.Fragment,null,R.createElement(ko,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:h},R.createElement(XS,null)),R.createElement(ko,{onClick:_,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:k},R.createElement(GS,null))),n&&R.createElement(ko,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},R.createElement(QS,null)),r&&R.createElement(ko,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity"},y?R.createElement(ZS,null):R.createElement(KS,null)),u)};Cm.displayName="Controls";var JS=T.memo(Cm),lt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(lt||(lt={}));function eN({color:e,dimensions:t,lineWidth:n}){return R.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function tN({color:e,radius:t}){return R.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const nN={[lt.Dots]:"#91919a",[lt.Lines]:"#eee",[lt.Cross]:"#e2e2e2"},rN={[lt.Dots]:1,[lt.Lines]:1,[lt.Cross]:6},oN=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function Mm({id:e,variant:t=lt.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=2,color:i,style:a,className:l}){const c=T.useRef(null),{transform:u,patternId:d}=fe(oN,De),f=i||nN[t],p=r||rN[t],x=t===lt.Dots,y=t===lt.Cross,k=Array.isArray(n)?n:[n,n],h=[k[0]*u[2]||1,k[1]*u[2]||1],g=p*u[2],w=y?[g,g]:h,v=x?[g/s,g/s]:[w[0]/s,w[1]/s];return R.createElement("svg",{className:Fe(["react-flow__background",l]),style:{...a,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:c,"data-testid":"rf__background"},R.createElement("pattern",{id:d+e,x:u[0]%h[0],y:u[1]%h[1],width:h[0],height:h[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${v[0]},-${v[1]})`},x?R.createElement(tN,{color:f,radius:g/s}):R.createElement(eN,{dimensions:w,color:f,lineWidth:o})),R.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}Mm.displayName="Background";var sN=T.memo(Mm);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tm=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:i,...a},l)=>T.createElement("svg",{ref:l,...aN,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Tm("lucide",o),...a},[...i.map(([c,u])=>T.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const n=T.forwardRef(({className:r,...o},s)=>T.createElement(lN,{ref:s,iconNode:t,className:Tm(`lucide-${iN(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=J("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=J("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=J("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=J("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=J("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=J("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=J("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=J("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=J("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=J("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=J("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=J("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=J("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=J("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=J("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=J("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=J("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=J("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=J("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=J("Move3d",[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=J("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=J("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=J("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=J("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=J("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=J("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),FN="modulepreload",ON=function(e){return"/"+e},Cf={},HN=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(n.map(l=>{if(l=ON(l),l in Cf)return;Cf[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":FN,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,p)=>{d.addEventListener("load",f),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return o.then(i=>{for(const a of i||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},Rm={},{useDebugValue:UN}=R,{useSyncExternalStoreWithSelector:VN}=n0;let Mf=!1;const BN=e=>e;function WN(e,t=BN,n){(Rm?"production":void 0)!=="production"&&n&&!Mf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Mf=!0);const r=VN(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return UN(r),r}const Tf=e=>{(Rm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?r0(e):e,n=(r,o)=>WN(t,r,o);return Object.assign(n,t),n},YN=e=>e?Tf(e):Tf;function XN(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function o(){var s,i=n.length,a,l=0,c=0;for(s=0;s<i;++s)a=n[s],l+=a.x,c+=a.y;for(l=(l/i-e)*r,c=(c/i-t)*r,s=0;s<i;++s)a=n[s],a.x-=l,a.y-=c}return o.initialize=function(s){n=s},o.x=function(s){return arguments.length?(e=+s,o):e},o.y=function(s){return arguments.length?(t=+s,o):t},o.strength=function(s){return arguments.length?(r=+s,o):r},o}function GN(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Fm(this.cover(t,n),t,n,e)}function Fm(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,s=e._root,i={data:r},a=e._x0,l=e._y0,c=e._x1,u=e._y1,d,f,p,x,y,k,h,g;if(!s)return e._root=i,e;for(;s.length;)if((y=t>=(d=(a+c)/2))?a=d:c=d,(k=n>=(f=(l+u)/2))?l=f:u=f,o=s,!(s=s[h=k<<1|y]))return o[h]=i,e;if(p=+e._x.call(null,s.data),x=+e._y.call(null,s.data),t===p&&n===x)return i.next=s,o?o[h]=i:e._root=i,e;do o=o?o[h]=new Array(4):e._root=new Array(4),(y=t>=(d=(a+c)/2))?a=d:c=d,(k=n>=(f=(l+u)/2))?l=f:u=f;while((h=k<<1|y)===(g=(x>=f)<<1|p>=d));return o[g]=s,o[h]=i,e}function QN(e){var t,n,r=e.length,o,s,i=new Array(r),a=new Array(r),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(o=+this._x.call(null,t=e[n]))||isNaN(s=+this._y.call(null,t))||(i[n]=o,a[n]=s,o<l&&(l=o),o>u&&(u=o),s<c&&(c=s),s>d&&(d=s));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),n=0;n<r;++n)Fm(this,i[n],a[n],e[n]);return this}function KN(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,s=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var i=o-n||1,a=this._root,l,c;n>e||e>=o||r>t||t>=s;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=a,a=l,i*=2,c){case 0:o=n+i,s=r+i;break;case 1:n=o-i,s=r+i;break;case 2:o=n+i,r=s-i;break;case 3:n=o-i,r=s-i;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=o,this._y1=s,this}function ZN(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function qN(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ye(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function JN(e,t,n){var r,o=this._x0,s=this._y0,i,a,l,c,u=this._x1,d=this._y1,f=[],p=this._root,x,y;for(p&&f.push(new Ye(p,o,s,u,d)),n==null?n=1/0:(o=e-n,s=t-n,u=e+n,d=t+n,n*=n);x=f.pop();)if(!(!(p=x.node)||(i=x.x0)>u||(a=x.y0)>d||(l=x.x1)<o||(c=x.y1)<s))if(p.length){var k=(i+l)/2,h=(a+c)/2;f.push(new Ye(p[3],k,h,l,c),new Ye(p[2],i,h,k,c),new Ye(p[1],k,a,l,h),new Ye(p[0],i,a,k,h)),(y=(t>=h)<<1|e>=k)&&(x=f[f.length-1],f[f.length-1]=f[f.length-1-y],f[f.length-1-y]=x)}else{var g=e-+this._x.call(null,p.data),w=t-+this._y.call(null,p.data),v=g*g+w*w;if(v<n){var S=Math.sqrt(n=v);o=e-S,s=t-S,u=e+S,d=t+S,r=p.data}}return r}function eE(e){if(isNaN(u=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,o,s,i=this._x0,a=this._y0,l=this._x1,c=this._y1,u,d,f,p,x,y,k,h;if(!n)return this;if(n.length)for(;;){if((x=u>=(f=(i+l)/2))?i=f:l=f,(y=d>=(p=(a+c)/2))?a=p:c=p,t=n,!(n=n[k=y<<1|x]))return this;if(!n.length)break;(t[k+1&3]||t[k+2&3]||t[k+3&3])&&(r=t,h=k)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(s=n.next)&&delete n.next,o?(s?o.next=s:delete o.next,this):t?(s?t[k]=s:delete t[k],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[h]=n:this._root=n),this):(this._root=s,this)}function tE(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function nE(){return this._root}function rE(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function oE(e){var t=[],n,r=this._root,o,s,i,a,l;for(r&&t.push(new Ye(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,s=n.x0,i=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(s+a)/2,u=(i+l)/2;(o=r[3])&&t.push(new Ye(o,c,u,a,l)),(o=r[2])&&t.push(new Ye(o,s,u,c,l)),(o=r[1])&&t.push(new Ye(o,c,i,a,u)),(o=r[0])&&t.push(new Ye(o,s,i,c,u))}return this}function sE(e){var t=[],n=[],r;for(this._root&&t.push(new Ye(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var o=r.node;if(o.length){var s,i=r.x0,a=r.y0,l=r.x1,c=r.y1,u=(i+l)/2,d=(a+c)/2;(s=o[0])&&t.push(new Ye(s,i,a,u,d)),(s=o[1])&&t.push(new Ye(s,u,a,l,d)),(s=o[2])&&t.push(new Ye(s,i,d,u,c)),(s=o[3])&&t.push(new Ye(s,u,d,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function iE(e){return e[0]}function aE(e){return arguments.length?(this._x=e,this):this._x}function lE(e){return e[1]}function cE(e){return arguments.length?(this._y=e,this):this._y}function ku(e,t,n){var r=new Su(t??iE,n??lE,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Su(e,t,n,r,o,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=s,this._root=void 0}function jf(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ke=ku.prototype=Su.prototype;Ke.copy=function(){var e=new Su(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=jf(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var o=0;o<4;++o)(r=t.source[o])&&(r.length?n.push({source:r,target:t.target[o]=new Array(4)}):t.target[o]=jf(r));return e};Ke.add=GN;Ke.addAll=QN;Ke.cover=KN;Ke.data=ZN;Ke.extent=qN;Ke.find=JN;Ke.remove=eE;Ke.removeAll=tE;Ke.root=nE;Ke.size=rE;Ke.visit=oE;Ke.visitAfter=sE;Ke.x=aE;Ke.y=cE;function tr(e){return function(){return e}}function bn(e){return(e()-.5)*1e-6}function uE(e){return e.x+e.vx}function dE(e){return e.y+e.vy}function fE(e){var t,n,r,o=1,s=1;typeof e!="function"&&(e=tr(e==null?1:+e));function i(){for(var c,u=t.length,d,f,p,x,y,k,h=0;h<s;++h)for(d=ku(t,uE,dE).visitAfter(a),c=0;c<u;++c)f=t[c],y=n[f.index],k=y*y,p=f.x+f.vx,x=f.y+f.vy,d.visit(g);function g(w,v,S,_,C){var P=w.data,A=w.r,I=y+A;if(P){if(P.index>f.index){var F=p-P.x-P.vx,H=x-P.y-P.vy,O=F*F+H*H;O<I*I&&(F===0&&(F=bn(r),O+=F*F),H===0&&(H=bn(r),O+=H*H),O=(I-(O=Math.sqrt(O)))/O*o,f.vx+=(F*=O)*(I=(A*=A)/(k+A)),f.vy+=(H*=O)*I,P.vx-=F*(I=1-I),P.vy-=H*I)}return}return v>p+I||_<p-I||S>x+I||C<x-I}}function a(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,d;for(n=new Array(u),c=0;c<u;++c)d=t[c],n[d.index]=+e(d,c,t)}}return i.initialize=function(c,u){t=c,r=u,l()},i.iterations=function(c){return arguments.length?(s=+c,i):s},i.strength=function(c){return arguments.length?(o=+c,i):o},i.radius=function(c){return arguments.length?(e=typeof c=="function"?c:tr(+c),l(),i):e},i}function hE(e){return e.index}function $f(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function Pf(e){var t=hE,n=d,r,o=tr(30),s,i,a,l,c,u=1;e==null&&(e=[]);function d(k){return 1/Math.min(a[k.source.index],a[k.target.index])}function f(k){for(var h=0,g=e.length;h<u;++h)for(var w=0,v,S,_,C,P,A,I;w<g;++w)v=e[w],S=v.source,_=v.target,C=_.x+_.vx-S.x-S.vx||bn(c),P=_.y+_.vy-S.y-S.vy||bn(c),A=Math.sqrt(C*C+P*P),A=(A-s[w])/A*k*r[w],C*=A,P*=A,_.vx-=C*(I=l[w]),_.vy-=P*I,S.vx+=C*(I=1-I),S.vy+=P*I}function p(){if(i){var k,h=i.length,g=e.length,w=new Map(i.map((S,_)=>[t(S,_,i),S])),v;for(k=0,a=new Array(h);k<g;++k)v=e[k],v.index=k,typeof v.source!="object"&&(v.source=$f(w,v.source)),typeof v.target!="object"&&(v.target=$f(w,v.target)),a[v.source.index]=(a[v.source.index]||0)+1,a[v.target.index]=(a[v.target.index]||0)+1;for(k=0,l=new Array(g);k<g;++k)v=e[k],l[k]=a[v.source.index]/(a[v.source.index]+a[v.target.index]);r=new Array(g),x(),s=new Array(g),y()}}function x(){if(i)for(var k=0,h=e.length;k<h;++k)r[k]=+n(e[k],k,e)}function y(){if(i)for(var k=0,h=e.length;k<h;++k)s[k]=+o(e[k],k,e)}return f.initialize=function(k,h){i=k,c=h,p()},f.links=function(k){return arguments.length?(e=k,p(),f):e},f.id=function(k){return arguments.length?(t=k,f):t},f.iterations=function(k){return arguments.length?(u=+k,f):u},f.strength=function(k){return arguments.length?(n=typeof k=="function"?k:tr(+k),x(),f):n},f.distance=function(k){return arguments.length?(o=typeof k=="function"?k:tr(+k),y(),f):o},f}const pE=1664525,mE=1013904223,Af=4294967296;function gE(){let e=1;return()=>(e=(pE*e+mE)%Af)/Af}function yE(e){return e.x}function xE(e){return e.y}var vE=10,wE=Math.PI*(3-Math.sqrt(5));function kE(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),s=0,i=.6,a=new Map,l=ru(d),c=ls("tick","end"),u=gE();e==null&&(e=[]);function d(){f(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function f(y){var k,h=e.length,g;y===void 0&&(y=1);for(var w=0;w<y;++w)for(n+=(s-n)*o,a.forEach(function(v){v(n)}),k=0;k<h;++k)g=e[k],g.fx==null?g.x+=g.vx*=i:(g.x=g.fx,g.vx=0),g.fy==null?g.y+=g.vy*=i:(g.y=g.fy,g.vy=0);return t}function p(){for(var y=0,k=e.length,h;y<k;++y){if(h=e[y],h.index=y,h.fx!=null&&(h.x=h.fx),h.fy!=null&&(h.y=h.fy),isNaN(h.x)||isNaN(h.y)){var g=vE*Math.sqrt(.5+y),w=y*wE;h.x=g*Math.cos(w),h.y=g*Math.sin(w)}(isNaN(h.vx)||isNaN(h.vy))&&(h.vx=h.vy=0)}}function x(y){return y.initialize&&y.initialize(e,u),y}return p(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(y){return arguments.length?(e=y,p(),a.forEach(x),t):e},alpha:function(y){return arguments.length?(n=+y,t):n},alphaMin:function(y){return arguments.length?(r=+y,t):r},alphaDecay:function(y){return arguments.length?(o=+y,t):+o},alphaTarget:function(y){return arguments.length?(s=+y,t):s},velocityDecay:function(y){return arguments.length?(i=1-y,t):1-i},randomSource:function(y){return arguments.length?(u=y,a.forEach(x),t):u},force:function(y,k){return arguments.length>1?(k==null?a.delete(y):a.set(y,x(k)),t):a.get(y)},find:function(y,k,h){var g=0,w=e.length,v,S,_,C,P;for(h==null?h=1/0:h*=h,g=0;g<w;++g)C=e[g],v=y-C.x,S=k-C.y,_=v*v+S*S,_<h&&(P=C,h=_);return P},on:function(y,k){return arguments.length>1?(c.on(y,k),t):c.on(y)}}}function SE(){var e,t,n,r,o=tr(-30),s,i=1,a=1/0,l=.81;function c(p){var x,y=e.length,k=ku(e,yE,xE).visitAfter(d);for(r=p,x=0;x<y;++x)t=e[x],k.visit(f)}function u(){if(e){var p,x=e.length,y;for(s=new Array(x),p=0;p<x;++p)y=e[p],s[y.index]=+o(y,p,e)}}function d(p){var x=0,y,k,h=0,g,w,v;if(p.length){for(g=w=v=0;v<4;++v)(y=p[v])&&(k=Math.abs(y.value))&&(x+=y.value,h+=k,g+=k*y.x,w+=k*y.y);p.x=g/h,p.y=w/h}else{y=p,y.x=y.data.x,y.y=y.data.y;do x+=s[y.data.index];while(y=y.next)}p.value=x}function f(p,x,y,k){if(!p.value)return!0;var h=p.x-t.x,g=p.y-t.y,w=k-x,v=h*h+g*g;if(w*w/l<v)return v<a&&(h===0&&(h=bn(n),v+=h*h),g===0&&(g=bn(n),v+=g*g),v<i&&(v=Math.sqrt(i*v)),t.vx+=h*p.value*r/v,t.vy+=g*p.value*r/v),!0;if(p.length||v>=a)return;(p.data!==t||p.next)&&(h===0&&(h=bn(n),v+=h*h),g===0&&(g=bn(n),v+=g*g),v<i&&(v=Math.sqrt(i*v)));do p.data!==t&&(w=s[p.data.index]*r/v,t.vx+=h*w,t.vy+=g*w);while(p=p.next)}return c.initialize=function(p,x){e=p,n=x,u()},c.strength=function(p){return arguments.length?(o=typeof p=="function"?p:tr(+p),u(),c):o},c.distanceMin=function(p){return arguments.length?(i=p*p,c):Math.sqrt(i)},c.distanceMax=function(p){return arguments.length?(a=p*p,c):Math.sqrt(a)},c.theta=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c}class If{constructor(t){te(this,"simulation");te(this,"config");te(this,"nodes",[]);te(this,"links",[]);te(this,"onTick");te(this,"onEnd");te(this,"lastTickTime",0);te(this,"tickThrottle",16);te(this,"nodeCluster",new Map);te(this,"clusterCenters",new Map);te(this,"previousPositions",new Map);te(this,"interpolationTargets",new Map);te(this,"isInterpolating",!1);te(this,"interpolationStartTime",0);te(this,"interpolationDuration",300);te(this,"animationFrameId",null);te(this,"overlapDetectionRadius",15);te(this,"emergencySpacingForce",2);te(this,"tickCount",0);te(this,"performanceMetrics",{frameRate:60,avgFrameTime:16.67,cpuUsage:0,memoryUsage:0,simulationSteps:0,throttleLevel:0,activeOptimizations:[],lastMeasurement:performance.now()});te(this,"frameTimeHistory",[]);te(this,"lastFrameTime",performance.now());te(this,"performanceMonitoringInterval",null);te(this,"isPerformanceMonitoringEnabled",!1);te(this,"_emergencyMode",!1);te(this,"qualityLevel","high");te(this,"webWorker",null);te(this,"_isUsingWebWorker",!1);te(this,"cpuUsageHistory",[]);te(this,"memoryUsageHistory",[]);te(this,"getSmartCollisionRadius",t=>{const n=this.config.collisionRadius,r=t;if(!r.task)return n;const o=r.task,s=this.config.prioritySpacingMultiplier||1.2;let i=1;switch(o.priority){case"high":i=s;break;case"medium":i=s*.85;break;case"low":i=s*.7;break}(o.status==="in-progress"||o.subtasks.some(u=>u.status==="in-progress"))&&(i*=1.3);const l=1+(o.dependencies.length+this.getOutgoingConnections(o.id))*.1,c=Math.max(n*.6,80);return Math.max(c,n*i*l)});this.config=t,this.simulation=kE(),this.setupForces(),t.enablePerformanceMonitoring&&this.enablePerformanceMonitoring(),t.useWebWorkers&&this.isWebWorkerSupported()&&this.initializeWebWorker()}detectAndResolveOverlaps(){let t=!1;const n=[];for(let r=0;r<this.nodes.length;r++)for(let o=r+1;o<this.nodes.length;o++){const s=this.nodes[r],i=this.nodes[o];if(s.x!==void 0&&s.y!==void 0&&i.x!==void 0&&i.y!==void 0){const a=i.x-s.x,l=i.y-s.y,c=Math.sqrt(a*a+l*l),u=this.getSmartCollisionRadius(s),d=this.getSmartCollisionRadius(i),f=u+d+this.overlapDetectionRadius;if(c<f&&c>0){t=!0;const p=f-c,x=this.emergencySpacingForce*p/c,y=a*x*.5,k=l*x*.5;n.push({node:s,dx:-y,dy:-k},{node:i,dx:y,dy:k})}}}return n.forEach(({node:r,dx:o,dy:s})=>{r.x!==void 0&&r.y!==void 0&&(r.x+=o,r.y+=s,r.vx=(r.vx||0)+o*.1,r.vy=(r.vy||0)+s*.1)}),t}validateSpacingConsistency(){let t=0;const n=Math.min(this.config.minNodeSeparation||180,this.config.collisionRadius*1.5);for(let r=0;r<this.nodes.length;r++)for(let o=r+1;o<this.nodes.length;o++){const s=this.nodes[r],i=this.nodes[o];if(s.x!==void 0&&s.y!==void 0&&i.x!==void 0&&i.y!==void 0){const a=i.x-s.x,l=i.y-s.y;Math.sqrt(a*a+l*l)<n&&t++}}return{consistent:t===0,violations:t}}getSpacingMetrics(){const t=[];let n=1/0,r=0;for(let c=0;c<this.nodes.length;c++)for(let u=c+1;u<this.nodes.length;u++){const d=this.nodes[c],f=this.nodes[u];if(d.x!==void 0&&d.y!==void 0&&f.x!==void 0&&f.y!==void 0){const p=f.x-d.x,x=f.y-d.y,y=Math.sqrt(p*p+x*x);t.push(y),n=Math.min(n,y),r=Math.max(r,y)}}const{violations:o}=this.validateSpacingConsistency(),s=t.length>0?t.reduce((c,u)=>c+u,0)/t.length:0,i=this.config.width*this.config.height,l=this.nodes.length*Math.PI*Math.pow(this.config.collisionRadius,2)/i;return{averageNodeDistance:s,minNodeDistance:n===1/0?0:n,maxNodeDistance:r,spacingViolations:o,densityScore:l}}addSmartSpacingForces(){this.config.clusterSpacing&&this.simulation.force("cluster",this.clusterForce()),this.config.minNodeSeparation&&this.simulation.force("separation",this.separationForce()),this.config.densityAdaptation&&this.simulation.force("density",this.densityAdaptationForce())}getOutgoingConnections(t){return this.nodes.filter(n=>n.task.dependencies.includes(t)).length}clusterForce(){return()=>{this.nodes.forEach(n=>{const r=this.getClusterForNode(n),o=this.clusterCenters.get(r);if(o&&n.x!==void 0&&n.y!==void 0){const s=o.x-n.x,i=o.y-n.y,a=Math.sqrt(s*s+i*i);if(a>0){const l=.1/a;n.vx=(n.vx||0)+s*l,n.vy=(n.vy||0)+i*l}}})}}separationForce(){const t=this.config.minNodeSeparation||200,n=.5;return()=>{for(let r=0;r<this.nodes.length;r++)for(let o=r+1;o<this.nodes.length;o++){const s=this.nodes[r],i=this.nodes[o];if(s.x!==void 0&&s.y!==void 0&&i.x!==void 0&&i.y!==void 0){const a=i.x-s.x,l=i.y-s.y,c=Math.sqrt(a*a+l*l);if(c<t&&c>0){const u=(t-c)/c*n,d=a*u*.5,f=l*u*.5;s.vx=(s.vx||0)-d,s.vy=(s.vy||0)-f,i.vx=(i.vx||0)+d,i.vy=(i.vy||0)+f}}}}}densityAdaptationForce(){return()=>{this.nodes.forEach(r=>{if(r.x===void 0||r.y===void 0)return;const o=this.nodes.filter(a=>{if(a===r||a.x===void 0||a.y===void 0)return!1;const l=a.x-r.x,c=a.y-r.y;return Math.sqrt(l*l+c*c)<300}),s=o.length,i=5;if(s>i){const l=.1*(s-i);o.forEach(c=>{const u=r.x-c.x,d=r.y-c.y,f=Math.sqrt(u*u+d*d);if(f>0){const p=l/f;r.vx=(r.vx||0)+u*p,r.vy=(r.vy||0)+d*p}})}})}}getClusterForNode(t){const n=this.nodeCluster.get(t.id);if(n)return n;const r=t.task;if(r.dependencies.length>0){const i=`dep-${r.dependencies[0]}`;return this.nodeCluster.set(t.id,i),i}if(this.nodes.filter(i=>i.task.dependencies.includes(r.id)).length>0){const i=`leader-${r.id}`;return this.nodeCluster.set(t.id,i),i}const s=`priority-${r.priority}`;return this.nodeCluster.set(t.id,s),s}setupForces(){const{config:t}=this;this.simulation.alphaDecay(t.alphaDecay).alphaMin(t.alphaMin).velocityDecay(t.velocityDecay).force("link",Pf().id(n=>n.id).distance(t.linkDistance).strength(t.linkStrength)).force("charge",SE().strength(t.chargeStrength)).force("center",XN(t.width/2,t.height/2).strength(t.centerStrength)).force("collision",fE().radius(t.enableSmartSpacing?this.getSmartCollisionRadius.bind(this):t.collisionRadius).strength(t.collisionStrength)),t.enableSmartSpacing&&this.addSmartSpacingForces(),this.simulation.on("tick",()=>{const n=Date.now();n-this.lastTickTime>=this.tickThrottle&&(this.lastTickTime=n,this.handleTick())}),this.simulation.on("end",()=>{this.handleSimulationEnd()})}handleTick(){this.tickCount++,this.tickCount%10===0&&this.nodes.length>50&&this.detectAndResolveOverlaps(),this.onTick&&(this.storePreviousPositions(),this.updateNodesWithInterpolation(),this.onTick(this.nodes))}storePreviousPositions(){this.nodes.forEach(t=>{t.x!==void 0&&t.y!==void 0&&this.previousPositions.set(t.id,{x:t.x,y:t.y})})}updateNodesWithInterpolation(){this.nodes.forEach(t=>{if(t.x!==void 0&&t.y!==void 0){const n=this.previousPositions.get(t.id);if(n){const r=t.x-n.x,o=t.y-n.y;Math.sqrt(r*r+o*o)>10&&(t.x=n.x+r*.7,t.y=n.y+o*.7)}}})}handleSimulationEnd(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.isInterpolating=!1,this.onEnd&&this.onEnd(this.nodes)}transitionToNewLayout(t,n=500){this.interpolationDuration=n,this.isInterpolating=!0,this.interpolationStartTime=performance.now(),this.nodes.forEach(r=>{r.x!==void 0&&r.y!==void 0&&this.interpolationTargets.set(r.id,{x:r.x,y:r.y})}),this.updateConfig(t),this.startLayoutTransition()}startLayoutTransition(){const t=n=>{if(!this.isInterpolating)return;const r=n-this.interpolationStartTime,o=Math.min(r/this.interpolationDuration,1),s=1-Math.pow(1-o,3);this.nodes.forEach(i=>{const a=this.interpolationTargets.get(i.id),l=this.previousPositions.get(i.id);a&&l&&i.x!==void 0&&i.y!==void 0&&(i.x=l.x+(a.x-l.x)*s,i.y=l.y+(a.y-l.y)*s)}),o<1?this.animationFrameId=requestAnimationFrame(t):(this.isInterpolating=!1,this.animationFrameId=null),this.onTick&&this.onTick(this.nodes)};this.animationFrameId=requestAnimationFrame(t)}updateConfig(t){this.config={...this.config,...t},this.setupForces();const n=this.simulation.force("link");n&&n.distance(this.config.linkDistance).strength(this.config.linkStrength);const r=this.simulation.force("charge");r&&r.strength(this.config.chargeStrength);const o=this.simulation.force("center");o&&o.x(this.config.width/2).y(this.config.height/2).strength(this.config.centerStrength);const s=this.simulation.force("collision");s&&s.radius(this.config.collisionRadius).strength(this.config.collisionStrength)}setData(t,n){this.nodes=t.map(o=>{const s=`task-${o.id}`,i=n==null?void 0:n.get(s);return{id:s,task:o,x:i==null?void 0:i.x,y:i==null?void 0:i.y,fx:i?i.x:null,fy:i?i.y:null}}),this.links=[],t.forEach(o=>{o.dependencies.forEach(s=>{this.links.push({source:`task-${s}`,target:`task-${o.id}`,strength:this.config.linkStrength})})}),this.config.enableSmartSpacing&&this.calculateClusterCenters(),this.config.activeTaskId&&this.applyActiveTaskFocus(this.config.activeTaskId),this.simulation.nodes(this.nodes);const r=this.simulation.force("link");r&&r.links(this.links)}calculateClusterCenters(){this.clusterCenters.clear();const t=new Map;this.nodes.forEach(n=>{const r=this.getClusterForNode(n);t.has(r)||t.set(r,[]),t.get(r).push(n)}),t.forEach((n,r)=>{if(n.length===0)return;let o=this.config.width/2,s=this.config.height/2,i=0;n.forEach(u=>{u.x!==void 0&&u.y!==void 0&&(o+=u.x,s+=u.y,i++)}),i>0&&(o/=i+1,s/=i+1);const l=Array.from(t.keys()).indexOf(r)*2*Math.PI/t.size,c=Math.min(this.config.width,this.config.height)*.15;o+=Math.cos(l)*c,s+=Math.sin(l)*c,this.clusterCenters.set(r,{x:o,y:s})})}applyActiveTaskFocus(t){const n=`task-${t}`,r=this.nodes.find(s=>s.id===n);if(!r)return;r.fx=this.config.width/2,r.fy=this.config.height/2;const o=new Set;r.task.dependencies.forEach(s=>{o.add(`task-${s}`)}),this.nodes.forEach(s=>{s.task.dependencies.includes(t)&&o.add(s.id)}),this.links.forEach(s=>{const i=typeof s.source=="string"?s.source:s.source.id,a=typeof s.target=="string"?s.target:s.target.id;i===n||a===n?s.strength=this.config.linkStrength*(this.config.focusStrength||2):(o.has(i)||o.has(a))&&(s.strength=this.config.linkStrength*1.5)})}start(){this.simulation.restart()}stop(){this.simulation.stop()}alpha(t){return t===void 0?this.simulation.alpha():(this.simulation.alpha(t),this)}onTickUpdate(t){this.onTick=t}onSimulationEnd(t){this.onEnd=t}getNodes(){return this.nodes}getLinks(){return this.links}releaseFixedPositions(){this.nodes.forEach(t=>{t.fx=null,t.fy=null})}setFixedPosition(t,n,r){const o=this.nodes.find(s=>s.id===t);o&&(o.fx=n,o.fy=r)}optimizeForLargeDataset(t){t>500?(this.tickThrottle=50,this.interpolationDuration=200):t>200?(this.tickThrottle=33,this.interpolationDuration=250):t>100?(this.tickThrottle=25,this.interpolationDuration=300):(this.tickThrottle=16,this.interpolationDuration=350),t>100&&this.updateConfig({alphaDecay:.05,alphaMin:.005,chargeStrength:Math.max(-1200,-800-t),collisionStrength:Math.min(.5,.8-t/1e3)}),t>300&&this.updateConfig({alphaDecay:.1,linkStrength:.3,centerStrength:.05}),t>50&&(this.updateConfig({enableSmartSpacing:!0,densityAdaptation:!0,minNodeSeparation:Math.max(120,200-t*.5)}),t>200&&(this.overlapDetectionRadius=Math.max(10,15-t/100),this.emergencySpacingForce=Math.max(1,2-t/500))),t>100&&this.updateConfig({collisionRadius:Math.max(100,160-t*.2),collisionStrength:Math.max(.3,.8-t/1e3)}),t>=(this.config.emergencyThrottleThreshold||500)&&this.activateEmergencyMode(t),t>300&&this.config.useWebWorkers&&this.isWebWorkerSupported()&&this.enableWebWorkerCalculations(),this.config.adaptiveQuality&&this.adjustQualityBasedOnSize(t),t>200&&this.config.enablePerformanceMonitoring&&this.enablePerformanceMonitoring()}activateEmergencyMode(t){this._emergencyMode=!0,this.qualityLevel="emergency",this.performanceMetrics.activeOptimizations.push("emergency-mode"),this.tickThrottle=Math.max(100,66+(t-500)*.1),this.updateConfig({alphaDecay:.2,alphaMin:.01,chargeStrength:Math.max(-500,-300-t*.5),linkStrength:.1,collisionStrength:.2,velocityDecay:.7}),this.updateConfig({enableSmartSpacing:!1,densityAdaptation:!1}),console.warn(`🚨 Emergency mode activated for ${t} nodes - reduced quality for performance`)}adjustQualityBasedOnSize(t){t>800?(this.qualityLevel="emergency",this.tickThrottle=100):t>600?(this.qualityLevel="low",this.tickThrottle=66):t>400?(this.qualityLevel="medium",this.tickThrottle=50):(this.qualityLevel="high",this.tickThrottle=Math.max(16,33-t*.05)),this.performanceMetrics.activeOptimizations.push(`quality-${this.qualityLevel}`)}enablePerformanceMonitoring(){this.isPerformanceMonitoringEnabled||(this.isPerformanceMonitoringEnabled=!0,this.performanceMetrics.activeOptimizations.push("performance-monitoring"),this.performanceMonitoringInterval=window.setInterval(()=>{this.updatePerformanceMetrics(),this.checkPerformanceThresholds()},1e3),console.log("📊 Performance monitoring enabled for large graph optimization"))}updatePerformanceMetrics(){const t=performance.now(),n=t-this.lastFrameTime;this.lastFrameTime=t,this.frameTimeHistory.push(n),this.frameTimeHistory.length>60&&this.frameTimeHistory.shift();const r=this.frameTimeHistory.reduce((s,i)=>s+i,0)/this.frameTimeHistory.length;this.performanceMetrics.avgFrameTime=r,this.performanceMetrics.frameRate=Math.min(60,1e3/r);const o=this.calculateVariance(this.frameTimeHistory);if(this.performanceMetrics.cpuUsage=Math.min(100,o*10),"memory"in performance){const s=performance.memory;this.performanceMetrics.memoryUsage=s.usedJSHeapSize/(1024*1024)}this.cpuUsageHistory.push(this.performanceMetrics.cpuUsage),this.memoryUsageHistory.push(this.performanceMetrics.memoryUsage),this.cpuUsageHistory.length>30&&this.cpuUsageHistory.shift(),this.memoryUsageHistory.length>30&&this.memoryUsageHistory.shift(),this.performanceMetrics.lastMeasurement=t}calculateVariance(t){if(t.length===0)return 0;const n=t.reduce((o,s)=>o+s,0)/t.length,r=t.reduce((o,s)=>o+Math.pow(s-n,2),0)/t.length;return Math.sqrt(r)}checkPerformanceThresholds(){const{frameRate:t,memoryUsage:n}=this.performanceMetrics,r=this.config.maxFrameRate||30,o=this.config.memoryUsageLimit||100;t<r*.5&&this.applyEmergencyThrottling(),n>o&&this.performMemoryOptimization(),t<r*.8?this.increaseThrottling():t>r*1.2&&this.tickThrottle>16&&this.decreaseThrottling()}applyEmergencyThrottling(){this.tickThrottle=Math.max(this.tickThrottle*1.5,100),this.performanceMetrics.throttleLevel++,this.performanceMetrics.activeOptimizations.push("emergency-throttling"),console.warn(`⚡ Emergency throttling applied - frame rate: ${this.performanceMetrics.frameRate.toFixed(1)}fps`)}increaseThrottling(){this.tickThrottle=Math.min(this.tickThrottle*1.2,100),this.performanceMetrics.throttleLevel++}decreaseThrottling(){this.tickThrottle=Math.max(this.tickThrottle*.9,16),this.performanceMetrics.throttleLevel=Math.max(0,this.performanceMetrics.throttleLevel-1)}performMemoryOptimization(){this.frameTimeHistory.length>30&&(this.frameTimeHistory=this.frameTimeHistory.slice(-30)),this.cpuUsageHistory.length>15&&(this.cpuUsageHistory=this.cpuUsageHistory.slice(-15)),this.memoryUsageHistory.length>15&&(this.memoryUsageHistory=this.memoryUsageHistory.slice(-15)),this.isInterpolating||(this.previousPositions.clear(),this.interpolationTargets.clear()),this.performanceMetrics.activeOptimizations.push("memory-optimization"),console.log("🧹 Memory optimization performed")}isWebWorkerSupported(){return typeof Worker<"u"&&typeof window<"u"}initializeWebWorker(){if(this.isWebWorkerSupported())try{const t=`
        self.onmessage = function(e) {
          const { type, payload } = e.data;
          
          if (type === 'CALCULATE_FORCES') {
            // Perform force calculations off-main-thread
            const { nodes, config } = payload;
            
            // Simplified force calculation for Web Worker
            const results = nodes.map(node => {
              let fx = 0, fy = 0;
              
              // Calculate repulsion forces with other nodes
              nodes.forEach(other => {
                if (other.id !== node.id && other.x !== undefined && other.y !== undefined) {
                  const dx = node.x - other.x;
                  const dy = node.y - other.y;
                  const distance = Math.sqrt(dx * dx + dy * dy);
                  
                  if (distance > 0) {
                    const force = config.chargeStrength / (distance * distance);
                    fx += (dx / distance) * force;
                    fy += (dy / distance) * force;
                  }
                }
              });
              
              return { id: node.id, fx, fy };
            });
            
            self.postMessage({ type: 'RESULT', payload: results });
          }
        };
      `,n=new Blob([t],{type:"application/javascript"});this.webWorker=new Worker(URL.createObjectURL(n)),this.webWorker.onmessage=r=>{this.handleWorkerMessage(r.data)},this.performanceMetrics.activeOptimizations.push("web-worker"),console.log("🔧 Web Worker initialized for off-main-thread force calculations")}catch(t){console.warn("Failed to initialize Web Worker:",t),this.webWorker=null}}enableWebWorkerCalculations(){this.webWorker&&(this._isUsingWebWorker=!0,this.performanceMetrics.activeOptimizations.push("web-worker-active"))}handleWorkerMessage(t){t.type==="RESULT"&&t.payload.forEach(r=>{const o=this.nodes.find(s=>s.id===r.id);o&&(o.vx=(o.vx||0)+r.fx*.1,o.vy=(o.vy||0)+r.fy*.1)})}cleanupWebWorker(){this.webWorker&&(this.webWorker.terminate(),this.webWorker=null,this._isUsingWebWorker=!1)}getPerformanceMetrics(){return{...this.performanceMetrics}}isInEmergencyMode(){return this._emergencyMode}isUsingWebWorker(){return this._isUsingWebWorker}optimizePerformance(){this.updatePerformanceMetrics(),this.checkPerformanceThresholds(),this.performMemoryOptimization()}restartSimulation(){this.simulation.stop(),this.simulation.alpha(1).restart(),console.log("ForceDirectedLayout: Simulation restarted")}resetToDefaults(t=!1){this.config={...oc},this.setupForces(),t||(this.nodes=[],this.links=[],this.simulation.nodes(this.nodes),this.simulation.force("link",Pf(this.links))),this.restartSimulation(),console.log("ForceDirectedLayout: Reset to default configuration",{preserveData:t})}getConfig(){return JSON.parse(JSON.stringify(this.config))}exportConfig(t=!1){const n={config:this.getConfig(),timestamp:new Date().toISOString(),nodeCount:this.nodes.length,linkCount:this.links.length,...t&&{performanceMetrics:this.getPerformanceMetrics()}};return JSON.stringify(n,null,2)}validateConfig(t){const n=[],r=[];return t.alphaDecay!==void 0&&(t.alphaDecay<=0||t.alphaDecay>1)&&n.push("alphaDecay must be between 0 and 1"),t.alphaMin!==void 0&&(t.alphaMin<=0||t.alphaMin>1)&&n.push("alphaMin must be between 0 and 1"),t.velocityDecay!==void 0&&(t.velocityDecay<0||t.velocityDecay>1)&&n.push("velocityDecay must be between 0 and 1"),t.linkDistance!==void 0&&t.linkDistance<0&&n.push("linkDistance must be positive"),t.linkStrength!==void 0&&(t.linkStrength<0||t.linkStrength>1)&&n.push("linkStrength must be between 0 and 1"),t.collisionRadius!==void 0&&t.collisionRadius<0&&n.push("collisionRadius must be positive"),t.collisionStrength!==void 0&&(t.collisionStrength<0||t.collisionStrength>1)&&n.push("collisionStrength must be between 0 and 1"),t.width!==void 0&&t.width<=0&&n.push("width must be positive"),t.height!==void 0&&t.height<=0&&n.push("height must be positive"),t.maxFrameRate!==void 0&&(t.maxFrameRate<1||t.maxFrameRate>120)&&r.push("maxFrameRate outside recommended range (1-120 fps)"),t.emergencyThrottleThreshold!==void 0&&t.emergencyThrottleThreshold<100&&r.push("emergencyThrottleThreshold below 100 may cause frequent throttling"),t.memoryUsageLimit!==void 0&&t.memoryUsageLimit<50&&r.push("memoryUsageLimit below 50MB may cause frequent optimizations"),t.minNodeSeparation!==void 0&&t.collisionRadius!==void 0&&t.minNodeSeparation<t.collisionRadius&&r.push("minNodeSeparation is less than collisionRadius, may cause overlaps"),{valid:n.length===0,errors:n,warnings:r}}testCollisionDetection(){const t={totalNodes:this.nodes.length,collisionPairs:[],overlapCount:0,averageDistance:0,recommendations:[]};if(this.nodes.length<2)return t.recommendations.push("Need at least 2 nodes to test collision detection"),t;let n=0,r=0;for(let o=0;o<this.nodes.length;o++)for(let s=o+1;s<this.nodes.length;s++){const i=this.nodes[o],a=this.nodes[s];if(!i.x||!i.y||!a.x||!a.y)continue;const l=i.x-a.x,c=i.y-a.y,u=Math.sqrt(l*l+c*c),d=this.getSmartCollisionRadius(i),f=this.getSmartCollisionRadius(a),p=d+f;n+=u,r++,u<p&&(t.collisionPairs.push({nodeA:i.id,nodeB:a.id,distance:u,minDistance:p}),t.overlapCount++)}return t.averageDistance=r>0?n/r:0,t.overlapCount>0?(t.recommendations.push(`Found ${t.overlapCount} overlapping node pairs`),t.overlapCount>this.nodes.length*.1&&t.recommendations.push("High overlap rate - consider increasing collision radius or spacing"),t.recommendations.push("Consider running restartSimulation() to resolve overlaps")):t.recommendations.push("No overlaps detected - collision detection working properly"),t.averageDistance<this.config.collisionRadius*2&&t.recommendations.push("Average node distance is low - consider increasing spacing parameters"),t}generateCollisionReport(){const t=this.testCollisionDetection(),n=this.getPerformanceMetrics(),r=this.config.width*this.config.height,s=this.nodes.length*Math.PI*Math.pow(this.config.collisionRadius,2)/r,i=this.config.collisionRadius*2.5,a=Math.max(0,1-Math.abs(t.averageDistance-i)/i);let l=1/0,c=0,u=null;for(const x of t.collisionPairs)l=Math.min(l,x.distance),c=Math.max(c,x.distance),(!u||x.distance<u.distance)&&(u={distance:x.distance,required:x.minDistance});const d=Math.max(0,1-this.simulation.alpha())*(n.frameRate/60);let f;t.overlapCount===0&&a>.8?f="excellent":t.overlapCount<this.nodes.length*.05&&a>.6?f="good":t.overlapCount<this.nodes.length*.15&&a>.4?f="fair":f="poor";const p=[];return s>.3&&p.push("Layout density is high - consider increasing dimensions or reducing collision radius"),a<.5&&p.push("Spacing efficiency is low - adjust force parameters for better distribution"),t.overlapCount>0&&p.push(`${t.overlapCount} overlaps detected - increase collision strength or radius`),d<.7&&p.push("Simulation appears unstable - consider adjusting alpha decay or force parameters"),n.frameRate<30&&p.push("Low frame rate detected - enable performance optimizations"),p.length===0&&p.push("Layout is well-optimized with good spacing and performance"),{summary:{totalNodes:this.nodes.length,totalLinks:this.links.length,layoutDimensions:{width:this.config.width,height:this.config.height},density:Math.round(s*1e3)/1e3},spacing:{averageNodeDistance:Math.round(t.averageDistance*100)/100,minDistance:l===1/0?0:Math.round(l*100)/100,maxDistance:Math.round(c*100)/100,optimalDistance:i,spacingEfficiency:Math.round(a*1e3)/1e3},collisions:{overlapCount:t.overlapCount,criticalOverlaps:t.collisionPairs.filter(x=>x.distance<x.minDistance*.8).length,overlapPercentage:Math.round(t.overlapCount/Math.max(1,this.nodes.length*(this.nodes.length-1)/2)*1e4)/100,worstOverlap:u},performance:{simulationStability:Math.round(d*1e3)/1e3,convergenceRate:Math.round((1-this.simulation.alpha())*1e3)/1e3,layoutQuality:f},recommendations:p}}cleanup(){this.simulation.stop(),this.cleanupWebWorker(),this.performanceMonitoringInterval&&(clearInterval(this.performanceMonitoringInterval),this.performanceMonitoringInterval=null),this.frameTimeHistory=[],this.cpuUsageHistory=[],this.memoryUsageHistory=[],this.performanceMetrics={frameRate:60,avgFrameTime:16.67,cpuUsage:0,memoryUsage:0,simulationSteps:0,throttleLevel:0,activeOptimizations:[],lastMeasurement:performance.now()},this.lastFrameTime=performance.now(),this.isPerformanceMonitoringEnabled=!1,this._emergencyMode=!1,this.qualityLevel="high",this._isUsingWebWorker=!1,this.previousPositions.clear(),this.interpolationTargets.clear(),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),console.log("ForceDirectedLayout: Cleanup completed - all performance monitoring resources disposed")}}const oc={alphaDecay:.0228,alphaMin:.001,velocityDecay:.4,linkDistance:200,linkStrength:.7,chargeStrength:-800,centerStrength:.1,collisionRadius:160,collisionStrength:.8,width:1400,height:800,focusStrength:2,enableSmartSpacing:!0,prioritySpacingMultiplier:1.3,clusterSpacing:150,minNodeSeparation:180,densityAdaptation:!0,edgeBundling:!1,enablePerformanceMonitoring:!0,useWebWorkers:!0,maxFrameRate:60,emergencyThrottleThreshold:500,adaptiveQuality:!0,memoryUsageLimit:200};class NE{constructor(){te(this,"defaultOptions",{padding:150,includeRelatedTasks:!0,maxZoom:1.5,minZoom:.1,animationDuration:1e3})}calculateOptimalViewport(t,n,r,o={}){const s={...this.defaultOptions,...o},i=t.find(v=>v.data.task.id===n);if(!i||!i.position)return null;let a=[i];if(s.includeRelatedTasks){const v=t.map(C=>C.data.task),S=this.findRelatedTasks(i.data.task,v),_=t.filter(C=>S.some(P=>P.id===C.data.task.id)&&C.position);a=[...a,..._]}const l=this.calculateBoundingBox(a);if(!l)return r||{x:0,y:0,zoom:1};const{width:c,height:u}=this.getViewportDimensions(),d=l.maxX-l.minX+300,f=l.maxY-l.minY+200,p=(c-s.padding*2)/d,x=(u-s.padding*2)/f,y=Math.min(p,x,s.maxZoom,Math.max(s.minZoom,.1)),k=(l.minX+l.maxX)/2,h=(l.minY+l.maxY)/2,g=c/2-k*y,w=u/2-h*y;return{x:g,y:w,zoom:y}}calculateFitViewport(t,n,r={}){const o={...this.defaultOptions,...r},s=n.filter(k=>k.position&&t.some(h=>h.id===k.data.task.id));if(s.length===0)return{x:0,y:0,zoom:1};const i=this.calculateBoundingBox(s);if(!i)return{x:0,y:0,zoom:1};const{width:a,height:l}=this.getViewportDimensions(),c=i.maxX-i.minX+o.padding*2,u=i.maxY-i.minY+o.padding*2,d=a/c,f=l/u,p=Math.min(d,f,o.maxZoom),x=(i.minX+i.maxX)/2,y=(i.minY+i.maxY)/2;return{x:a/2-x*p,y:l/2-y*p,zoom:p}}findRelatedTasks(t,n){const r=[];return t.dependencies.forEach(o=>{const s=n.find(i=>i.id===o);s&&r.push(s)}),n.forEach(o=>{o.dependencies.includes(t.id)&&o.id!==t.id&&r.push(o)}),r.forEach(o=>{o.subtasks.some(s=>s.status==="in-progress"||s.status==="pending")}),r}calculateBoundingBox(t){if(t.length===0)return null;const n=t.map(r=>r.position).filter(r=>r!==void 0);return n.length===0?null:{minX:Math.min(...n.map(r=>r.x)),maxX:Math.max(...n.map(r=>r.x)),minY:Math.min(...n.map(r=>r.y)),maxY:Math.max(...n.map(r=>r.y))}}getViewportDimensions(){return typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:1200,height:800}}shouldAnimateTransition(t,n){const r=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),o=Math.abs(n.zoom-t.zoom);return r>50||o>.1}}class EE{constructor(){te(this,"activeTransition",null);te(this,"reactFlowInstance",null)}setReactFlowInstance(t){this.reactFlowInstance=t}transitionToViewport(t,n=1e3,r="ease-out"){return new Promise(o=>{if(!this.reactFlowInstance){console.warn("ReactFlow instance not set"),o();return}this.activeTransition&&cancelAnimationFrame(this.activeTransition);const s=performance.now(),i=this.reactFlowInstance.getViewport(),a=l=>{const c=l-s,u=Math.min(c/n,1),d=this.applyEasing(u,r),f={x:i.x+(t.x-i.x)*d,y:i.y+(t.y-i.y)*d,zoom:i.zoom+(t.zoom-i.zoom)*d};this.reactFlowInstance.setViewport(f),u<1?this.activeTransition=requestAnimationFrame(a):(this.activeTransition=null,o())};this.activeTransition=requestAnimationFrame(a)})}applyEasing(t,n){switch(n){case"ease-out":return 1-Math.pow(1-t,3);case"ease-in":return Math.pow(t,3);case"ease-in-out":return t<.5?4*Math.pow(t,3):1-Math.pow(-2*t+2,3)/2;default:return t}}cancelTransition(){this.activeTransition&&(cancelAnimationFrame(this.activeTransition),this.activeTransition=null)}}class bE{constructor(){te(this,"subscribers",[]);te(this,"currentActiveTask",null)}updateActiveTask(t){const n=this.currentActiveTask,r=t.find(o=>o.status==="in-progress"||o.subtasks.some(s=>s.status==="in-progress"))||null;(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&(this.currentActiveTask=r,this.subscribers.forEach(o=>{o(r,n)}))}subscribe(t){return this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);n>-1&&this.subscribers.splice(n,1)}}getCurrentActiveTask(){return this.currentActiveTask}}function Df(e,t){const n=[],c=(typeof window<"u"?window.innerWidth:1200)-2*40,u=Math.max(1,Math.floor((c+120)/420)),d=new Array(u).fill(0);return e.forEach(f=>{const p=`task-${f.id}`,x=t.get(p);if(x){n.push({id:p,type:"task",position:x,data:{task:f,isCollapsed:!1}});return}const y=180+f.subtasks.length*25+(f.description.length>100?20:0)+(f.dependencies.length>0?15:0),k=d.indexOf(Math.min(...d)),h=40+k*420,g=140+d[k];d[k]+=y+80,n.push({id:p,type:"task",position:{x:h,y:g},data:{task:f,isCollapsed:!1}})}),n}function Om(e,t,n=!1,r=null){const o=[],s=new Map,i=new Set,a=280,l=100,c=160,u=60,d=120,p=(typeof window<"u"?window.innerWidth:1400)-2*u,x=Math.max(3,Math.floor(p/(a+l))),y=n&&r?e.find(g=>g.id===r&&(g.status==="in-progress"||g.subtasks.some(w=>w.status==="in-progress"))):e.find(g=>g.status==="in-progress"||g.subtasks.some(w=>w.status==="in-progress")),k=g=>{if(s.has(g))return s.get(g);if(i.has(g))return console.warn(`Circular dependency detected involving task ${g}`),0;const w=e.find(_=>_.id===g);if(!w)return 0;i.add(g);let v=-1;for(const _ of w.dependencies)v=Math.max(v,k(_));i.delete(g);const S=v+1;return s.set(g,S),S};e.forEach(g=>k(g.id));const h=new Map;if(n&&y){const g=Math.floor(x/2),w=s.get(y.id)||0;e.forEach(v=>{let S=s.get(v.id)||0;if(v.id===y.id)S=g;else{const C=(s.get(v.id)||0)-w;S=g+C,S=Math.max(0,S)}h.has(S)||h.set(S,[]),h.get(S).push(v)})}else e.forEach(g=>{const w=s.get(g.id)||0;h.has(w)||h.set(w,[]),h.get(w).push(g)});for(const[g,w]of Array.from(h.entries()).sort(([v],[S])=>v-S)){const v=g%x,S=Math.floor(g/x);w.sort((_,C)=>{if(n&&y){const b=_.id===y.id,M=C.id===y.id,$=y.dependencies.includes(_.id),z=y.dependencies.includes(C.id),N=_.dependencies.includes(y.id),E=C.dependencies.includes(y.id);if(b&&!M)return-1;if(M&&!b)return 1;if($&&!z)return-1;if(z&&!$)return 1;if(N&&!E)return-1;if(E&&!N)return 1}const P={high:3,medium:2,low:1},A={"in-progress":3,pending:2,done:1},I=P[_.priority]||1,F=P[C.priority]||1;if(I!==F)return F-I;const H=A[_.status]||1,O=A[C.status]||1;return H!==O?O-H:_.id-C.id}),w.forEach((_,C)=>{const P=`task-${_.id}`,A=t.get(P);if(A){o.push({id:P,type:"task",position:A,data:{task:_,isCollapsed:!1}});return}const F=d+S*600+C*c;let H=u+v*(a+l);const O=F;o.filter(M=>{if(!M.position)return!1;const $=Math.abs(M.position.x-H),z=Math.abs(M.position.y-O);return $<50&&z<100}).length>0&&(H-=30*(C+1)),o.push({id:P,type:"task",position:{x:H,y:O},data:{task:_,isCollapsed:!1}})})}return o}function zf(e,t,n,r=null){const o=[];return!n||e.length===0?Om(e,t,!1,r):(e.forEach(s=>{const i=`task-${s.id}`,a=t.get(i)||{x:Math.random()*800+200,y:Math.random()*600+150};o.push({id:i,type:"task",position:a,data:{task:s,isCollapsed:!1}})}),o)}function bt(e,t,n,r=!1,o=null,s){if(s&&t==="graph")return zf(e,n,s,o);switch(t){case"grid":return Df(e,n);case"graph":return Om(e,n,r,o);case"force":return zf(e,n,s||null,o);default:return Df(e,n)}}const Rr="taskmaster-project-path",Ii="taskmaster-theme",Di="taskmaster-positions",zi="taskmaster-viewport",ns="taskmaster-project-name",Li="taskmaster-focus-on-active-task",Ri="taskmaster-dynamic-layout",Rs=()=>typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",_E=()=>{if(typeof window>"u")return null;try{const e=localStorage.getItem(Rr);if(e&&typeof e=="string"){const t=window.location.href;if(t.includes("localhost")||t.includes("127.0.0.1")){const r=e.toLowerCase().replace(/\\/g,"/");if(r==="/users"||r==="/users/"||r==="/users/jason"||r==="/users/jason/"||r.includes("/ai/tmvisuals")||r==="/"||r==="/home"||r==="/home/")return console.warn("Clearing potentially problematic stored project path:",e),localStorage.removeItem(Rr),null}return e}return null}catch(e){return console.warn("Failed to load project path from localStorage:",e),localStorage.removeItem(Rr),null}},CE=()=>{if(typeof window>"u")return"system";try{const e=localStorage.getItem(Ii);return e&&["light","dark","system"].includes(e)?e:"system"}catch(e){return console.warn("Failed to load theme from localStorage:",e),localStorage.removeItem(Ii),"system"}},ME=()=>{if(typeof window>"u")return new Map;try{const e=localStorage.getItem(Di);if(e){const t=JSON.parse(e);if(Array.isArray(t))return new Map(t)}}catch(e){console.warn("Failed to load positions from localStorage:",e),localStorage.removeItem(Di)}return new Map},TE=()=>{if(typeof window>"u")return null;try{const e=localStorage.getItem(zi);if(e){const t=JSON.parse(e);if(t&&typeof t.x=="number"&&typeof t.y=="number"&&typeof t.zoom=="number")return t}return null}catch(e){return console.warn("Failed to load viewport from localStorage:",e),localStorage.removeItem(zi),null}},jE=()=>{if(typeof window>"u")return null;try{const e=localStorage.getItem(ns);return e&&typeof e=="string"?e:null}catch(e){return console.warn("Failed to load project name from localStorage:",e),localStorage.removeItem(ns),null}},$E=()=>{if(typeof window>"u")return!0;try{const e=localStorage.getItem(Li);if(e!==null){const t=JSON.parse(e);if(typeof t=="boolean")return t}return!0}catch(e){return console.warn("Failed to load focus on active task setting from localStorage:",e),localStorage.removeItem(Li),!0}},PE=()=>{if(typeof window>"u")return!1;try{const e=localStorage.getItem(Ri);if(e!==null){const t=JSON.parse(e);if(typeof t=="boolean")return t}return!1}catch(e){return console.warn("Failed to load dynamic layout setting from localStorage:",e),localStorage.removeItem(Ri),!1}},Ga=e=>{if(!(typeof window>"u"))try{e?localStorage.setItem(Rr,e):localStorage.removeItem(Rr)}catch(t){console.warn("Failed to save project path to localStorage:",t)}},AE=e=>{if(!(typeof window>"u"))try{localStorage.setItem(Ii,e)}catch(t){console.warn("Failed to save theme to localStorage:",t)}},IE=e=>{if(!(typeof window>"u"))try{const t=Array.from(e.entries());localStorage.setItem(Di,JSON.stringify(t))}catch(t){console.warn("Failed to save positions to localStorage:",t)}},DE=e=>{if(!(typeof window>"u"))try{localStorage.setItem(zi,JSON.stringify(e))}catch(t){console.warn("Failed to save viewport to localStorage:",t)}},Lf=e=>{if(!(typeof window>"u"))try{e?localStorage.setItem(ns,e):localStorage.removeItem(ns)}catch(t){console.warn("Failed to save project name to localStorage:",t)}},zE=e=>{if(!(typeof window>"u"))try{localStorage.setItem(Li,JSON.stringify(e))}catch(t){console.warn("Failed to save focus on active task setting to localStorage:",t)}},LE=e=>{if(!(typeof window>"u"))try{localStorage.setItem(Ri,JSON.stringify(e))}catch(t){console.warn("Failed to save dynamic layout setting to localStorage:",t)}},RE=e=>{if(!e)return"TaskMaster Visualizer";try{const t=e.split("/").pop()||e.split("\\").pop();if(t&&t!=="tasks")return t.replace(/[-_]/g," ").replace(/\b\w/g,n=>n.toUpperCase()).trim()}catch(t){console.warn("Failed to extract project name:",t)}return"TaskMaster Visualizer"};class FE{constructor(){te(this,"nodePositions",new Map)}addNode(t,n,r,o=280,s=120){this.nodePositions.set(t,{x:n,y:r,width:o,height:s})}getNodeBounds(t){return this.nodePositions.get(t)}checkIntersection(t,n,r,o){for(const[s,i]of this.nodePositions)if(this.lineIntersectsRect(t,n,r,o,i))return!0;return!1}lineIntersectsRect(t,n,r,o,s){const i=s.x,a=s.x+s.width,l=s.y,c=s.y+s.height;return this.lineIntersectsLine(t,n,r,o,i,l,a,l)||this.lineIntersectsLine(t,n,r,o,a,l,a,c)||this.lineIntersectsLine(t,n,r,o,a,c,i,c)||this.lineIntersectsLine(t,n,r,o,i,c,i,l)}lineIntersectsLine(t,n,r,o,s,i,a,l){const c=(t-r)*(i-l)-(n-o)*(s-a);if(Math.abs(c)<1e-10)return!1;const u=((t-s)*(i-l)-(n-i)*(s-a))/c,d=-((t-r)*(n-i)-(n-o)*(t-s))/c;return u>=0&&u<=1&&d>=0&&d<=1}}function OE(e){const t=new Map;e.forEach(r=>{const o=`${r.source}-${r.target}`;t.has(o)||t.set(o,[]),t.get(o).push(r)});const n=[];return t.forEach(r=>{r.length===1?n.push({...r[0],offset:0}):r.forEach((o,s)=>{const i=r.length,a=(s-(i-1)/2)*20;n.push({...o,offset:a})})}),n}function mn(e,t){if(t!=="graph"&&t!=="force")return[];const n=[],r=new FE,o=new Map;e.forEach(a=>o.set(a.id,a)),e.forEach(a=>{r.addNode(`task-${a.id}`,a.id*300,a.id*150)});const s=[];return e.forEach(a=>{a.dependencies.forEach((l,c)=>{const u=o.get(l);u&&s.push({source:`task-${l}`,target:`task-${a.id}`,data:{sourceTask:u,targetTask:a,relationshipType:"dependency",priority:c}})})}),OE(s).forEach(({source:a,target:l,data:c,offset:u})=>{const{sourceTask:d,targetTask:f}=c,p=d.status==="in-progress"||d.subtasks.some(_=>_.status==="in-progress"),x=f.status==="in-progress"||f.subtasks.some(_=>_.status==="in-progress"),y=p||x;let k="#64748b",h=.6,g=2,w,v="smoothstep";x?(k="#3b82f6",h=.9,g=3,v="smoothstep"):p?(k="#10b981",h=.8,g=2.5,v="smoothstep"):d.status==="done"&&f.status==="pending"?(k="#22c55e",h=.7,w="8,4",v="bezier"):d.status==="done"&&f.status==="done"&&(k="#94a3b8",h=.4,g=1.5,v="straight"),f.priority==="high"?(k="#ef4444",g=Math.max(g,2.5)):f.priority==="low"&&(h=Math.min(h,.5),g=Math.max(g-.5,1));const S={stroke:k,strokeWidth:g,strokeOpacity:h,strokeDasharray:w};u!==0&&(S.transform=`translateY(${u}px)`,h=Math.max(.3,h-Math.abs(u)*.01)),n.push({id:`edge-${d.id}-${f.id}-${Math.abs(u)}`,source:a,target:l,type:v,animated:y,style:S})}),n}const Ut=YN((e,t)=>{const n=CE(),r=Rs(),o=n==="dark"||n==="system"&&r==="dark";return typeof window<"u"&&(o?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),{tasks:[],nodes:[],edges:[],selectedTaskId:null,editorPreference:"cursor",searchQuery:"",layoutMode:"grid",projectPath:_E(),isLoading:!1,error:null,mode:null,config:null,report:null,currentTag:null,availableTags:[],theme:n,isDarkMode:o,customPositions:ME(),lastViewport:TE(),projectName:jE(),focusOnActiveTask:$E(),dynamicLayout:PE(),currentActiveTaskId:null,forceLayout:null,isSimulationRunning:!1,viewportManager:new NE,cameraController:new EE,taskStatusManager:new bE,autoFocusOnActiveTask:!0,focusTransitionDuration:1e3,isLiveUpdateEnabled:!1,sseConnection:null,lastUpdateTime:null,contextMenu:{isVisible:!1,position:{x:0,y:0},targetNodeId:null,isBackgroundMenu:!1},showGrid:!1,reactFlowInstance:null,loadTasks:s=>{if(console.log("loadTasks called with:",s),console.log("Number of tasks to load:",s==null?void 0:s.length),!Array.isArray(s)){console.error("loadTasks called with non-array:",s),e({tasks:[],nodes:[],edges:[],error:"Invalid tasks data: expected an array"});return}const{layoutMode:i,customPositions:a,dynamicLayout:l,forceLayout:c}=t(),u=s.find(x=>x.status==="in-progress"||x.subtasks.some(y=>y.status==="in-progress")),d=(u==null?void 0:u.id)||null,f=bt(s,i,a,l,d,c),p=mn(s,i);console.log("Generated nodes:",f.length),console.log("Generated edges:",p.length),e({tasks:s,nodes:f,edges:p,error:null,currentActiveTaskId:d})},loadTasksFromPath:async s=>{e({isLoading:!0,error:null});try{if(!s||s.trim().length===0)throw new Error("Invalid project path: path is empty");const i=s.trim(),a=i.toLowerCase().replace(/\\/g,"/");if(a==="/users"||a==="/users/"||a.includes("/ai/tmvisuals")||a==="/"||a==="/home"||a==="/home/")throw new Error("Invalid project path: cannot load tasks from system directories or the application directory");const l=await fetch(`/api/tasks?projectPath=${encodeURIComponent(i)}`);if(!l.ok){const F=await l.json();throw new Error(F.error||"Failed to load tasks")}const c=await l.json(),u="mode"in c;let d=[];if(u&&Array.isArray(c.tasks))d=c.tasks;else if(!u&&Array.isArray(c))d=c;else if(!u&&c&&Array.isArray(c.tasks))d=c.tasks;else throw console.error("Invalid tasks data format:",c),new Error("Invalid task data format received from server");const f=u?c.mode:"v1",p=u?c.config:null,x=u?c.report:null,y=u&&c.currentTag||"master",k=u?c.availableTags||["master"]:["master"],{layoutMode:h,customPositions:g,dynamicLayout:w,forceLayout:v}=t(),S=d.find(F=>F.status==="in-progress"||F.subtasks.some(H=>H.status==="in-progress")),_=(S==null?void 0:S.id)||null,C=bt(d,h,g,w,_,v),P=mn(d,h),A=t().projectName;let I=A;A||(I=RE(i)),e({tasks:d,nodes:C,edges:P,projectPath:i,projectName:I,isLoading:!1,error:null,currentActiveTaskId:_,mode:f,config:p,report:x,currentTag:y,availableTags:k}),Ga(i),A||Lf(I),t().startWatchingProject(i)}catch(i){console.error("Failed to load tasks:",i);let a="Failed to load tasks";if(i instanceof Error){const l=i.message;l.includes("Invalid project path")?a=l:l.includes("tasks directory not found")||l.includes("No tasks directory")?a=`No tasks directory found in the selected project.

To get started:
• Create a '.taskmaster/tasks' folder in your project root
• Add a tasks.json file or individual task files
• Refresh to see your tasks`:l.includes("Permission denied")||l.includes("EACCES")?a=`Permission denied accessing the project folder.

Please check that you have read access to the directory and try selecting a different folder.`:l.includes("Network")||l.includes("fetch")?a="Connection error. Please check if the server is running and try again.":l.includes("JSON")?a=`Invalid task file format.

Please check your tasks.json file for syntax errors, or download a template to get started.`:a=l}Ga(null),e({isLoading:!1,error:a,tasks:[],nodes:[],edges:[],projectPath:null})}},setProjectPath:s=>{e({projectPath:s}),Ga(s)},setLayoutMode:s=>{const i=t(),{tasks:a,customPositions:l,dynamicLayout:c,currentActiveTaskId:u,forceLayout:d}=i;if(s==="force"&&!d){const x={...oc,width:typeof window<"u"?window.innerWidth:1200,height:typeof window<"u"?window.innerHeight:800,activeTaskId:u},y=new If(x);y.onTickUpdate(k=>{const{customPositions:h,tasks:g,layoutMode:w}=t(),v=new Map(h);if(k.forEach(S=>{S.x!==void 0&&S.y!==void 0&&v.set(S.id,{x:S.x,y:S.y})}),w==="force"){const S=bt(g,"force",v,c,u,y);e({customPositions:v,nodes:S})}else e({customPositions:v})}),y.onSimulationEnd(()=>{e({isSimulationRunning:!1})}),e({forceLayout:y}),y.optimizeForLargeDataset(a.length),y.setData(a,l),y.start(),e({isSimulationRunning:!0})}const f=bt(a,s,l,c,u,s==="force"?d||t().forceLayout:d),p=mn(a,s);e({layoutMode:s,nodes:f,edges:p})},selectTask:s=>e({selectedTaskId:s}),updateTaskStatus:(s,i)=>e(a=>{const l=a.tasks.map(p=>p.id===s?{...p,status:i}:p),c=l.find(p=>p.status==="in-progress"||p.subtasks.some(x=>x.status==="in-progress")),u=(c==null?void 0:c.id)||null,d=u!==a.currentActiveTaskId;let f=a.nodes.map(p=>p.data.task.id===s?{...p,data:{...p.data,task:{...p.data.task,status:i}}}:p);return a.dynamicLayout&&(a.layoutMode==="graph"||a.layoutMode==="force")&&d&&(f=bt(l,a.layoutMode,a.customPositions,!0,u,a.forceLayout)),{tasks:l,nodes:f,currentActiveTaskId:u}}),toggleTaskCollapse:s=>e(i=>({nodes:i.nodes.map(a=>a.data.task.id===s?{...a,data:{...a.data,isCollapsed:!a.data.isCollapsed}}:a)})),setEditorPreference:s=>e({editorPreference:s}),openInEditor:s=>{const{editorPreference:i,projectPath:a}=t(),l=t().tasks.find(f=>f.id===s);if(!l)return;if(!a){console.warn("No project path available"),alert("No project path available. Please load a project first.");return}let c;l.filePath?c=l.filePath:c=`${a}/tasks/tasks.json`;const u=i==="vscode"?"vscode":"cursor",d=`${u}://file${c}`;try{window.open(d,"_blank"),console.log(`Opening file in ${i}: ${c}`)}catch(f){console.error("Failed to open file in editor:",f),alert(`Failed to open file in ${i}. Make sure ${i} is installed and associated with ${u}:// URLs.`)}},setSearchQuery:s=>e({searchQuery:s}),setTheme:s=>{const i=Rs(),a=s==="dark"||s==="system"&&i==="dark";typeof window<"u"&&(a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),e({theme:s,isDarkMode:a}),AE(s)},updateNodePosition:(s,i)=>{const a=t(),l=new Map(a.customPositions);l.set(s,i),e({customPositions:l,nodes:a.nodes.map(c=>c.id===s?{...c,position:i}:c)}),IE(l)},setLastViewport:(()=>{let s=null;return i=>{e({lastViewport:i}),s&&clearTimeout(s),s=setTimeout(()=>{DE(i),s=null},500)}})(),setProjectName:s=>{e({projectName:s}),Lf(s)},setFocusOnActiveTask:s=>{e({focusOnActiveTask:s}),zE(s)},setDynamicLayout:s=>{const i=t();if(e({dynamicLayout:s}),LE(s),s&&(i.layoutMode==="graph"||i.layoutMode==="force")){const a=i.tasks.find(d=>d.status==="in-progress"||d.subtasks.some(f=>f.status==="in-progress")),l=(a==null?void 0:a.id)||null,c=bt(i.tasks,i.layoutMode,i.customPositions,s,l,i.forceLayout),u=mn(i.tasks,i.layoutMode);e({nodes:c,edges:u,currentActiveTaskId:l})}},initializeForceLayout:()=>{const{tasks:s}=t();if(s.length===0)return;const i={...oc,width:typeof window<"u"?window.innerWidth:1200,height:typeof window<"u"?window.innerHeight:800},a=new If(i);a.onTickUpdate(l=>{const{customPositions:c,tasks:u,layoutMode:d,dynamicLayout:f,currentActiveTaskId:p}=t(),x=new Map(c);if(l.forEach(y=>{y.x!==void 0&&y.y!==void 0&&x.set(y.id,{x:y.x,y:y.y})}),d==="force"){const y=bt(u,"force",x,f,p,a);e({customPositions:x,nodes:y})}else e({customPositions:x})}),a.onSimulationEnd(()=>{e({isSimulationRunning:!1})}),e({forceLayout:a,isSimulationRunning:!1}),a.optimizeForLargeDataset(s.length)},updateForceLayout:s=>{const{forceLayout:i}=t();i&&s&&(s.linkDistance||s.chargeStrength||s.collisionRadius?i.transitionToNewLayout(s,500):i.updateConfig(s))},startForceSimulation:()=>{const{forceLayout:s,tasks:i,customPositions:a}=t();!s||i.length===0||(s.setData(i,a),s.start(),e({isSimulationRunning:!0}))},stopForceSimulation:()=>{const{forceLayout:s}=t();s&&(s.stop(),e({isSimulationRunning:!1}))},setActiveTaskFocus:s=>{const{forceLayout:i}=t();if(!i)return;const a={activeTaskId:s};i.updateConfig(a),e({currentActiveTaskId:s})},enableLiveUpdates:()=>{const s=t();if(!(s.sseConnection||s.isLiveUpdateEnabled))try{console.log("Connecting to live updates...");const i=new EventSource("/api/live-updates");i.onopen=()=>{console.log("SSE connection opened"),e({isLiveUpdateEnabled:!0,sseConnection:i})},i.onmessage=a=>{try{const l=JSON.parse(a.data);if(console.log("Received SSE message:",l),l.type==="tasks-updated"){console.log("Tasks updated, refreshing...");const{layoutMode:c,customPositions:u,dynamicLayout:d,forceLayout:f}=t(),p=l.data&&"mode"in l.data;let x=[];p&&Array.isArray(l.data.tasks)?x=l.data.tasks:!p&&Array.isArray(l.data)?x=l.data:!p&&l.data&&Array.isArray(l.data.tasks)?x=l.data.tasks:(console.error("Invalid SSE tasks data format:",l.data),x=[]);const y=p?l.data.mode:"v1",k=p?l.data.config:null,h=p?l.data.report:null,g=p&&l.data.currentTag||"master",w=p?l.data.availableTags||["master"]:["master"],v=x.find(P=>P.status==="in-progress"||P.subtasks.some(A=>A.status==="in-progress")),S=(v==null?void 0:v.id)||null,_=bt(x,c,u,d,S,f),C=mn(x,c);e({tasks:x,nodes:_,edges:C,lastUpdateTime:l.timestamp,error:null,currentActiveTaskId:S,mode:y,config:k,report:h,currentTag:g,availableTags:w})}else if(l.type==="error"){console.error("🔴 SSE error:",l.message);const c=l.details?`${l.message}: ${l.details}`:l.message;e({error:c})}else if(l.type==="watcher-error"){console.error("🔴 File watcher error:",l.message);const c=`File watcher error: ${l.message}${l.details?` (${l.details})`:""}`;e({error:c,isLiveUpdateEnabled:!1}),i&&(i.close(),e({sseConnection:null}))}else l.type==="connected"&&console.log("🟢 SSE connection established with ID:",l.id)}catch(l){console.error("Failed to parse SSE message:",l)}},i.onerror=a=>{console.error("SSE connection error:",a),e({isLiveUpdateEnabled:!1,sseConnection:null,error:"Live updates connection lost"})}}catch(i){console.error("Failed to enable live updates:",i),e({error:"Failed to enable live updates"})}},disableLiveUpdates:()=>{const s=t();s.sseConnection&&s.sseConnection.close(),e({isLiveUpdateEnabled:!1,sseConnection:null}),console.log("Live updates disabled")},startWatchingProject:async s=>{try{const i=await fetch("/api/watch-project",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectPath:s})}),a=await i.json();if(!i.ok)if(i.status===404)if(console.warn(`⚠️ Tasks directory not found: ${a.message}`),console.log(`📝 Suggestion: ${a.suggestion}`),a.maxRetriesExceeded){console.error("❌ Maximum retry attempts exceeded for this project"),e({error:`${a.message}

${a.suggestion}`,isLiveUpdateEnabled:!1});return}else{console.log(`🔄 Retry ${a.retryCount}/${a.maxRetries} for project watching`),e({error:`${a.message} (Attempt ${a.retryCount}/${a.maxRetries})

${a.suggestion}`});return}else if(i.status===400&&a.maxRetriesExceeded){console.error("❌ Maximum retry attempts exceeded:",a.message),e({error:`${a.message}

${a.suggestion}`,isLiveUpdateEnabled:!1});return}else throw new Error(a.error||a.message||"Failed to start watching project");if(a.watching){console.log("✅ Started watching project:",a),e({error:null});const l=t();l.isLiveUpdateEnabled||l.enableLiveUpdates()}else console.warn("⚠️ Server response indicates not watching:",a.message),e({error:a.message||"Project watching not enabled"})}catch(i){console.error("❌ Failed to start watching project:",i),e({error:`Failed to start watching project: ${i instanceof Error?i.message:"Unknown error"}`,isLiveUpdateEnabled:!1})}},stopWatchingProject:async s=>{try{const i=await fetch("/api/unwatch-project",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectPath:s})});if(!i.ok){const l=await i.json();throw new Error(l.error||"Failed to stop watching project")}const a=await i.json();console.log("Stopped watching project:",a)}catch(i){console.error("Failed to stop watching project:",i),e({error:`Failed to stop watching project: ${i instanceof Error?i.message:"Unknown error"}`})}},clearAllStoredData:()=>{if(!(typeof window>"u"))try{[Rr,Ii,Di,zi,ns,Li,Ri].forEach(l=>{localStorage.removeItem(l)}),console.log("All stored data cleared"),e({projectPath:null,theme:"system",isDarkMode:Rs()==="dark",customPositions:new Map,lastViewport:null,projectName:null,focusOnActiveTask:!0,dynamicLayout:!1,editorPreference:"cursor",selectedTaskId:null,searchQuery:"",layoutMode:"grid"});const a=Rs()==="dark";typeof window<"u"&&(a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}catch(s){console.warn("Failed to clear stored data:",s)}},showContextMenu:(s,i)=>{e({contextMenu:{isVisible:!0,position:s,targetNodeId:i||null,isBackgroundMenu:!i}})},hideContextMenu:()=>{e({contextMenu:{isVisible:!1,position:{x:0,y:0},targetNodeId:null,isBackgroundMenu:!1}})},toggleTaskLock:s=>{const{tasks:i,nodes:a}=t(),l=i.map(u=>u.id===s?{...u,isLocked:!u.isLocked}:u),c=a.map(u=>u.data.task.id===s?{...u,data:{...u.data,task:{...u.data.task,isLocked:!u.data.task.isLocked}}}:u);e({tasks:l,nodes:c})},bringTaskToFront:s=>{const{tasks:i,nodes:a}=t(),c=Math.max(...i.map(f=>f.zIndex||0),0)+1,u=i.map(f=>f.id===s?{...f,zIndex:c}:f),d=a.map(f=>f.data.task.id===s?{...f,data:{...f.data,task:{...f.data.task,zIndex:c}},zIndex:c}:f);e({tasks:u,nodes:d})},sendTaskToBack:s=>{const{tasks:i,nodes:a}=t(),c=Math.min(...i.map(f=>f.zIndex||0),0)-1,u=i.map(f=>f.id===s?{...f,zIndex:c}:f),d=a.map(f=>f.data.task.id===s?{...f,data:{...f.data,task:{...f.data.task,zIndex:c}},zIndex:c}:f);e({tasks:u,nodes:d})},duplicateTask:s=>{const{tasks:i,customPositions:a,layoutMode:l,dynamicLayout:c,currentActiveTaskId:u,forceLayout:d}=t(),f=i.find(g=>g.id===s);if(!f)return;const p=Math.max(...i.map(g=>g.id))+1,x={...f,id:p,title:`${f.title} (Copy)`,dependencies:[],isLocked:!1,zIndex:(f.zIndex||0)+1},y=[...i,x],k=bt(y,l,a,c,u,d),h=mn(y,l);e({tasks:y,nodes:k,edges:h})},deleteTask:s=>{const{tasks:i,customPositions:a,layoutMode:l,dynamicLayout:c,currentActiveTaskId:u,forceLayout:d}=t(),p=i.filter(h=>h.id!==s).map(h=>({...h,dependencies:h.dependencies.filter(g=>g!==s)})),x=new Map(a);x.delete(`task-${s}`);const y=bt(p,l,x,c,u,d),k=mn(p,l);e({tasks:p,nodes:y,edges:k,customPositions:x})},toggleGrid:()=>{e(s=>({showGrid:!s.showGrid}))},resetLayout:()=>{const{tasks:s,layoutMode:i,dynamicLayout:a,currentActiveTaskId:l,forceLayout:c}=t(),u=new Map,d=bt(s,i,u,a,l,c),f=mn(s,i);e({customPositions:u,nodes:d,edges:f})},fitAllNodes:()=>{const{reactFlowInstance:s}=t();s&&s.fitView({padding:.1,maxZoom:1.5,duration:800})},centerViewport:()=>{const{reactFlowInstance:s}=t();if(s){const i=s.getViewport();s.setViewport({x:0,y:0,zoom:i.zoom},{duration:800})}},setReactFlowInstance:s=>{e({reactFlowInstance:s})},exportToPNG:async(s=!1)=>{try{const{default:i}=await HN(async()=>{const{default:u}=await import("./html2canvas.esm-CBrSDip1.js");return{default:u}},[]),a=document.querySelector(".react-flow");if(!a){console.error("ReactFlow element not found");return}let l=a;if(!s){const u=document.querySelector(".react-flow__viewport");u&&(l=u)}(await i(l,{backgroundColor:null,scale:2,useCORS:!0,allowTaint:!0,foreignObjectRendering:!0,logging:!1})).toBlob(u=>{if(u){const d=URL.createObjectURL(u),f=document.createElement("a");f.href=d,f.download=`task-visualization-${s?"full":"visible"}-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.png`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d)}},"image/png"),console.log(`PNG export completed (fullGraph: ${s})`)}catch(i){console.error("Error exporting to PNG:",i),alert("PNG export failed. Please try again or use a different browser.")}},exportToMermaid:()=>{const{tasks:s}=t();let i=`graph TD
`;if(s.forEach(a=>{const l=`T${a.id}`,c=a.title.replace(/"/g,'\\"'),u=a.status==="done"?":::done":a.status==="in-progress"?":::inProgress":":::pending";i+=`    ${l}["${c}"]${u}
`}),s.forEach(a=>{a.dependencies.forEach(l=>{i+=`    T${l} --> T${a.id}
`})}),i+=`
    classDef done fill:#10b981,stroke:#059669,stroke-width:2px,color:#fff
`,i+=`    classDef inProgress fill:#f59e0b,stroke:#d97706,stroke-width:2px,color:#fff
`,i+=`    classDef pending fill:#6b7280,stroke:#4b5563,stroke-width:2px,color:#fff
`,navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(i).then(()=>{console.log("Mermaid diagram copied to clipboard")}).catch(a=>{console.error("Failed to copy to clipboard:",a)});else{const a=document.createElement("textarea");a.value=i,document.body.appendChild(a),a.select();try{document.execCommand("copy"),console.log("Mermaid diagram copied to clipboard (fallback)")}catch(l){console.error("Failed to copy to clipboard (fallback):",l)}document.body.removeChild(a)}return i},clearError:()=>{e({error:null})}}}),HE={done:m.jsx(yu,{className:"w-5 h-5 text-green-500"}),"in-progress":m.jsx(vu,{className:"w-5 h-5 text-blue-500"}),pending:m.jsx(xu,{className:"w-5 h-5 text-gray-400"})},UE={high:"border-red-500",medium:"border-yellow-500",low:"border-gray-300"},VE={high:"border-red-400",medium:"border-yellow-400",low:"border-gray-600"},BE=({data:e})=>{const{task:t,isCollapsed:n}=e,{selectTask:r,toggleTaskCollapse:o,openInEditor:s,layoutMode:i,isDarkMode:a,focusOnActiveTask:l}=Ut(),[c,u]=T.useState(0),[d,f]=T.useState(t.status),[p,x]=T.useState(t.subtasks.map(N=>N.status)),[y,k]=T.useState(!1),[h,g]=T.useState(!1),[w,v]=T.useState([]),S=T.useRef(),_=t.subtasks.length>0?t.subtasks.filter(N=>N.status==="done").length/t.subtasks.length*100:0,C=t.status==="in-progress"||t.subtasks.some(N=>N.status==="in-progress"),P=t.isLocked||!1,A=t.zIndex||0;T.useEffect(()=>{d!==t.status&&(k(!0),t.status==="done"&&d!=="done"&&(g(!0),setTimeout(()=>g(!1),2e3)),setTimeout(()=>k(!1),1e3),f(t.status));const N=t.subtasks.map(j=>j.status),E=[];N.forEach((j,D)=>{j==="done"&&p[D]!=="done"&&E.push(t.subtasks[D].id)}),E.length>0&&(v(E),setTimeout(()=>v([]),1e3)),x(N)},[t.status,t.subtasks,d,p]);const I=T.useMemo(()=>{if(!C)return!1;const N=new Date,E=new Date(N.getTime()-10*60*1e3);return t.lastUpdated&&new Date(t.lastUpdated)>E?!0:t.subtasks.some(j=>j.status==="in-progress"&&j.lastUpdated?new Date(j.lastUpdated)>E:!1)},[t.lastUpdated,t.subtasks,C]);T.useEffect(()=>{S.current&&cancelAnimationFrame(S.current);const N=c,E=_,j=performance.now(),D=800,L=B=>{const V=B-j,Y=Math.min(V/D,1),X=1-Math.pow(1-Y,3),q=N+(E-N)*X;u(q),Y<1&&(S.current=requestAnimationFrame(L))};return S.current=requestAnimationFrame(L),()=>{S.current&&cancelAnimationFrame(S.current)}},[_]);const F=()=>{r(t.id)},H=N=>{N.stopPropagation(),o(t.id)},O=N=>{N.stopPropagation(),s(t.id)},b=i==="graph",M=a?VE:UE,$=t.status==="done",z=l&&C&&!$;return m.jsx(m.Fragment,{children:m.jsxs("div",{className:`
          ${a?"bg-gray-800 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"} 
          rounded-lg shadow-md p-4 min-w-[250px] max-w-[350px] border-2 
          ${M[t.priority]} 
          ${P?"cursor-not-allowed opacity-75":"cursor-pointer hover:shadow-lg"} 
          transition-all duration-300
          ${z?"shadow-2xl shadow-orange-500/50 ring-4 ring-orange-400/60 ring-offset-2 active-task-border-glow":""}
          ${C&&!z?"shadow-lg shadow-orange-500/30 ring-2 ring-orange-400/40":""}
          ${y?"animate-status-change":""}
          ${h?"animate-completion-celebration":""}
          ${P?`border-dashed ${a?"border-gray-500":"border-gray-400"}`:""}
        `,style:{zIndex:A},onClick:P?void 0:F,children:[b&&m.jsx(Kr,{type:"target",position:Q.Left,className:`!w-3 !h-3 ${a?"!bg-gray-400":"!bg-gray-500"}`}),m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[HE[t.status],m.jsxs("span",{className:`text-sm font-medium ${a?"text-gray-300":"text-gray-600"}`,children:["#",t.id]}),P&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(zm,{className:"w-4 h-4 text-gray-500"}),m.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"Locked"})]}),A>0&&m.jsx("div",{className:"flex items-center gap-1",children:m.jsxs("span",{className:"text-xs text-blue-500 font-medium",children:["Layer ",A]})}),I&&m.jsxs("div",{className:"flex items-center gap-1 animate-pulse",children:[m.jsx(jm,{className:"w-4 h-4 text-orange-500 animate-bounce"}),m.jsx("span",{className:"text-xs text-orange-500 font-bold",children:"Live"})]}),C&&t.subtasks.length===0&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full animate-ping"}),m.jsx("span",{className:"text-xs text-orange-500 font-bold tracking-wide",children:"ACTIVE"})]}),y&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-ping"}),m.jsx("span",{className:"text-xs text-blue-500 font-medium",children:"Updated"})]}),h&&m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-ping"}),m.jsx("span",{className:"text-xs text-green-500 font-bold",children:"DONE!"})]})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[t.subtasks.length>0&&m.jsx("button",{onClick:H,className:`p-1 rounded hover:bg-opacity-20 ${a?"hover:bg-white":"hover:bg-black"}`,children:n?m.jsx(pN,{className:"w-4 h-4"}):m.jsx(mN,{className:"w-4 h-4"})}),m.jsx("button",{onClick:O,className:`p-1 rounded hover:bg-opacity-20 ${a?"hover:bg-white":"hover:bg-black"}`,title:"Open in editor",children:m.jsx(Pm,{className:"w-4 h-4"})})]})]}),m.jsx("h3",{className:`font-semibold mb-2 line-clamp-2 ${a?"text-white":"text-gray-800"}`,children:t.title}),!n&&m.jsxs(m.Fragment,{children:[m.jsx("p",{className:`text-sm line-clamp-3 mb-3 ${a?"text-gray-300":"text-gray-600"}`,children:t.description}),t.subtasks.length>0&&m.jsxs("div",{className:`mt-3 pt-3 border-t ${a?"border-gray-600":"border-gray-200"}`,children:[m.jsxs("p",{className:`text-xs font-medium mb-2 ${a?"text-gray-400":"text-gray-500"}`,children:["Subtasks: ",t.subtasks.filter(N=>N.status==="done").length,"/",t.subtasks.length]}),m.jsxs("div",{className:"space-y-1 mb-3",children:[t.subtasks.slice(0,n?2:t.subtasks.length).map(N=>m.jsxs("div",{className:`flex items-center gap-2 text-xs py-1 px-2 rounded transition-all duration-300 ${w.includes(N.id)?"animate-subtask-complete":""} ${N.status==="in-progress"?`${a?"bg-orange-900/20 text-orange-300":"bg-orange-50 text-orange-700"}`:`${a?"text-gray-300":"text-gray-700"}`}`,children:[N.status==="done"?m.jsx(yu,{className:"w-3 h-3 text-green-500 flex-shrink-0"}):N.status==="in-progress"?m.jsx(vu,{className:"w-3 h-3 text-orange-500 flex-shrink-0"}):m.jsx(xu,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),m.jsx("span",{className:"truncate",children:N.title})]},N.id)),n&&t.subtasks.length>2&&m.jsxs("p",{className:`text-xs ${a?"text-gray-500":"text-gray-400"}`,children:["+",t.subtasks.length-2," more..."]})]}),m.jsxs("div",{className:`w-full rounded-full h-2 relative overflow-hidden ${a?"bg-gray-700":"bg-gray-200"}`,children:[m.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-out ${C?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-blue-500"}`,style:{width:`${c}%`}}),C&&m.jsx("div",{className:"absolute top-0 left-0 h-full w-full overflow-hidden rounded-full",children:m.jsx("div",{className:"h-full w-8 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-slide-right"})})]})]}),t.dependencies.length>0&&m.jsxs("p",{className:`text-xs mt-2 ${a?"text-gray-400":"text-gray-500"}`,children:["Dependencies: ",t.dependencies.join(", ")]})]}),b&&m.jsx(Kr,{type:"source",position:Q.Right,className:`!w-3 !h-3 ${a?"!bg-gray-400":"!bg-gray-500"}`})]})})},WE=()=>{const{selectedTaskId:e,tasks:t,selectTask:n,updateTaskStatus:r,isDarkMode:o}=Ut(),s=t.find(a=>a.id===e);if(!s)return null;const i=["pending","in-progress","done"];return m.jsxs("div",{className:`absolute right-0 top-0 h-full w-96 shadow-xl p-6 overflow-y-auto z-10 ${o?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:`text-xl font-bold ${o?"text-white":"text-gray-900"}`,children:["Task #",s.id]}),m.jsx("button",{onClick:()=>n(null),className:`p-2 rounded ${o?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:m.jsx(wu,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("h3",{className:`text-lg font-semibold mb-2 ${o?"text-white":"text-gray-900"}`,children:s.title}),m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(DN,{className:`w-4 h-4 ${o?"text-gray-400":"text-gray-500"}`}),m.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.priority==="high"?o?"bg-red-900 text-red-200":"bg-red-100 text-red-700":s.priority==="medium"?o?"bg-yellow-900 text-yellow-200":"bg-yellow-100 text-yellow-700":o?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:[s.priority," priority"]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-1 ${o?"text-gray-300":"text-gray-700"}`,children:"Status"}),m.jsxs("select",{value:s.status,onChange:a=>r(s.id,a.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${o?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[i.map(a=>m.jsx("option",{value:a,children:a},a)),"          "]})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:`text-sm font-medium mb-1 flex items-center gap-1 ${o?"text-gray-300":"text-gray-700"}`,children:[m.jsx($m,{className:"w-4 h-4"}),"Description"]}),m.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:s.description})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:`text-sm font-medium mb-1 flex items-center gap-1 ${o?"text-gray-300":"text-gray-700"}`,children:[m.jsx(Am,{className:"w-4 h-4"}),"Details"]}),m.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:s.details})]}),m.jsxs("div",{children:[m.jsxs("h4",{className:`text-sm font-medium mb-1 flex items-center gap-1 ${o?"text-gray-300":"text-gray-700"}`,children:[m.jsx(zN,{className:"w-4 h-4"}),"Test Strategy"]}),m.jsx("p",{className:`text-sm ${o?"text-gray-400":"text-gray-600"}`,children:s.testStrategy})]}),s.dependencies.length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:`text-sm font-medium mb-1 ${o?"text-gray-300":"text-gray-700"}`,children:"Dependencies"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:s.dependencies.map(a=>m.jsxs("span",{className:`px-2 py-1 rounded text-sm ${o?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:["Task #",a]},a))})]}),s.subtasks.length>0&&m.jsxs("div",{children:[m.jsx("h4",{className:`text-sm font-medium mb-2 ${o?"text-gray-300":"text-gray-700"}`,children:"Subtasks"}),m.jsx("div",{className:"space-y-2",children:s.subtasks.map(a=>m.jsxs("div",{className:`p-2 rounded ${o?"bg-gray-700":"bg-gray-50"}`,children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full ${a.status==="done"?"bg-green-500":a.status==="in-progress"?"bg-blue-500":"bg-gray-400"}`}),m.jsx("span",{className:`text-sm font-medium ${o?"text-white":"text-gray-900"}`,children:a.title})]}),m.jsx("p",{className:`text-xs mt-1 ${o?"text-gray-400":"text-gray-600"}`,children:a.description})]},a.id))})]})]})]})},YE=({onClose:e})=>{const{editorPreference:t,setEditorPreference:n,isDarkMode:r,focusOnActiveTask:o,setFocusOnActiveTask:s,dynamicLayout:i,setDynamicLayout:a,layoutMode:l,updateForceLayout:c,clearAllStoredData:u,setProjectPath:d,projectPath:f}=Ut(),[p,x]=T.useState(null),[y,k]=T.useState(!1),[h,g]=T.useState({enableSmartSpacing:!0,prioritySpacingMultiplier:1.3,clusterSpacing:150,minNodeSeparation:180,densityAdaptation:!0,edgeBundling:!1}),[w,v]=T.useState(!1),[S,_]=T.useState(null),[C,P]=T.useState({linkDistance:200,linkStrength:.7,chargeStrength:-800,centerStrength:.1,collisionRadius:160,collisionStrength:.8,alphaDecay:.0228,alphaMin:.001,velocityDecay:.4}),A={small:{linkDistance:250,chargeStrength:-1200,alphaDecay:.0228,collisionRadius:180},medium:{linkDistance:200,chargeStrength:-800,alphaDecay:.05,collisionRadius:160},large:{linkDistance:150,chargeStrength:-400,alphaDecay:.1,collisionRadius:120}},I=(M,$)=>{const z={...h,[M]:$};g(z),c({[M]:$})},F=(M,$)=>{const z={...h,[M]:$};g(z),c({[M]:$})},H=(M,$)=>{const z={...C,[M]:$};P(z),v(!0),S&&clearTimeout(S),c({[M]:$});const N=setTimeout(()=>{v(!1)},600);_(N)},O=M=>{const $=A[M],z={...C,...$};P(z),v(!0),S&&clearTimeout(S),c($);const N=setTimeout(()=>{v(!1)},600);_(N)},b=()=>{u(),k(!1),e()};return T.useEffect(()=>()=>{S&&clearTimeout(S)},[S]),m.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:`rounded-lg shadow-xl p-6 w-[500px] max-h-[80vh] overflow-y-auto ${r?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Settings"}),m.jsx("button",{onClick:e,className:`p-2 rounded ${r?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:m.jsx(wu,{className:"w-5 h-5"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Default Editor"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",name:"editor",value:"cursor",checked:t==="cursor",onChange:M=>n(M.target.value),className:"mr-2"}),m.jsx("span",{className:r?"text-white":"text-gray-900",children:"Cursor"})]}),m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"radio",name:"editor",value:"vscode",checked:t==="vscode",onChange:M=>n(M.target.value),className:"mr-2"}),m.jsx("span",{className:r?"text-white":"text-gray-900",children:"Visual Studio Code"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Startup Project Path"}),m.jsx("input",{type:"text",value:p||f||"",onChange:M=>x(M.target.value),onBlur:()=>{p!==null&&(d(p),typeof window<"u"&&localStorage.setItem("taskmaster-default-start-path",p))},className:`text-sm p-2 rounded border ${r?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} w-full`,placeholder:"Enter default startup directory path"}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Change this to override the default startup directory."})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Viewport Behavior"}),m.jsx("div",{className:"space-y-2",children:m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:o,onChange:M=>s(M.target.checked),className:"mr-2"}),m.jsx("span",{className:r?"text-white":"text-gray-900",children:"Focus on active task instead of remembering last position"})]})}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"When enabled, the view will automatically center on the selected task instead of returning to your last viewport position."})]}),m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Layout Options"}),m.jsx("div",{className:"space-y-2",children:m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:i,onChange:M=>a(M.target.checked),disabled:l!=="graph"&&l!=="force",className:"mr-2"}),m.jsx("span",{className:`${l!=="graph"&&l!=="force"?r?"text-gray-500":"text-gray-400":r?"text-white":"text-gray-900"}`,children:"Dynamic active task positioning (graph/force view only)"})]})}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"When enabled in graph or force view, the layout will reorganize around the currently active task, placing it in the center with related tasks nearby."})]}),m.jsxs("div",{className:`pt-4 border-t ${r?"border-gray-600":"border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("label",{className:`block text-sm font-medium ${r?"text-gray-300":"text-gray-700"}`,children:"Core Physics Parameters (Force Layout)"}),w&&m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),m.jsx("span",{className:`text-xs ${r?"text-blue-400":"text-blue-600"}`,children:"Applying changes..."})]})]}),l!=="force"&&m.jsx("p",{className:`text-xs mb-3 px-3 py-2 rounded ${r?"bg-yellow-900/20 text-yellow-200 border border-yellow-700":"bg-yellow-50 text-yellow-700 border border-yellow-200"}`,children:"Physics parameters are available in Force layout mode only."}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Graph Size Presets"}),m.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(M=>m.jsxs("button",{onClick:()=>O(M),disabled:l!=="force",className:`px-3 py-1 text-xs rounded transition-colors ${l!=="force"?r?"bg-gray-700 text-gray-500":"bg-gray-100 text-gray-400":r?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[M==="small"&&"<100 nodes",M==="medium"&&"100-500 nodes",M==="large"&&">500 nodes"]},M))}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Apply optimized settings for different graph sizes."})]}),m.jsxs("div",{className:l==="force"?"":"opacity-50",children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Link Distance: ",C.linkDistance,"px"]}),m.jsx("input",{type:"range",min:"100",max:"400",step:"25",value:C.linkDistance,onChange:M=>H("linkDistance",parseInt(M.target.value)),disabled:l!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Distance between connected nodes. Larger values spread the graph more."})]}),m.jsxs("div",{className:l==="force"?"":"opacity-50",children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Node Repulsion: ",Math.abs(C.chargeStrength)]}),m.jsx("input",{type:"range",min:"200",max:"2000",step:"100",value:Math.abs(C.chargeStrength),onChange:M=>H("chargeStrength",-parseInt(M.target.value)),disabled:l!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"How strongly nodes repel each other. Higher values spread nodes apart."})]}),m.jsxs("div",{className:l==="force"?"":"opacity-50",children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Link Strength: ",C.linkStrength.toFixed(1)]}),m.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.1",value:C.linkStrength,onChange:M=>H("linkStrength",parseFloat(M.target.value)),disabled:l!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Strength of connections between linked nodes. Higher values create tighter clusters."})]}),m.jsxs("div",{className:l==="force"?"":"opacity-50",children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Simulation Speed: ",(C.alphaDecay*1e3).toFixed(1)]}),m.jsx("input",{type:"range",min:"10",max:"150",step:"5",value:C.alphaDecay*1e3,onChange:M=>H("alphaDecay",parseInt(M.target.value)/1e3),disabled:l!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"How quickly the simulation converges. Higher values reach stability faster."})]}),m.jsxs("div",{className:l==="force"?"":"opacity-50",children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Collision Radius: ",C.collisionRadius,"px"]}),m.jsx("input",{type:"range",min:"100",max:"250",step:"10",value:C.collisionRadius,onChange:M=>H("collisionRadius",parseInt(M.target.value)),disabled:l!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Minimum space around each node to prevent overlap."})]})]})]}),m.jsxs("div",{className:`pt-4 border-t ${r?"border-gray-600":"border-gray-200"}`,children:[m.jsx("label",{className:`block text-sm font-medium mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:"Smart Spacing Configuration (Force Layout)"}),l!=="force"&&m.jsx("p",{className:`text-xs mb-3 px-3 py-2 rounded ${r?"bg-yellow-900/20 text-yellow-200 border border-yellow-700":"bg-yellow-50 text-yellow-700 border border-yellow-200"}`,children:"Smart spacing features are available in Force layout mode only."}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:h.enableSmartSpacing,onChange:M=>I("enableSmartSpacing",M.target.checked),disabled:l!=="force",className:"mr-2"}),m.jsx("span",{className:`${l!=="force"?r?"text-gray-500":"text-gray-400":r?"text-white":"text-gray-900"}`,children:"Enable Smart Spacing Algorithms"})]}),m.jsx("p",{className:`text-xs mt-1 ml-6 ${r?"text-gray-400":"text-gray-600"}`,children:"Advanced spacing with variable collision radii, clustering, and density adaptation."})]}),m.jsxs("div",{className:h.enableSmartSpacing&&l==="force"?"":"opacity-50",children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Priority Spacing Multiplier: ",h.prioritySpacingMultiplier.toFixed(1),"x"]}),m.jsx("input",{type:"range",min:"1.0",max:"2.0",step:"0.1",value:h.prioritySpacingMultiplier,onChange:M=>F("prioritySpacingMultiplier",parseFloat(M.target.value)),disabled:!h.enableSmartSpacing||l!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Extra space allocation for high-priority tasks."})]}),m.jsxs("div",{className:h.enableSmartSpacing&&l==="force"?"":"opacity-50",children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Cluster Spacing: ",h.clusterSpacing,"px"]}),m.jsx("input",{type:"range",min:"100",max:"300",step:"25",value:h.clusterSpacing,onChange:M=>F("clusterSpacing",parseInt(M.target.value)),disabled:!h.enableSmartSpacing||l!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Distance between different task clusters."})]}),m.jsxs("div",{className:h.enableSmartSpacing&&l==="force"?"":"opacity-50",children:[m.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Minimum Node Separation: ",h.minNodeSeparation,"px"]}),m.jsx("input",{type:"range",min:"120",max:"300",step:"20",value:h.minNodeSeparation,onChange:M=>F("minNodeSeparation",parseInt(M.target.value)),disabled:!h.enableSmartSpacing||l!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Minimum distance between any two task nodes."})]}),m.jsxs("div",{className:h.enableSmartSpacing&&l==="force"?"":"opacity-50",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:h.densityAdaptation,onChange:M=>I("densityAdaptation",M.target.checked),disabled:!h.enableSmartSpacing||l!=="force",className:"mr-2"}),m.jsx("span",{className:`${!h.enableSmartSpacing||l!=="force"?r?"text-gray-500":"text-gray-400":r?"text-white":"text-gray-900"}`,children:"Adaptive Density Spacing"})]}),m.jsx("p",{className:`text-xs mt-1 ml-6 ${r?"text-gray-400":"text-gray-600"}`,children:"Automatically increase spacing in dense areas to prevent overcrowding."})]}),m.jsxs("div",{className:h.enableSmartSpacing&&l==="force"?"opacity-50":"opacity-30",children:[m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:h.edgeBundling,onChange:M=>I("edgeBundling",M.target.checked),disabled:!0,className:"mr-2"}),m.jsx("span",{className:`${r?"text-gray-500":"text-gray-400"}`,children:"Edge Bundling (Coming Soon)"})]}),m.jsx("p",{className:"text-xs mt-1 ml-6 text-gray-500",children:"Bundle multiple edges between clusters for cleaner visualization."})]}),m.jsxs("div",{className:h.enableSmartSpacing&&l==="force"?"":"opacity-50",children:[m.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Collision Detection Testing"}),m.jsx("button",{onClick:()=>{var $,z;const M=(z=($=window.taskStore)==null?void 0:$.getState())==null?void 0:z.forceLayout;if(M&&M.testCollisionDetection){const N=M.testCollisionDetection(),E=M.generateCollisionReport();console.log("=== Collision Detection Test Results ==="),console.log(`Test ${N.success?"PASSED":"FAILED"}`),console.log(E),alert(`Collision detection test ${N.success?"PASSED":"FAILED"}!

Check console for detailed report.

Summary:
- Nodes: ${N.details.totalNodes}
- Violations: ${N.details.spacingMetrics.spacingViolations}
- Min distance: ${N.details.spacingMetrics.minNodeDistance.toFixed(1)}px`)}else alert("Force layout not available. Please switch to Force layout mode first.")},disabled:!h.enableSmartSpacing||l!=="force",className:`px-3 py-2 text-sm rounded font-medium transition-colors ${!h.enableSmartSpacing||l!=="force"?r?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-400 cursor-not-allowed":r?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Test Collision System"}),m.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Run comprehensive collision detection tests and view detailed report in console."})]})]})]}),m.jsx("div",{className:`pt-4 border-t ${r?"border-gray-600":"border-gray-200"}`,children:m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{children:[m.jsx("h3",{className:`text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Storage Management"}),m.jsx("p",{className:`text-xs mb-3 ${r?"text-gray-400":"text-gray-600"}`,children:'Clear all stored data including project paths, custom positions, viewport settings, and preferences. Note: Tasks are stored in ".taskmaster/tasks/tasks.json"; legacy "tasks/tasks.json" projects are still supported but will be migrated in a future release. AI model configuration is loaded from ".taskmaster/config.json".'}),y?m.jsxs("div",{className:`p-4 rounded border ${r?"bg-red-900/20 border-red-700":"bg-red-50 border-red-200"}`,children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(LN,{className:"w-5 h-5 text-red-500"}),m.jsx("span",{className:`font-medium ${r?"text-red-200":"text-red-800"}`,children:"Clear all stored data?"})]}),m.jsx("p",{className:`text-sm mb-4 ${r?"text-red-200":"text-red-700"}`,children:"This will reset all preferences, positions, and settings. This action cannot be undone."}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:b,className:"px-4 py-2 text-sm rounded transition-colors bg-red-600 hover:bg-red-700 text-white",children:"OK, I understand"}),m.jsx("button",{onClick:()=>k(!1),className:`px-4 py-2 text-sm rounded transition-colors ${r?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:"Cancel"})]})]}):m.jsxs("button",{onClick:()=>k(!0),className:`flex items-center gap-2 px-3 py-2 rounded text-sm transition-colors ${r?"bg-red-900 hover:bg-red-800 text-red-200 border border-red-700":"bg-red-50 hover:bg-red-100 text-red-700 border border-red-200"}`,children:[m.jsx(Lm,{className:"w-4 h-4"}),"Clear All Stored Data"]})]})})}),m.jsx("div",{className:`pt-4 border-t ${r?"border-gray-600":"border-gray-200"}`,children:m.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"This preference will be used when opening task files in your editor."})})]})]})})},XE=({onSearch:e})=>{const{isDarkMode:t}=Ut(),[n,r]=T.useState(""),o=s=>{r(s),e(s)};return m.jsxs("div",{className:"relative w-full",children:[m.jsx(PN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search tasks...",value:n,onChange:s=>o(s.target.value),className:`pl-10 pr-4 py-2 w-full rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:bg-gray-600":"bg-gray-50 border-gray-200 text-gray-900 placeholder-gray-500 focus:bg-white"}`})]})},GE=()=>{const{isDarkMode:e}=Ut();return m.jsxs("div",{className:`absolute bottom-4 left-4 rounded-lg shadow-md p-4 z-10 ${e?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[m.jsx("h3",{className:`text-sm font-semibold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Legend"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(xu,{className:"w-4 h-4 text-gray-400"}),m.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Pending"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(vu,{className:"w-4 h-4 text-blue-500"}),m.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"In Progress"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(yu,{className:"w-4 h-4 text-green-500"}),m.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Done"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(jm,{className:"w-4 h-4 text-blue-500 animate-bounce"}),m.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Recently Active"})]})]}),m.jsxs("div",{className:`mt-3 pt-3 border-t space-y-1 ${e?"border-gray-600":"border-gray-200"}`,children:[m.jsx("h4",{className:`text-xs font-semibold mb-1 ${e?"text-white":"text-gray-900"}`,children:"Dependencies (Graph Mode)"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-0.5 bg-blue-500 rounded"}),m.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"To Active Task"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-0.5 bg-green-500 rounded"}),m.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"From Active Task"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-4 h-0.5 bg-green-500 rounded border-dashed border border-green-500"}),m.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Completed Dependency"})]})]}),m.jsxs("div",{className:`mt-3 pt-3 border-t space-y-1 ${e?"border-gray-600":"border-gray-200"}`,children:[m.jsx("h4",{className:`text-xs font-semibold mb-1 ${e?"text-white":"text-gray-900"}`,children:"Priority Borders"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-4 h-4 border-2 rounded ${e?"border-red-400":"border-red-500"}`}),m.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"High Priority"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-4 h-4 border-2 rounded ${e?"border-yellow-400":"border-yellow-500"}`}),m.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Medium Priority"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-4 h-4 border-2 rounded ${e?"border-gray-600":"border-gray-300"}`}),m.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Low Priority"})]})]})]})},QE=({onSelectPath:e,onClose:t,isOpen:n})=>{const{isDarkMode:r,clearError:o}=Ut(),[s,i]=T.useState("/home"),[a,l]=T.useState("/home"),[c,u]=T.useState([]),[d,f]=T.useState(!1),[p,x]=T.useState(null),[y,k]=T.useState([]),[h,g]=T.useState([]),[w,v]=T.useState(-1),[S,_]=T.useState(!1),C=T.useRef(null);T.useEffect(()=>{n&&(o(),A(),setTimeout(()=>{var N;return(N=C.current)==null?void 0:N.focus()},100))},[n,o]),T.useEffect(()=>{n&&y.length===0&&(async()=>{try{const E=await fetch("/api/drives");if(E.ok){const j=await E.json();j.homeDirectory&&s==="/home"&&(i(j.homeDirectory),l(j.homeDirectory),await I(j.homeDirectory))}}catch(E){console.warn("Failed to get home directory for initialization:",E)}})()},[n,y.length,s]),T.useEffect(()=>{l(s)},[s]);const P=async(N,E)=>{let j=E;try{const D=await N.json();D&&D.error?j=D.error:j=`Error ${N.status}: ${N.statusText||E}`}catch{try{const L=await N.text();j=`Server error ${N.status}: ${L.substring(0,100)}${L.length>100?"...":""}`}catch{j=`${E} (Status: ${N.status})`}}return j},A=async()=>{f(!0);try{x(null),f(!0);const N=await fetch("/api/drives");if(!N.ok){const j=await P(N,"Failed to load system drives");throw new Error(j)}const E=await N.json();if(k(E.drives||[]),x(null),E.homeDirectory)i(E.homeDirectory),l(E.homeDirectory),await I(E.homeDirectory);else if(E.drives&&E.drives.length>0){const j=E.drives[0].path;i(j),l(j),await I(j)}else f(!1)}catch(N){console.error("Failed to load drives:",N),x(N instanceof Error?N.message:"An unknown error occurred while loading drives"),f(!1)}},I=async N=>{if(!N||typeof N!="string"){x("Invalid directory path provided");return}const E=N.trim();if(E.length===0){x("Directory path cannot be empty");return}f(!0),x(null),u([]);try{const j=await fetch(`/api/browse?dir=${encodeURIComponent(E)}`);if(!j.ok){let L;try{L=await j.json()}catch{L={error:"Server returned an invalid response"}}const B=L.details||L.error||`HTTP ${j.status}: Failed to load directory`;throw L.errorCode==="ENOENT"?new Error(`Directory does not exist: ${E}`):L.errorCode==="EACCES"?new Error(`Permission denied: Cannot access ${E}`):j.status===400?new Error(`Invalid path: ${B}`):j.status===404?new Error(`Directory not found: ${E}`):new Error(B)}const D=await j.json();if(!D||typeof D!="object")throw new Error("Invalid response format from server");if(!D.currentPath)throw new Error("Server response missing current path");if(!Array.isArray(D.items))throw new Error("Server response missing items array");i(D.currentPath),l(D.currentPath),u(D.items),x(null)}catch(j){console.error("Directory load error:",j);const D=j instanceof Error?j.message:"Unknown error occurred while loading directory";x(D),D.includes("Permission denied")?x(`${D}

Try selecting a different directory or contact your system administrator.`):D.includes("does not exist")&&x(`${D}

The directory may have been moved or deleted. Try navigating to a parent directory.`)}finally{f(!1)}},F=N=>{if(!N||!N.path){x("Invalid item selected");return}if(N.isDirectory)try{I(N.path)}catch(E){console.error("Failed to navigate to directory:",E),x("Failed to navigate to the selected directory")}},H=()=>{try{if(!s){x("Cannot navigate up: current path is not set");return}const N=s.includes("\\")?"\\":"/",E=s.split(N);if(E.length<=1){x("Already at the root directory");return}const j=E.slice(0,-1).join(N)||N;I(j)}catch(N){console.error("Failed to navigate to parent directory:",N),x("Failed to navigate to parent directory")}},O=()=>{try{const N=a.trim();if(!N||N.length===0){x("Cannot select empty path");return}if(N.includes("..")){x("Invalid path: contains directory traversal attempts");return}const E=N.toLowerCase().replace(/\\/g,"/");if(E==="/users"||E==="/users/"||E==="/users/jason"||E==="/users/jason/"||E.includes("/ai/tmvisuals")||E==="/"||E==="/home"||E==="/home/"){x("Cannot select this directory: Please select a specific project folder, not a system directory or the application directory itself.");return}e(N),t()}catch(N){console.error("Failed to select path:",N),x("Failed to select the current path")}},b=N=>{if(N===0)return"0 B";const E=1024,j=["B","KB","MB","GB"],D=Math.floor(Math.log(N)/Math.log(E));return parseFloat((N/Math.pow(E,D)).toFixed(1))+" "+j[D]},M=async N=>{try{const E=N.includes("\\")?"\\":"/",j=N.lastIndexOf(E);let D,L;j===-1?(D=s,L=N):(D=N.substring(0,j)||E,L=N.substring(j+1));const B=await fetch(`/api/browse?dir=${encodeURIComponent(D)}`);return B.ok?(await B.json()).items.filter(X=>X.isDirectory&&X.name.toLowerCase().startsWith(L.toLowerCase())).map(X=>j===-1?X.path:N.substring(0,j+1)+X.name):[]}catch(E){return console.error("Failed to get completions:",E),[]}},$=async N=>{if(N.key==="Tab")if(N.preventDefault(),S&&h.length>0){const E=(w+1)%h.length;v(E),l(h[E])}else{const E=await M(a);E.length>0&&(g(E),_(!0),v(0),l(E[0]))}else if(N.key==="Enter"){N.preventDefault(),_(!1);const E=a.trim();E&&await I(E)}else N.key==="Escape"?S?(_(!1),g([]),v(-1)):l(s):(_(!1),g([]),v(-1))},z=N=>{l(N.target.value),_(!1),g([]),v(-1)};return n?m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:`rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] m-4 ${r?"bg-gray-800":"bg-white"}`,children:[m.jsxs("div",{className:`p-4 border-b ${r?"border-gray-700":"border-gray-200"}`,children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-gray-800"}`,children:"Select Project Root Directory"}),m.jsx("button",{onClick:t,className:`p-2 rounded-lg ${r?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:m.jsx(wu,{className:"w-5 h-5"})})]}),m.jsxs("p",{className:`text-sm mb-4 ${r?"text-gray-300":"text-gray-600"}`,children:["Choose the root directory of your project. Tasks will be loaded from the"," ",m.jsx("code",{className:`px-1 rounded ${r?"bg-gray-700 text-gray-200":"bg-gray-100 text-gray-800"}`,children:"tasks/"})," ","subdirectory.",m.jsx("br",{}),m.jsxs("span",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:["Example: Select ",m.jsx("code",{children:"/Users/john/myproject"})," to load tasks from"," ",m.jsx("code",{children:"/Users/john/myproject/tasks/"})]}),m.jsx("br",{}),m.jsx("span",{className:`text-xs mt-1 ${r?"text-blue-400":"text-blue-600"}`,children:"Tip: Use Tab for auto-completion, Enter to navigate to a directory"})]}),m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("button",{onClick:H,disabled:s==="/",className:`p-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed ${r?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:m.jsx(uN,{className:"w-4 h-4"})}),m.jsxs("div",{className:"flex-1 relative",children:[m.jsx("input",{ref:C,type:"text",value:a,onChange:z,onKeyDown:$,className:`w-full px-3 py-2 rounded-lg text-sm font-mono outline-none ${r?"bg-gray-700 text-gray-200 focus:ring-2 focus:ring-blue-500":"bg-gray-100 text-gray-800 focus:ring-2 focus:ring-blue-400"}`,placeholder:"Type a path or use Tab for completion"}),S&&h.length>0&&m.jsxs("div",{className:`absolute top-full mt-1 left-0 right-0 rounded-lg shadow-lg overflow-hidden z-10 ${r?"bg-gray-700 border border-gray-600":"bg-white border border-gray-200"}`,children:[m.jsxs("div",{className:`px-3 py-1 text-xs ${r?"text-gray-400 bg-gray-800":"text-gray-500 bg-gray-50"}`,children:["Tab completion (",h.length," suggestion",h.length!==1?"s":"",")"]}),h.slice(0,5).map((N,E)=>m.jsx("div",{className:`px-3 py-2 text-sm font-mono ${E===w?r?"bg-blue-600 text-white":"bg-blue-500 text-white":r?"text-gray-200":"text-gray-800"}`,children:N},N))]})]}),m.jsxs("button",{onClick:O,className:`px-4 py-2 text-white rounded-lg flex items-center gap-2 ${r?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"}`,children:[m.jsx(hN,{className:"w-4 h-4"}),"Select Project Root"]})]}),y.length>0&&m.jsxs("div",{className:"flex gap-2 mb-4",children:[m.jsxs("span",{className:`text-sm flex items-center gap-1 ${r?"text-gray-300":"text-gray-600"}`,children:[m.jsx(wN,{className:"w-4 h-4"}),"Quick Access:"]}),y.map(N=>m.jsx("button",{onClick:()=>I(N.path),className:`px-3 py-1 rounded text-sm ${r?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-gray-100 hover:bg-gray-200 text-gray-800"}`,children:N.name},N.path))]})]}),m.jsxs("div",{className:"overflow-y-auto max-h-96",children:[d&&m.jsx("div",{className:`p-8 text-center ${r?"text-gray-400":"text-gray-500"}`,children:"Loading..."}),p&&m.jsx("div",{className:`p-4 m-4 rounded-lg ${r?"text-red-400 bg-red-900 bg-opacity-50":"text-red-600 bg-red-50"}`,children:p}),!d&&!p&&m.jsx("div",{className:"p-4",children:c.length===0?m.jsx("div",{className:`text-center py-8 ${r?"text-gray-400":"text-gray-500"}`,children:"No accessible items in this directory"}):m.jsx("div",{className:"space-y-1",children:c.map(N=>m.jsxs("div",{onClick:()=>F(N),className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${r?"hover:bg-gray-700":"hover:bg-gray-50"} ${N.isDirectory?"cursor-pointer":"cursor-default opacity-60"}`,children:[N.isDirectory?m.jsx(vN,{className:"w-5 h-5 text-blue-500"}):m.jsx(xN,{className:"w-5 h-5 text-gray-400"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:`font-medium ${r?"text-white":"text-gray-800"}`,children:N.name}),m.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-500"}`,children:N.isDirectory?"Directory":b(N.size||0)})]}),m.jsx("div",{className:`text-xs ${r?"text-gray-500":"text-gray-400"}`,children:new Date(N.modified).toLocaleDateString()})]},N.path))})})]})]})}):null},KE=()=>{const{isDarkMode:e,tasks:t,contextMenu:n,hideContextMenu:r,toggleTaskLock:o,bringTaskToFront:s,sendTaskToBack:i,duplicateTask:a,deleteTask:l,resetLayout:c,fitAllNodes:u,centerViewport:d,toggleGrid:f,exportToPNG:p,exportToMermaid:x}=Ut(),y=T.useRef(null);if(T.useEffect(()=>{const S=C=>{y.current&&!y.current.contains(C.target)&&r()},_=C=>{C.key==="Escape"&&r()};return n.isVisible&&(document.addEventListener("mousedown",S),document.addEventListener("keydown",_)),()=>{document.removeEventListener("mousedown",S),document.removeEventListener("keydown",_)}},[n.isVisible,r]),!n.isVisible)return null;const k=n.targetNodeId?t.find(S=>`task-${S.id}`===n.targetNodeId):null,h=(k==null?void 0:k.isLocked)||!1,g=!n.isBackgroundMenu&&k?[{icon:h?m.jsx(SN,{className:"w-4 h-4"}):m.jsx(zm,{className:"w-4 h-4"}),label:h?"Unlock Task":"Lock Task",action:()=>o(k.id),separator:!1},{icon:m.jsx(dN,{className:"w-4 h-4"}),label:"Bring to Front",action:()=>s(k.id),separator:!1},{icon:m.jsx(cN,{className:"w-4 h-4"}),label:"Send to Back",action:()=>i(k.id),separator:!1},{icon:m.jsx(gN,{className:"w-4 h-4"}),label:"Duplicate Task",action:()=>a(k.id),separator:!1},{icon:m.jsx(Lm,{className:"w-4 h-4"}),label:"Delete Task",action:()=>{confirm("Are you sure you want to delete this task?")&&l(k.id)},separator:!0,danger:!0}]:[{icon:m.jsx($N,{className:"w-4 h-4"}),label:"Reset Layout",action:()=>c(),separator:!1},{icon:m.jsx(_N,{className:"w-4 h-4"}),label:"Fit All Nodes",action:()=>u(),separator:!1},{icon:m.jsx(RN,{className:"w-4 h-4"}),label:"Center Viewport",action:()=>d(),separator:!1},{icon:m.jsx(Dm,{className:"w-4 h-4"}),label:"Toggle Grid",action:()=>f(),separator:!0},{icon:m.jsx(_f,{className:"w-4 h-4"}),label:"Export PNG (Full)",action:()=>p(!0),separator:!1},{icon:m.jsx(_f,{className:"w-4 h-4"}),label:"Export PNG (Visible)",action:()=>p(!1),separator:!1},{icon:m.jsx(Am,{className:"w-4 h-4"}),label:"Export Mermaid.js",action:()=>{const S=x();navigator.clipboard.writeText(S),alert("Mermaid code copied to clipboard!")},separator:!1}],v=(()=>{if(!y.current)return n.position;const S=y.current.getBoundingClientRect(),_=window.innerWidth,C=window.innerHeight;let{x:P,y:A}=n.position;return P+S.width>_&&(P=_-S.width-10),P<10&&(P=10),A+S.height>C&&(A=C-S.height-10),A<10&&(A=10),{x:P,y:A}})();return m.jsx("div",{ref:y,className:`fixed z-50 min-w-[200px] rounded-lg shadow-xl border transition-all duration-200 ${e?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-200 text-gray-900"}`,style:{left:v.x,top:v.y,transform:"scale(1)",opacity:1},children:m.jsx("div",{className:"py-2",children:g.map((S,_)=>m.jsxs(R.Fragment,{children:[m.jsxs("button",{onClick:()=>{S.action(),r()},className:`w-full flex items-center gap-3 px-4 py-2 text-sm transition-colors ${S.danger?e?"hover:bg-red-900/50 text-red-400":"hover:bg-red-50 text-red-600":e?"hover:bg-gray-700 text-gray-200":"hover:bg-gray-100 text-gray-700"}`,children:[S.icon,m.jsx("span",{children:S.label})]}),S.separator&&_<g.length-1&&m.jsx("div",{className:`my-1 border-t ${e?"border-gray-600":"border-gray-200"}`})]},_))})})};class Rf extends T.Component{constructor(n){super(n);te(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,errorInfo:null})});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n,errorInfo:null}}componentDidCatch(n,r){this.setState({error:n,errorInfo:r}),console.error("ErrorBoundary caught an error:",{error:{message:n.message,stack:n.stack,name:n.name},errorInfo:{componentStack:r.componentStack},timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent}),this.props.onError&&this.props.onError(n,r)}render(){return this.state.hasError?this.props.fallback?this.props.fallback(this.state.error,this.state.errorInfo):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:m.jsx("div",{className:"max-w-md w-full mx-4",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("svg",{className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.896-.833-2.664 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Application Error"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Something went wrong with the TaskMaster Visualizer"})]})]}),m.jsxs("div",{className:"mb-4",children:[m.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:"We're sorry for the inconvenience. The application has encountered an unexpected error."}),this.state.error&&m.jsxs("details",{className:"mb-4",children:[m.jsx("summary",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 cursor-pointer hover:text-gray-800 dark:hover:text-gray-200",children:"Error Details (click to expand)"}),m.jsxs("div",{className:"mt-2 p-3 bg-gray-100 dark:bg-gray-700 rounded text-xs font-mono text-gray-800 dark:text-gray-200 overflow-auto max-h-32",children:[m.jsxs("div",{className:"mb-2",children:[m.jsx("strong",{children:"Error:"})," ",this.state.error.message]}),this.state.errorInfo&&m.jsxs("div",{children:[m.jsx("strong",{children:"Component Stack:"}),m.jsx("pre",{className:"mt-1 whitespace-pre-wrap",children:this.state.errorInfo.componentStack})]})]})]})]}),m.jsxs("div",{className:"flex space-x-3",children:[m.jsx("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Try Again"}),m.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-400 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:"Reload Page"})]}),m.jsxs("div",{className:"mt-4 text-xs text-gray-500 dark:text-gray-400",children:[m.jsx("p",{children:"If this error persists, please:"}),m.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[m.jsx("li",{children:"Check your project's .taskmaster/tasks/ directory structure"}),m.jsx("li",{children:"Ensure file permissions are correct"}),m.jsx("li",{children:"Try selecting a different project directory"}),m.jsx("li",{children:"Check the browser console for additional details"})]})]})]})})}):this.props.children}}const ZE=({onSelectFolder:e,onRefresh:t,projectPath:n})=>{const{isDarkMode:r}=Ut(),[o,s]=T.useState(""),[i,a]=T.useState(!1),[l,c]=T.useState(!1),u=async()=>{if(!n){alert("Please select a project folder first.");return}try{const p=await fetch("/api/create-sample-tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectPath:n})});if(p.ok)t==null||t();else{const x=await p.json();alert(`Failed to create sample tasks: ${x.message||"Unknown error"}`)}}catch(p){console.error("Failed to create sample tasks:",p),alert("Failed to create sample tasks. Please try again.")}},d=()=>{const p={tasks:[{id:1,title:"Project Setup",description:"Set up the basic project structure and dependencies",status:"done",priority:"high",dependencies:[],subtasks:[{id:1,title:"Initialize repository",status:"done"},{id:2,title:"Install dependencies",status:"done"},{id:3,title:"Configure build tools",status:"done"}]},{id:2,title:"User Interface Development",description:"Design and implement the main user interface components",status:"in-progress",priority:"high",dependencies:[1],subtasks:[{id:1,title:"Create wireframes",status:"done"},{id:2,title:"Implement layout components",status:"in-progress"},{id:3,title:"Add styling and themes",status:"pending"}]},{id:3,title:"Backend API Development",description:"Develop the server-side API endpoints and database integration",status:"pending",priority:"medium",dependencies:[1],subtasks:[{id:1,title:"Design database schema",status:"pending"},{id:2,title:"Implement API routes",status:"pending"},{id:3,title:"Add authentication",status:"pending"}]},{id:4,title:"Testing and Quality Assurance",description:"Comprehensive testing of all application features",status:"pending",priority:"medium",dependencies:[2,3],subtasks:[{id:1,title:"Unit tests",status:"pending"},{id:2,title:"Integration tests",status:"pending"},{id:3,title:"User acceptance testing",status:"pending"}]}]},x=new Blob([JSON.stringify(p,null,2)],{type:"application/json"}),y=URL.createObjectURL(x),k=document.createElement("a");k.href=y,k.download="tasks.json",document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(y)},f=async()=>{if(!o.trim()){alert("Please enter your feedback before submitting.");return}try{(await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback:o,context:"no-tasks-found",projectPath:n,timestamp:new Date().toISOString()})})).ok?(c(!0),setTimeout(()=>{a(!1),c(!1),s("")},2e3)):(console.error("Failed to submit feedback"),alert("Failed to submit feedback. Please try again later."))}catch(p){console.error("Error submitting feedback:",p),alert("Failed to submit feedback. Please try again later.")}};return m.jsx("div",{className:`h-full w-full flex items-center justify-center p-8 ${r?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"}`,children:m.jsxs("div",{className:"max-w-2xl w-full text-center space-y-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:`mx-auto w-20 h-20 rounded-full flex items-center justify-center ${r?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-600"}`,children:m.jsx($m,{className:"w-10 h-10"})}),m.jsx("h2",{className:"text-3xl font-bold",children:"No Tasks Found"}),m.jsx("p",{className:`text-lg ${r?"text-gray-300":"text-gray-600"}`,children:n?"We couldn't find any tasks in the .taskmaster/tasks/ directory of the selected project.":"Please select a project folder to get started with task visualization."})]}),n&&m.jsxs("div",{className:`p-4 rounded-lg ${r?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,children:[m.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-500"}`,children:"Selected project:"}),m.jsx("p",{className:"font-mono text-sm mt-1 break-all",children:n})]}),m.jsxs("div",{className:`text-left p-6 rounded-lg ${r?"bg-gray-800 border border-gray-700":"bg-white border border-gray-200"}`,children:[m.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[m.jsx(kN,{className:"w-5 h-5"}),"How to Set Up Tasks"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${r?"bg-blue-600 text-white":"bg-blue-500 text-white"}`,children:"1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Create a tasks directory"}),m.jsxs("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:["In your project root, create a folder named ",m.jsx("code",{className:`px-1 rounded ${r?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"tasks"})]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${r?"bg-blue-600 text-white":"bg-blue-500 text-white"}`,children:"2"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Add your tasks"}),m.jsxs("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:["Create a ",m.jsx("code",{className:`px-1 rounded ${r?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-800"}`,children:"tasks.json"})," file or individual task files (task_*.txt, task_*.md)"]})]})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold ${r?"bg-blue-600 text-white":"bg-blue-500 text-white"}`,children:"3"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium",children:"Refresh or reload"}),m.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"Click the refresh button or reload the project to see your tasks. Note: Tasks are stored in `.taskmaster/tasks/tasks.json`. Legacy `tasks/tasks.json` projects are still supported but will be migrated in a future release."})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("button",{onClick:e,className:`flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-colors ${r?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[m.jsx(Im,{className:"w-5 h-5"}),n?"Select Different Folder":"Select Project Folder"]}),n&&m.jsxs("button",{onClick:u,className:`flex items-center justify-center gap-2 px-6 py-3 rounded-lg font-medium transition-colors ${r?"bg-green-600 hover:bg-green-700 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:[m.jsx(TN,{className:"w-5 h-5"}),"Create Sample Tasks"]})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[m.jsxs("button",{onClick:d,className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${r?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:[m.jsx(yN,{className:"w-4 h-4"}),"Download Template"]}),m.jsxs("button",{onClick:()=>window.open("https://github.com/your-username/taskmaster-visualizer#readme","_blank"),className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${r?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:[m.jsx(fN,{className:"w-4 h-4"}),"View README",m.jsx(Pm,{className:"w-3 h-3"})]}),t&&m.jsxs("button",{onClick:t,className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${r?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-700"}`,children:[m.jsx(jN,{className:"w-4 h-4"}),"Refresh"]})]}),m.jsx("div",{className:"pt-4",children:i?m.jsx("div",{className:`p-4 rounded-lg border ${r?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:l?m.jsx("div",{className:"text-center",children:m.jsx("p",{className:`text-green-600 ${r?"text-green-400":""}`,children:"✓ Thank you for your feedback!"})}):m.jsxs("div",{className:"space-y-3",children:[m.jsx("p",{className:`text-sm ${r?"text-gray-300":"text-gray-600"}`,children:"Help us improve by describing the issue you encountered:"}),m.jsx("textarea",{value:o,onChange:p=>s(p.target.value),placeholder:"Describe what you were trying to do and what went wrong...",className:`w-full h-20 px-3 py-2 text-sm rounded border resize-none ${r?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{onClick:()=>{a(!1),s("")},className:`px-3 py-1 text-sm rounded transition-colors ${r?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-600"}`,children:"Cancel"}),m.jsx("button",{onClick:f,className:`px-3 py-1 text-sm rounded text-white transition-colors ${r?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"}`,children:"Send Feedback"})]})]})}):m.jsxs("button",{onClick:()=>a(!0),className:`flex items-center justify-center gap-2 px-4 py-2 text-sm rounded-lg transition-colors ${r?"text-gray-400 hover:text-gray-300 hover:bg-gray-800":"text-gray-500 hover:text-gray-600 hover:bg-gray-100"}`,children:[m.jsx(NN,{className:"w-4 h-4"}),"Having trouble? Send feedback"]})})]})})},qE={task:BE};function JE(){const e=la(),{tasks:t,nodes:n,edges:r,loadTasksFromPath:o,selectedTaskId:s,selectTask:i,setSearchQuery:a,searchQuery:l,layoutMode:c,setLayoutMode:u,projectPath:d,isLoading:f,error:p,clearError:x,mode:y,config:k,report:h,currentTag:g,availableTags:w,theme:v,isDarkMode:S,setTheme:_,updateNodePosition:C,lastViewport:P,projectName:A,setProjectName:I,isLiveUpdateEnabled:F,lastUpdateTime:H,enableLiveUpdates:O,disableLiveUpdates:b,focusOnActiveTask:M,viewportManager:$,cameraController:z,taskStatusManager:N,autoFocusOnActiveTask:E,focusTransitionDuration:j,currentActiveTaskId:D,showContextMenu:L,hideContextMenu:B,showGrid:V,setReactFlowInstance:Y}=Ut(),[X,q,ie]=DS(n),[oe,ee,be]=zS(r),[we,_e]=T.useState(!1),[ge,le]=T.useState(!1),[Be,ae]=T.useState(!1),[G,Ce]=T.useState("");T.useEffect(()=>{if(typeof window<"u"){const K=localStorage.getItem("taskmaster-project-path");if(K){const Z=K.toLowerCase().replace(/\\/g,"/");(Z==="/users"||Z==="/users/"||Z==="/users/jason"||Z==="/users/jason/"||Z.includes("/ai/tmvisuals")||Z==="/"||Z==="/home"||Z==="/home/")&&(console.warn("Clearing problematic stored project path on startup:",K),localStorage.removeItem("taskmaster-project-path"),window.location.reload())}}},[]),T.useEffect(()=>{e&&(z.setReactFlowInstance(e),Y(e))},[e,z,Y]),T.useEffect(()=>{if(!E||X.length===0)return;const K=t.find(ue=>ue.status==="in-progress"),Z=(K==null?void 0:K.id)||null;if(Z!==D&&(Ut.getState().setActiveTaskFocus(Z),Z&&N.updateActiveTask(t),Z&&K)){const ue=X.filter(ot=>ot.type==="task").map(ot=>({id:ot.id,type:"task",position:ot.position,data:ot.data})),Pe=$.calculateOptimalViewport(ue,Z,e==null?void 0:e.getViewport());Pe&&z.transitionToViewport(Pe,j)}},[X,t,E,D,j,e,$,z,N]),T.useEffect(()=>N.subscribe((Z,ue)=>{console.log(`Active task changed from ${ue==null?void 0:ue.id} to: ${Z==null?void 0:Z.id}`)}),[N]),T.useEffect(()=>{if(!M||X.length===0)return;const K=X.filter(Z=>{const ue=Z.data.task;return ue.status==="in-progress"||ue.subtasks.some(Pe=>Pe.status==="in-progress")});console.log(`Enhanced highlighting enabled for ${K.length} active tasks`)},[X,M]),T.useEffect(()=>{if(!ge){if(p&&!ge){le(!0);return}d&&t.length===0&&!f?o(d):!d&&!f&&le(!0)}},[d,t.length,f,o,p,ge]),T.useEffect(()=>{const K=Z=>{var ue;Z.key==="Escape"&&(i(null),_e(!1),le(!1)),Z.key==="/"&&Z.target===document.body&&(Z.preventDefault(),(ue=document.querySelector('input[type="text"]'))==null||ue.focus())};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[i]);const Nt=async K=>{try{if(!K||typeof K!="string"||K.trim().length===0){console.error("Invalid project path provided");return}x(),await o(K.trim()),le(!1)}catch(Z){console.error("Failed to load tasks from selected path:",Z)}};T.useEffect(()=>{console.log("Syncing nodes from store:",n.length,"layout mode:",c),q(n),ee(r)},[n,r,q,ee,c]);const On=T.useCallback(K=>{ie(K),K.forEach(Z=>{Z.type==="position"&&Z.position&&Z.dragging===!1&&C(Z.id,Z.position)})},[ie,C]),ln=T.useCallback((K,Z)=>{},[]),cn=()=>{Ce(A||"TaskMaster Visualizer"),ae(!0)},ht=()=>{const K=G.trim();K&&I(K),ae(!1)},un=()=>{ae(!1),Ce("")},Bt=K=>{K.key==="Enter"?ht():K.key==="Escape"&&un()};T.useEffect(()=>{const K=setTimeout(()=>{if(!l){q(n),ee(r);return}const Z=l.toLowerCase(),ue=n.filter(pt=>pt.data.task.title.toLowerCase().includes(Z)||pt.data.task.description.toLowerCase().includes(Z)||pt.data.task.id.toString().includes(Z)),Pe=new Set(ue.map(pt=>pt.id)),ot=r.filter(pt=>Pe.has(pt.source)&&Pe.has(pt.target));q(ue),ee(ot)},200);return()=>clearTimeout(K)},[n,r,l,q,ee]);const Wt=T.useCallback(K=>ee(Z=>V0(K,Z)),[ee]),dn=T.useCallback((K,Z)=>{if(Z.data.task.isLocked)return K.preventDefault(),!1},[]),fn=T.useCallback((K,Z)=>{K.preventDefault(),L({x:K.clientX,y:K.clientY},Z.id)},[L]),Hn=T.useCallback(K=>{K.preventDefault(),L({x:K.clientX,y:K.clientY})},[L]),$e=T.useCallback(()=>{B()},[B]),rt=!f&&!p&&t.length===0,Dt=T.useCallback(async()=>{d&&await o(d)},[d,o]);return m.jsxs("div",{className:`h-full w-full relative ${S?"dark bg-gray-900":"bg-white"}`,children:[f&&m.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50",children:m.jsx("div",{className:`p-6 rounded-lg shadow-lg ${S?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),m.jsx("div",{children:"Loading tasks..."})]})})}),p&&!ge&&m.jsx("div",{className:`absolute top-20 left-1/2 transform -translate-x-1/2 px-4 py-3 rounded-lg shadow-lg z-40 max-w-lg ${S?"bg-red-900 border border-red-700 text-red-200":"bg-red-50 border border-red-200 text-red-700"}`,children:m.jsxs("div",{className:"text-sm",children:[m.jsx("div",{className:"font-medium mb-1",children:"Unable to load tasks"}),m.jsx("div",{className:"mb-2",children:p}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>{x(),le(!0)},className:`px-3 py-1 text-xs rounded transition-colors ${S?"bg-red-800 hover:bg-red-700 text-red-200":"bg-red-100 hover:bg-red-200 text-red-700"}`,children:"Select Different Folder"}),d&&m.jsx("button",{onClick:()=>{x(),Dt()},className:`px-3 py-1 text-xs rounded transition-colors ${S?"bg-red-800 hover:bg-red-700 text-red-200":"bg-red-100 hover:bg-red-200 text-red-700"}`,children:"Retry"})]})]})}),rt&&!ge&&m.jsx("div",{className:"absolute inset-0 z-30",children:m.jsx(ZE,{onSelectFolder:()=>{x(),le(!0)},onRefresh:Dt,projectPath:d})}),m.jsxs(Nm,{nodes:X,edges:oe,onNodesChange:On,onEdgesChange:be,onConnect:Wt,onMove:ln,onNodeDragStart:dn,onNodeContextMenu:fn,onPaneContextMenu:Hn,onPaneClick:$e,nodeTypes:qE,fitView:!P,defaultViewport:P||{x:0,y:0,zoom:.8},attributionPosition:"bottom-left",maxZoom:2,minZoom:.1,zoomOnScroll:!0,zoomOnPinch:!0,panOnScroll:!1,selectNodesOnDrag:!1,zoomOnDoubleClick:!1,children:[m.jsx(sN,{variant:V?lt.Dots:lt.Lines,gap:V?12:20,size:V?1:.5,color:S?"#374151":"#e5e7eb"}),m.jsx(JS,{}),m.jsx(YS,{style:{backgroundColor:S?"#1f2937":"#f9fafb",border:`1px solid ${S?"#374151":"#d1d5db"}`},maskColor:S?"#111827":"#f3f4f6"})]}),m.jsx(KE,{}),m.jsx("div",{className:`absolute top-0 left-0 right-0 border-b shadow-sm z-10 ${S?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:m.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>_e(!we),className:`p-2 rounded-lg transition-colors ${S?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,title:"Settings",children:m.jsx(AN,{className:"w-5 h-5"})}),m.jsx("button",{onClick:()=>le(!0),className:`p-2 rounded-lg transition-colors ${S?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,title:"Select project root directory (tasks will be loaded from /tasks subdirectory)",children:m.jsx(Im,{className:"w-5 h-5"})}),m.jsxs("div",{className:`flex items-center gap-1 rounded-lg p-1 ${S?"bg-gray-700":"bg-gray-100"}`,children:[m.jsx("button",{onClick:()=>_("light"),className:`p-1.5 rounded ${v==="light"?S?"bg-gray-600 text-white":"bg-white text-gray-900 shadow-sm":S?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,title:"Light mode",children:m.jsx(IN,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>_("dark"),className:`p-1.5 rounded ${v==="dark"?S?"bg-gray-600 text-white":"bg-white text-gray-900 shadow-sm":S?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,title:"Dark mode",children:m.jsx(bN,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>_("system"),className:`p-1.5 rounded ${v==="system"?S?"bg-gray-600 text-white":"bg-white text-gray-900 shadow-sm":S?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,title:"System preference",children:m.jsx(EN,{className:"w-4 h-4"})})]}),m.jsxs("div",{className:`flex items-center gap-1 rounded-lg p-1 ${S?"bg-gray-700":"bg-gray-100"}`,children:[m.jsxs("button",{onClick:()=>u("grid"),className:`px-3 py-1 text-sm rounded flex items-center gap-1 transition-colors ${c==="grid"?S?"bg-gray-600 text-white shadow-sm":"bg-white text-blue-600 shadow-sm":S?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:[m.jsx(Dm,{className:"w-4 h-4"}),"Grid"]}),m.jsxs("button",{onClick:()=>u("graph"),className:`px-3 py-1 text-sm rounded flex items-center gap-1 transition-colors ${c==="graph"?S?"bg-gray-600 text-white shadow-sm":"bg-white text-blue-600 shadow-sm":S?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:[m.jsx(CN,{className:"w-4 h-4"}),"Graph"]}),m.jsxs("button",{onClick:()=>u("force"),className:`px-3 py-1 text-sm rounded flex items-center gap-1 transition-colors ${c==="force"?S?"bg-gray-600 text-white shadow-sm":"bg-white text-blue-600 shadow-sm":S?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:[m.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[m.jsx("circle",{cx:"12",cy:"12",r:"2"}),m.jsx("path",{d:"M12 1v6m0 6v6"}),m.jsx("path",{d:"m5.93 5.93 4.24 4.24m5.66 5.66 4.24 4.24"}),m.jsx("path",{d:"M1 12h6m6 0h6"}),m.jsx("path",{d:"m5.93 18.07 4.24-4.24m5.66-5.66 4.24-4.24"})]}),"Force"]})]})]}),m.jsxs("div",{className:"flex-1 max-w-md mx-4",children:[Be?m.jsx("div",{className:"flex items-center gap-2 justify-center",children:m.jsx("input",{type:"text",value:G,onChange:K=>Ce(K.target.value),onKeyDown:Bt,onBlur:ht,className:`text-lg font-bold text-center border rounded px-2 py-1 ${S?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,autoFocus:!0})}):m.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[m.jsx("h1",{className:`text-lg font-bold text-center ${S?"text-white":"text-gray-900"}`,children:A||"TaskMaster Visualizer"}),m.jsx("button",{onClick:cn,className:`p-1 rounded transition-colors ${S?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-600"}`,title:"Edit project name",children:m.jsx(MN,{className:"w-4 h-4"})})]}),d?m.jsx("div",{className:`text-xs text-center ${S?"text-gray-400":"text-gray-500"}`,children:d}):m.jsx("div",{className:`text-xs text-center ${S?"text-gray-400":"text-gray-500"}`,children:m.jsx("button",{onClick:()=>le(!0),className:"hover:underline",children:"Click to open a project folder"})}),y&&m.jsxs("div",{className:`text-xs text-center mt-2 ${S?"text-gray-400":"text-gray-500"}`,children:["Mode: ",y]}),g&&m.jsxs("div",{className:`text-xs text-center mt-1 ${S?"text-gray-400":"text-gray-500"}`,children:["Current Tag: ",m.jsx("span",{className:"font-semibold",children:g}),w&&w.length>1&&m.jsxs("span",{className:"ml-2",children:["(Available: ",w.join(", "),")"]})]}),k&&k.modelNames&&Array.isArray(k.modelNames)&&m.jsxs("div",{className:`text-xs text-center mt-1 ${S?"text-gray-400":"text-gray-500"}`,children:["Models: ",k.modelNames.join(", ")]}),(h==null?void 0:h.link)&&m.jsx("div",{className:"flex justify-center mt-1",children:m.jsx("a",{href:h.link,target:"_blank",rel:"noopener noreferrer",className:"px-2 py-1 text-xs rounded bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:"View Complexity Report"})}),d&&m.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[m.jsxs("button",{onClick:F?b:O,className:`flex items-center gap-1 px-2 py-1 text-xs rounded transition-colors ${F?S?"bg-green-900 text-green-300 border border-green-700":"bg-green-50 text-green-700 border border-green-200":S?"bg-gray-700 text-gray-400 border border-gray-600":"bg-gray-100 text-gray-600 border border-gray-200"}`,title:F?"Live updates enabled - click to disable":"Live updates disabled - click to enable",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${F?"bg-green-500 animate-pulse":"bg-gray-400"}`}),m.jsx("span",{children:F?"Live":"Static"})]}),H&&m.jsxs("span",{className:`text-xs ${S?"text-gray-500":"text-gray-400"}`,children:["Updated: ",new Date(H).toLocaleTimeString()]})]})]}),m.jsx("div",{className:"w-64",children:m.jsx(XE,{onSearch:a})})]})}),m.jsx("div",{className:"absolute top-20 right-4",children:m.jsx(GE,{})}),s&&m.jsx(WE,{}),we&&m.jsx(YE,{onClose:()=>_e(!1)}),m.jsx(QE,{isOpen:ge,onSelectPath:Nt,onClose:()=>{le(!1),x()}})]})}function eb(){const e=(t,n)=>{console.error("Application Error Boundary triggered:",{error:{name:t.name,message:t.message,stack:t.stack},errorInfo:{componentStack:n.componentStack},timestamp:new Date().toISOString(),userAgent:navigator.userAgent,url:window.location.href})};return m.jsx(Rf,{onError:e,children:m.jsx(gu,{children:m.jsx(Rf,{onError:e,fallback:()=>m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 p-4",children:m.jsx("div",{className:"max-w-lg w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"ReactFlow Component Error"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"There was an error with the task visualization component. This might be due to invalid task data or a layout issue."}),m.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded transition-colors",children:"Reload Application"})]})})}),children:m.jsx(JE,{})})})})}Qa.createRoot(document.getElementById("root")).render(m.jsx(R.StrictMode,{children:m.jsx(eb,{})}));
