var cg=Object.defineProperty;var dg=(e,t,n)=>t in e?cg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var J=(e,t,n)=>dg(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function If(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rf={exports:{}},As={},Lf={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ji=Symbol.for("react.element"),fg=Symbol.for("react.portal"),hg=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),mg=Symbol.for("react.profiler"),gg=Symbol.for("react.provider"),yg=Symbol.for("react.context"),vg=Symbol.for("react.forward_ref"),xg=Symbol.for("react.suspense"),wg=Symbol.for("react.memo"),Sg=Symbol.for("react.lazy"),Cc=Symbol.iterator;function kg(e){return e===null||typeof e!="object"?null:(e=Cc&&e[Cc]||e["@@iterator"],typeof e=="function"?e:null)}var Ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Of=Object.assign,Hf={};function Yr(e,t,n){this.props=e,this.context=t,this.refs=Hf,this.updater=n||Ff}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uf(){}Uf.prototype=Yr.prototype;function Ja(e,t,n){this.props=e,this.context=t,this.refs=Hf,this.updater=n||Ff}var eu=Ja.prototype=new Uf;eu.constructor=Ja;Of(eu,Yr.prototype);eu.isPureReactComponent=!0;var Mc=Array.isArray,Vf=Object.prototype.hasOwnProperty,tu={current:null},Bf={key:!0,ref:!0,__self:!0,__source:!0};function Wf(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)Vf.call(t,r)&&!Bf.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ji,type:e,key:o,ref:s,props:i,_owner:tu.current}}function Ng(e,t){return{$$typeof:Ji,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ji}function Eg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Tc=/\/+/g;function sl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Eg(""+e.key):t.toString(36)}function Io(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Ji:case fg:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+sl(s,0):r,Mc(i)?(n="",e!=null&&(n=e.replace(Tc,"$&/")+"/"),Io(i,t,n,"",function(u){return u})):i!=null&&(nu(i)&&(i=Ng(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Tc,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",Mc(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+sl(o,l);s+=Io(o,t,n,a,i)}else if(a=kg(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+sl(o,l++),s+=Io(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ao(e,t,n){if(e==null)return e;var r=[],i=0;return Io(e,r,"","",function(o){return t.call(n,o,i++)}),r}function _g(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Ro={transition:null},Cg={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Ro,ReactCurrentOwner:tu};function Yf(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:ao,forEach:function(e,t,n){ao(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ao(e,function(){t++}),t},toArray:function(e){return ao(e,function(t){return t})||[]},only:function(e){if(!nu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=Yr;te.Fragment=hg;te.Profiler=mg;te.PureComponent=Ja;te.StrictMode=pg;te.Suspense=xg;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cg;te.act=Yf;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Of({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=tu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Vf.call(t,a)&&!Bf.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ji,type:e.type,key:i,ref:o,props:r,_owner:s}};te.createContext=function(e){return e={$$typeof:yg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gg,_context:e},e.Consumer=e};te.createElement=Wf;te.createFactory=function(e){var t=Wf.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:vg,render:e}};te.isValidElement=nu;te.lazy=function(e){return{$$typeof:Sg,_payload:{_status:-1,_result:e},_init:_g}};te.memo=function(e,t){return{$$typeof:wg,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Ro.transition;Ro.transition={};try{e()}finally{Ro.transition=t}};te.unstable_act=Yf;te.useCallback=function(e,t){return Qe.current.useCallback(e,t)};te.useContext=function(e){return Qe.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};te.useEffect=function(e,t){return Qe.current.useEffect(e,t)};te.useId=function(){return Qe.current.useId()};te.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Qe.current.useMemo(e,t)};te.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};te.useRef=function(e){return Qe.current.useRef(e)};te.useState=function(e){return Qe.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return Qe.current.useTransition()};te.version="18.3.1";Lf.exports=te;var $=Lf.exports;const I=If($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=$,Tg=Symbol.for("react.element"),bg=Symbol.for("react.fragment"),$g=Object.prototype.hasOwnProperty,jg=Mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pg={key:!0,ref:!0,__self:!0,__source:!0};function Xf(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)$g.call(t,r)&&!Pg.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Tg,type:e,key:o,ref:s,props:i,_owner:jg.current}}As.Fragment=bg;As.jsx=Xf;As.jsxs=Xf;Rf.exports=As;var x=Rf.exports,Vl={},Gf={exports:{}},ct={},Qf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,C){var A=b.length;b.push(C);e:for(;0<A;){var F=A-1>>>1,L=b[F];if(0<i(L,C))b[F]=C,b[A]=L,A=F;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var C=b[0],A=b.pop();if(A!==C){b[0]=A;e:for(var F=0,L=b.length,B=L>>>1;F<B;){var V=2*(F+1)-1,Y=b[V],Q=V+1,Z=b[Q];if(0>i(Y,A))Q<L&&0>i(Z,Y)?(b[F]=Z,b[Q]=A,F=Q):(b[F]=Y,b[V]=A,F=V);else if(Q<L&&0>i(Z,A))b[F]=Z,b[Q]=A,F=Q;else break e}}return C}function i(b,C){var A=b.sortIndex-C.sortIndex;return A!==0?A:b.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,p=!1,S=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var C=n(u);C!==null;){if(C.callback===null)r(u);else if(C.startTime<=b)r(u),C.sortIndex=C.expirationTime,t(a,C);else break;C=n(u)}}function y(b){if(g=!1,v(b),!S)if(n(a)!==null)S=!0,M(k);else{var C=n(u);C!==null&&z(y,C.startTime-b)}}function k(b,C){S=!1,g&&(g=!1,h(j),j=-1),p=!0;var A=f;try{for(v(C),d=n(a);d!==null&&(!(d.expirationTime>C)||b&&!R());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var L=F(d.expirationTime<=C);C=e.unstable_now(),typeof L=="function"?d.callback=L:d===n(a)&&r(a),v(C)}else r(a);d=n(a)}if(d!==null)var B=!0;else{var V=n(u);V!==null&&z(y,V.startTime-C),B=!1}return B}finally{d=null,f=A,p=!1}}var E=!1,_=null,j=-1,P=5,D=-1;function R(){return!(e.unstable_now()-D<P)}function H(){if(_!==null){var b=e.unstable_now();D=b;var C=!0;try{C=_(!0,b)}finally{C?O():(E=!1,_=null)}}else E=!1}var O;if(typeof m=="function")O=function(){m(H)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,T=N.port2;N.port1.onmessage=H,O=function(){T.postMessage(null)}}else O=function(){w(H,0)};function M(b){_=b,E||(E=!0,O())}function z(b,C){j=w(function(){b(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){S||p||(S=!0,M(k))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(b){switch(f){case 1:case 2:case 3:var C=3;break;default:C=f}var A=f;f=C;try{return b()}finally{f=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,C){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var A=f;f=b;try{return C()}finally{f=A}},e.unstable_scheduleCallback=function(b,C,A){var F=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?F+A:F):A=F,b){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=A+L,b={id:c++,callback:C,priorityLevel:b,startTime:A,expirationTime:L,sortIndex:-1},A>F?(b.sortIndex=A,t(u,b),n(a)===null&&b===n(u)&&(g?(h(j),j=-1):g=!0,z(y,A-F))):(b.sortIndex=L,t(a,b),S||p||(S=!0,M(k))),b},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(b){var C=f;return function(){var A=f;f=C;try{return b.apply(this,arguments)}finally{f=A}}}})(Kf);Qf.exports=Kf;var Ag=Qf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=$,at=Ag;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zf=new Set,Ti={};function rr(e,t){Dr(e,t),Dr(e+"Capture",t)}function Dr(e,t){for(Ti[e]=t,e=0;e<t.length;e++)Zf.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=Object.prototype.hasOwnProperty,zg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bc={},$c={};function Ig(e){return Bl.call($c,e)?!0:Bl.call(bc,e)?!1:zg.test(e)?$c[e]=!0:(bc[e]=!0,!1)}function Rg(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lg(e,t,n,r){if(t===null||typeof t>"u"||Rg(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var ru=/[\-:]([a-z])/g;function iu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ru,iu);Re[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ru,iu);Re[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ru,iu);Re[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function ou(e,t,n,r){var i=Re.hasOwnProperty(t)?Re[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lg(t,n,i,r)&&(n=null),r||i===null?Ig(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var tn=Dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uo=Symbol.for("react.element"),fr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),su=Symbol.for("react.strict_mode"),Wl=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Jf=Symbol.for("react.context"),lu=Symbol.for("react.forward_ref"),Yl=Symbol.for("react.suspense"),Xl=Symbol.for("react.suspense_list"),au=Symbol.for("react.memo"),sn=Symbol.for("react.lazy"),eh=Symbol.for("react.offscreen"),jc=Symbol.iterator;function qr(e){return e===null||typeof e!="object"?null:(e=jc&&e[jc]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,ll;function fi(e){if(ll===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ll=t&&t[1]||""}return`
`+ll+e}var al=!1;function ul(e,t){if(!e||al)return"";al=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{al=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fi(e):""}function Fg(e){switch(e.tag){case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 2:case 15:return e=ul(e.type,!1),e;case 11:return e=ul(e.type.render,!1),e;case 1:return e=ul(e.type,!0),e;default:return""}}function Gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hr:return"Fragment";case fr:return"Portal";case Wl:return"Profiler";case su:return"StrictMode";case Yl:return"Suspense";case Xl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Jf:return(e.displayName||"Context")+".Consumer";case qf:return(e._context.displayName||"Context")+".Provider";case lu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case au:return t=e.displayName||null,t!==null?t:Gl(e.type)||"Memo";case sn:t=e._payload,e=e._init;try{return Gl(e(t))}catch{}}return null}function Og(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gl(t);case 8:return t===su?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function th(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hg(e){var t=th(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function co(e){e._valueTracker||(e._valueTracker=Hg(e))}function nh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=th(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ql(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Pc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=_n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rh(e,t){t=t.checked,t!=null&&ou(e,"checked",t,!1)}function Kl(e,t){rh(e,t);var n=_n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Zl(e,t.type,_n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ac(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Zl(e,t,n){(t!=="number"||qo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hi=Array.isArray;function _r(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(hi(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_n(n)}}function ih(e,t){var n=_n(t.value),r=_n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fo,sh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fo=fo||document.createElement("div"),fo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function bi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ug=["Webkit","ms","Moz","O"];Object.keys(xi).forEach(function(e){Ug.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xi[t]=xi[e]})});function lh(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xi.hasOwnProperty(e)&&xi[e]?(""+t).trim():t+"px"}function ah(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=lh(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Vg=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ea(e,t){if(t){if(Vg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function ta(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var na=null;function uu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ra=null,Cr=null,Mr=null;function Ic(e){if(e=no(e)){if(typeof ra!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Ls(t),ra(e.stateNode,e.type,t))}}function uh(e){Cr?Mr?Mr.push(e):Mr=[e]:Cr=e}function ch(){if(Cr){var e=Cr,t=Mr;if(Mr=Cr=null,Ic(e),t)for(e=0;e<t.length;e++)Ic(t[e])}}function dh(e,t){return e(t)}function fh(){}var cl=!1;function hh(e,t,n){if(cl)return e(t,n);cl=!0;try{return dh(e,t,n)}finally{cl=!1,(Cr!==null||Mr!==null)&&(fh(),ch())}}function $i(e,t){var n=e.stateNode;if(n===null)return null;var r=Ls(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var ia=!1;if(Qt)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){ia=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{ia=!1}function Bg(e,t,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var wi=!1,Jo=null,es=!1,oa=null,Wg={onError:function(e){wi=!0,Jo=e}};function Yg(e,t,n,r,i,o,s,l,a){wi=!1,Jo=null,Bg.apply(Wg,arguments)}function Xg(e,t,n,r,i,o,s,l,a){if(Yg.apply(this,arguments),wi){if(wi){var u=Jo;wi=!1,Jo=null}else throw Error(U(198));es||(es=!0,oa=u)}}function ir(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ph(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rc(e){if(ir(e)!==e)throw Error(U(188))}function Gg(e){var t=e.alternate;if(!t){if(t=ir(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Rc(i),e;if(o===r)return Rc(i),t;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function mh(e){return e=Gg(e),e!==null?gh(e):null}function gh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=gh(e);if(t!==null)return t;e=e.sibling}return null}var yh=at.unstable_scheduleCallback,Lc=at.unstable_cancelCallback,Qg=at.unstable_shouldYield,Kg=at.unstable_requestPaint,Ne=at.unstable_now,Zg=at.unstable_getCurrentPriorityLevel,cu=at.unstable_ImmediatePriority,vh=at.unstable_UserBlockingPriority,ts=at.unstable_NormalPriority,qg=at.unstable_LowPriority,xh=at.unstable_IdlePriority,Ds=null,It=null;function Jg(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Ds,e,void 0,(e.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:ny,ey=Math.log,ty=Math.LN2;function ny(e){return e>>>=0,e===0?32:31-(ey(e)/ty|0)|0}var ho=64,po=4194304;function pi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ns(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=pi(l):(o&=s,o!==0&&(r=pi(o)))}else s=n&~i,s!==0?r=pi(s):o!==0&&(r=pi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tt(t),i=1<<n,r|=e[n],t&=~i;return r}function ry(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Tt(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=ry(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function sa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wh(){var e=ho;return ho<<=1,!(ho&4194240)&&(ho=64),e}function dl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tt(t),e[t]=n}function oy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Tt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function du(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var le=0;function Sh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kh,fu,Nh,Eh,_h,la=!1,mo=[],gn=null,yn=null,vn=null,ji=new Map,Pi=new Map,cn=[],sy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fc(e,t){switch(e){case"focusin":case"focusout":gn=null;break;case"dragenter":case"dragleave":yn=null;break;case"mouseover":case"mouseout":vn=null;break;case"pointerover":case"pointerout":ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(t.pointerId)}}function ei(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=no(t),t!==null&&fu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ly(e,t,n,r,i){switch(t){case"focusin":return gn=ei(gn,e,t,n,r,i),!0;case"dragenter":return yn=ei(yn,e,t,n,r,i),!0;case"mouseover":return vn=ei(vn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ji.set(o,ei(ji.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pi.set(o,ei(Pi.get(o)||null,e,t,n,r,i)),!0}return!1}function Ch(e){var t=On(e.target);if(t!==null){var n=ir(t);if(n!==null){if(t=n.tag,t===13){if(t=ph(n),t!==null){e.blockedOn=t,_h(e.priority,function(){Nh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=aa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);na=r,n.target.dispatchEvent(r),na=null}else return t=no(n),t!==null&&fu(t),e.blockedOn=n,!1;t.shift()}return!0}function Oc(e,t,n){Lo(e)&&n.delete(t)}function ay(){la=!1,gn!==null&&Lo(gn)&&(gn=null),yn!==null&&Lo(yn)&&(yn=null),vn!==null&&Lo(vn)&&(vn=null),ji.forEach(Oc),Pi.forEach(Oc)}function ti(e,t){e.blockedOn===t&&(e.blockedOn=null,la||(la=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,ay)))}function Ai(e){function t(i){return ti(i,e)}if(0<mo.length){ti(mo[0],e);for(var n=1;n<mo.length;n++){var r=mo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(gn!==null&&ti(gn,e),yn!==null&&ti(yn,e),vn!==null&&ti(vn,e),ji.forEach(t),Pi.forEach(t),n=0;n<cn.length;n++)r=cn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<cn.length&&(n=cn[0],n.blockedOn===null);)Ch(n),n.blockedOn===null&&cn.shift()}var Tr=tn.ReactCurrentBatchConfig,rs=!0;function uy(e,t,n,r){var i=le,o=Tr.transition;Tr.transition=null;try{le=1,hu(e,t,n,r)}finally{le=i,Tr.transition=o}}function cy(e,t,n,r){var i=le,o=Tr.transition;Tr.transition=null;try{le=4,hu(e,t,n,r)}finally{le=i,Tr.transition=o}}function hu(e,t,n,r){if(rs){var i=aa(e,t,n,r);if(i===null)Sl(e,t,r,is,n),Fc(e,r);else if(ly(i,e,t,n,r))r.stopPropagation();else if(Fc(e,r),t&4&&-1<sy.indexOf(e)){for(;i!==null;){var o=no(i);if(o!==null&&kh(o),o=aa(e,t,n,r),o===null&&Sl(e,t,r,is,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Sl(e,t,r,null,n)}}var is=null;function aa(e,t,n,r){if(is=null,e=uu(r),e=On(e),e!==null)if(t=ir(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ph(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return is=e,null}function Mh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zg()){case cu:return 1;case vh:return 4;case ts:case qg:return 16;case xh:return 536870912;default:return 16}default:return 16}}var hn=null,pu=null,Fo=null;function Th(){if(Fo)return Fo;var e,t=pu,n=t.length,r,i="value"in hn?hn.value:hn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Fo=i.slice(e,1<r?1-r:void 0)}function Oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function go(){return!0}function Hc(){return!1}function dt(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?go:Hc,this.isPropagationStopped=Hc,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=go)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=go)},persist:function(){},isPersistent:go}),t}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=dt(Xr),to=ve({},Xr,{view:0,detail:0}),dy=dt(to),fl,hl,ni,zs=ve({},to,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(fl=e.screenX-ni.screenX,hl=e.screenY-ni.screenY):hl=fl=0,ni=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:hl}}),Uc=dt(zs),fy=ve({},zs,{dataTransfer:0}),hy=dt(fy),py=ve({},to,{relatedTarget:0}),pl=dt(py),my=ve({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0}),gy=dt(my),yy=ve({},Xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vy=dt(yy),xy=ve({},Xr,{data:0}),Vc=dt(xy),wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ky={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ny(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ky[e])?!!t[e]:!1}function gu(){return Ny}var Ey=ve({},to,{key:function(e){if(e.key){var t=wy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(e){return e.type==="keypress"?Oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_y=dt(Ey),Cy=ve({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=dt(Cy),My=ve({},to,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),Ty=dt(My),by=ve({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),$y=dt(by),jy=ve({},zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Py=dt(jy),Ay=[9,13,27,32],yu=Qt&&"CompositionEvent"in window,Si=null;Qt&&"documentMode"in document&&(Si=document.documentMode);var Dy=Qt&&"TextEvent"in window&&!Si,bh=Qt&&(!yu||Si&&8<Si&&11>=Si),Wc=" ",Yc=!1;function $h(e,t){switch(e){case"keyup":return Ay.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function zy(e,t){switch(e){case"compositionend":return jh(t);case"keypress":return t.which!==32?null:(Yc=!0,Wc);case"textInput":return e=t.data,e===Wc&&Yc?null:e;default:return null}}function Iy(e,t){if(pr)return e==="compositionend"||!yu&&$h(e,t)?(e=Th(),Fo=pu=hn=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bh&&t.locale!=="ko"?null:t.data;default:return null}}var Ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ry[e.type]:t==="textarea"}function Ph(e,t,n,r){uh(r),t=os(t,"onChange"),0<t.length&&(n=new mu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ki=null,Di=null;function Ly(e){Vh(e,0)}function Is(e){var t=yr(e);if(nh(t))return e}function Fy(e,t){if(e==="change")return t}var Ah=!1;if(Qt){var ml;if(Qt){var gl="oninput"in document;if(!gl){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),gl=typeof Gc.oninput=="function"}ml=gl}else ml=!1;Ah=ml&&(!document.documentMode||9<document.documentMode)}function Qc(){ki&&(ki.detachEvent("onpropertychange",Dh),Di=ki=null)}function Dh(e){if(e.propertyName==="value"&&Is(Di)){var t=[];Ph(t,Di,e,uu(e)),hh(Ly,t)}}function Oy(e,t,n){e==="focusin"?(Qc(),ki=t,Di=n,ki.attachEvent("onpropertychange",Dh)):e==="focusout"&&Qc()}function Hy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is(Di)}function Uy(e,t){if(e==="click")return Is(t)}function Vy(e,t){if(e==="input"||e==="change")return Is(t)}function By(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:By;function zi(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bl.call(t,i)||!$t(e[i],t[i]))return!1}return!0}function Kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zc(e,t){var n=Kc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kc(n)}}function zh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ih(){for(var e=window,t=qo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qo(e.document)}return t}function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wy(e){var t=Ih(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zh(n.ownerDocument.documentElement,n)){if(r!==null&&vu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Zc(n,o);var s=Zc(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yy=Qt&&"documentMode"in document&&11>=document.documentMode,mr=null,ua=null,Ni=null,ca=!1;function qc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ca||mr==null||mr!==qo(r)||(r=mr,"selectionStart"in r&&vu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ni&&zi(Ni,r)||(Ni=r,r=os(ua,"onSelect"),0<r.length&&(t=new mu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function yo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:yo("Animation","AnimationEnd"),animationiteration:yo("Animation","AnimationIteration"),animationstart:yo("Animation","AnimationStart"),transitionend:yo("Transition","TransitionEnd")},yl={},Rh={};Qt&&(Rh=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Rs(e){if(yl[e])return yl[e];if(!gr[e])return e;var t=gr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rh)return yl[e]=t[n];return e}var Lh=Rs("animationend"),Fh=Rs("animationiteration"),Oh=Rs("animationstart"),Hh=Rs("transitionend"),Uh=new Map,Jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){Uh.set(e,t),rr(t,[e])}for(var vl=0;vl<Jc.length;vl++){var xl=Jc[vl],Xy=xl.toLowerCase(),Gy=xl[0].toUpperCase()+xl.slice(1);Tn(Xy,"on"+Gy)}Tn(Lh,"onAnimationEnd");Tn(Fh,"onAnimationIteration");Tn(Oh,"onAnimationStart");Tn("dblclick","onDoubleClick");Tn("focusin","onFocus");Tn("focusout","onBlur");Tn(Hh,"onTransitionEnd");Dr("onMouseEnter",["mouseout","mouseover"]);Dr("onMouseLeave",["mouseout","mouseover"]);Dr("onPointerEnter",["pointerout","pointerover"]);Dr("onPointerLeave",["pointerout","pointerover"]);rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qy=new Set("cancel close invalid load scroll toggle".split(" ").concat(mi));function ed(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xg(r,t,void 0,e),e.currentTarget=null}function Vh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;ed(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;ed(i,l,u),o=a}}}if(es)throw e=oa,es=!1,oa=null,e}function de(e,t){var n=t[ma];n===void 0&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Bh(t,e,2,!1),n.add(r))}function wl(e,t,n){var r=0;t&&(r|=4),Bh(n,e,r,t)}var vo="_reactListening"+Math.random().toString(36).slice(2);function Ii(e){if(!e[vo]){e[vo]=!0,Zf.forEach(function(n){n!=="selectionchange"&&(Qy.has(n)||wl(n,!1,e),wl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vo]||(t[vo]=!0,wl("selectionchange",!1,t))}}function Bh(e,t,n,r){switch(Mh(t)){case 1:var i=uy;break;case 4:i=cy;break;default:i=hu}n=i.bind(null,t,n,e),i=void 0,!ia||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Sl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=On(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}hh(function(){var u=o,c=uu(n),d=[];e:{var f=Uh.get(e);if(f!==void 0){var p=mu,S=e;switch(e){case"keypress":if(Oo(n)===0)break e;case"keydown":case"keyup":p=_y;break;case"focusin":S="focus",p=pl;break;case"focusout":S="blur",p=pl;break;case"beforeblur":case"afterblur":p=pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Ty;break;case Lh:case Fh:case Oh:p=gy;break;case Hh:p=$y;break;case"scroll":p=dy;break;case"wheel":p=Py;break;case"copy":case"cut":case"paste":p=vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Bc}var g=(t&4)!==0,w=!g&&e==="scroll",h=g?f!==null?f+"Capture":null:f;g=[];for(var m=u,v;m!==null;){v=m;var y=v.stateNode;if(v.tag===5&&y!==null&&(v=y,h!==null&&(y=$i(m,h),y!=null&&g.push(Ri(m,y,v)))),w)break;m=m.return}0<g.length&&(f=new p(f,S,null,n,c),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==na&&(S=n.relatedTarget||n.fromElement)&&(On(S)||S[Kt]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=u,S=S?On(S):null,S!==null&&(w=ir(S),S!==w||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=u),p!==S)){if(g=Uc,y="onMouseLeave",h="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=Bc,y="onPointerLeave",h="onPointerEnter",m="pointer"),w=p==null?f:yr(p),v=S==null?f:yr(S),f=new g(y,m+"leave",p,n,c),f.target=w,f.relatedTarget=v,y=null,On(c)===u&&(g=new g(h,m+"enter",S,n,c),g.target=v,g.relatedTarget=w,y=g),w=y,p&&S)t:{for(g=p,h=S,m=0,v=g;v;v=lr(v))m++;for(v=0,y=h;y;y=lr(y))v++;for(;0<m-v;)g=lr(g),m--;for(;0<v-m;)h=lr(h),v--;for(;m--;){if(g===h||h!==null&&g===h.alternate)break t;g=lr(g),h=lr(h)}g=null}else g=null;p!==null&&td(d,f,p,g,!1),S!==null&&w!==null&&td(d,w,S,g,!0)}}e:{if(f=u?yr(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=Fy;else if(Xc(f))if(Ah)k=Vy;else{k=Hy;var E=Oy}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Uy);if(k&&(k=k(e,u))){Ph(d,k,n,c);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Zl(f,"number",f.value)}switch(E=u?yr(u):window,e){case"focusin":(Xc(E)||E.contentEditable==="true")&&(mr=E,ua=u,Ni=null);break;case"focusout":Ni=ua=mr=null;break;case"mousedown":ca=!0;break;case"contextmenu":case"mouseup":case"dragend":ca=!1,qc(d,n,c);break;case"selectionchange":if(Yy)break;case"keydown":case"keyup":qc(d,n,c)}var _;if(yu)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else pr?$h(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(bh&&n.locale!=="ko"&&(pr||j!=="onCompositionStart"?j==="onCompositionEnd"&&pr&&(_=Th()):(hn=c,pu="value"in hn?hn.value:hn.textContent,pr=!0)),E=os(u,j),0<E.length&&(j=new Vc(j,e,null,n,c),d.push({event:j,listeners:E}),_?j.data=_:(_=jh(n),_!==null&&(j.data=_)))),(_=Dy?zy(e,n):Iy(e,n))&&(u=os(u,"onBeforeInput"),0<u.length&&(c=new Vc("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=_))}Vh(d,t)})}function Ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function os(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$i(e,n),o!=null&&r.unshift(Ri(e,o,i)),o=$i(e,t),o!=null&&r.push(Ri(e,o,i))),e=e.return}return r}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function td(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=$i(n,o),a!=null&&s.unshift(Ri(n,a,l))):i||(a=$i(n,o),a!=null&&s.push(Ri(n,a,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Ky=/\r\n?/g,Zy=/\u0000|\uFFFD/g;function nd(e){return(typeof e=="string"?e:""+e).replace(Ky,`
`).replace(Zy,"")}function xo(e,t,n){if(t=nd(t),nd(e)!==t&&n)throw Error(U(425))}function ss(){}var da=null,fa=null;function ha(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pa=typeof setTimeout=="function"?setTimeout:void 0,qy=typeof clearTimeout=="function"?clearTimeout:void 0,rd=typeof Promise=="function"?Promise:void 0,Jy=typeof queueMicrotask=="function"?queueMicrotask:typeof rd<"u"?function(e){return rd.resolve(null).then(e).catch(ev)}:pa;function ev(e){setTimeout(function(){throw e})}function kl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ai(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ai(t)}function xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gr=Math.random().toString(36).slice(2),zt="__reactFiber$"+Gr,Li="__reactProps$"+Gr,Kt="__reactContainer$"+Gr,ma="__reactEvents$"+Gr,tv="__reactListeners$"+Gr,nv="__reactHandles$"+Gr;function On(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kt]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=id(e);e!==null;){if(n=e[zt])return n;e=id(e)}return t}e=n,n=e.parentNode}return null}function no(e){return e=e[zt]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Ls(e){return e[Li]||null}var ga=[],vr=-1;function bn(e){return{current:e}}function fe(e){0>vr||(e.current=ga[vr],ga[vr]=null,vr--)}function ue(e,t){vr++,ga[vr]=e.current,e.current=t}var Cn={},Be=bn(Cn),nt=bn(!1),Kn=Cn;function zr(e,t){var n=e.type.contextTypes;if(!n)return Cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rt(e){return e=e.childContextTypes,e!=null}function ls(){fe(nt),fe(Be)}function od(e,t,n){if(Be.current!==Cn)throw Error(U(168));ue(Be,t),ue(nt,n)}function Wh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(U(108,Og(e)||"Unknown",i));return ve({},n,r)}function as(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cn,Kn=Be.current,ue(Be,e),ue(nt,nt.current),!0}function sd(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Wh(e,t,Kn),r.__reactInternalMemoizedMergedChildContext=e,fe(nt),fe(Be),ue(Be,e)):fe(nt),ue(nt,n)}var Vt=null,Fs=!1,Nl=!1;function Yh(e){Vt===null?Vt=[e]:Vt.push(e)}function rv(e){Fs=!0,Yh(e)}function $n(){if(!Nl&&Vt!==null){Nl=!0;var e=0,t=le;try{var n=Vt;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,Fs=!1}catch(i){throw Vt!==null&&(Vt=Vt.slice(e+1)),yh(cu,$n),i}finally{le=t,Nl=!1}}return null}var xr=[],wr=0,us=null,cs=0,ft=[],ht=0,Zn=null,Bt=1,Wt="";function Rn(e,t){xr[wr++]=cs,xr[wr++]=us,us=e,cs=t}function Xh(e,t,n){ft[ht++]=Bt,ft[ht++]=Wt,ft[ht++]=Zn,Zn=e;var r=Bt;e=Wt;var i=32-Tt(r)-1;r&=~(1<<i),n+=1;var o=32-Tt(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Bt=1<<32-Tt(t)+i|n<<i|r,Wt=o+e}else Bt=1<<o|n<<i|r,Wt=e}function xu(e){e.return!==null&&(Rn(e,1),Xh(e,1,0))}function wu(e){for(;e===us;)us=xr[--wr],xr[wr]=null,cs=xr[--wr],xr[wr]=null;for(;e===Zn;)Zn=ft[--ht],ft[ht]=null,Wt=ft[--ht],ft[ht]=null,Bt=ft[--ht],ft[ht]=null}var lt=null,st=null,he=!1,Ct=null;function Gh(e,t){var n=mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ld(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,st=xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zn!==null?{id:Bt,overflow:Wt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,st=null,!0):!1;default:return!1}}function ya(e){return(e.mode&1)!==0&&(e.flags&128)===0}function va(e){if(he){var t=st;if(t){var n=t;if(!ld(e,t)){if(ya(e))throw Error(U(418));t=xn(n.nextSibling);var r=lt;t&&ld(e,t)?Gh(r,n):(e.flags=e.flags&-4097|2,he=!1,lt=e)}}else{if(ya(e))throw Error(U(418));e.flags=e.flags&-4097|2,he=!1,lt=e}}}function ad(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function wo(e){if(e!==lt)return!1;if(!he)return ad(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ha(e.type,e.memoizedProps)),t&&(t=st)){if(ya(e))throw Qh(),Error(U(418));for(;t;)Gh(e,t),t=xn(t.nextSibling)}if(ad(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=lt?xn(e.stateNode.nextSibling):null;return!0}function Qh(){for(var e=st;e;)e=xn(e.nextSibling)}function Ir(){st=lt=null,he=!1}function Su(e){Ct===null?Ct=[e]:Ct.push(e)}var iv=tn.ReactCurrentBatchConfig;function ri(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function So(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ud(e){var t=e._init;return t(e._payload)}function Kh(e){function t(h,m){if(e){var v=h.deletions;v===null?(h.deletions=[m],h.flags|=16):v.push(m)}}function n(h,m){if(!e)return null;for(;m!==null;)t(h,m),m=m.sibling;return null}function r(h,m){for(h=new Map;m!==null;)m.key!==null?h.set(m.key,m):h.set(m.index,m),m=m.sibling;return h}function i(h,m){return h=Nn(h,m),h.index=0,h.sibling=null,h}function o(h,m,v){return h.index=v,e?(v=h.alternate,v!==null?(v=v.index,v<m?(h.flags|=2,m):v):(h.flags|=2,m)):(h.flags|=1048576,m)}function s(h){return e&&h.alternate===null&&(h.flags|=2),h}function l(h,m,v,y){return m===null||m.tag!==6?(m=$l(v,h.mode,y),m.return=h,m):(m=i(m,v),m.return=h,m)}function a(h,m,v,y){var k=v.type;return k===hr?c(h,m,v.props.children,y,v.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===sn&&ud(k)===m.type)?(y=i(m,v.props),y.ref=ri(h,m,v),y.return=h,y):(y=Xo(v.type,v.key,v.props,null,h.mode,y),y.ref=ri(h,m,v),y.return=h,y)}function u(h,m,v,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=jl(v,h.mode,y),m.return=h,m):(m=i(m,v.children||[]),m.return=h,m)}function c(h,m,v,y,k){return m===null||m.tag!==7?(m=Yn(v,h.mode,y,k),m.return=h,m):(m=i(m,v),m.return=h,m)}function d(h,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$l(""+m,h.mode,v),m.return=h,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case uo:return v=Xo(m.type,m.key,m.props,null,h.mode,v),v.ref=ri(h,null,m),v.return=h,v;case fr:return m=jl(m,h.mode,v),m.return=h,m;case sn:var y=m._init;return d(h,y(m._payload),v)}if(hi(m)||qr(m))return m=Yn(m,h.mode,v,null),m.return=h,m;So(h,m)}return null}function f(h,m,v,y){var k=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(h,m,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case uo:return v.key===k?a(h,m,v,y):null;case fr:return v.key===k?u(h,m,v,y):null;case sn:return k=v._init,f(h,m,k(v._payload),y)}if(hi(v)||qr(v))return k!==null?null:c(h,m,v,y,null);So(h,v)}return null}function p(h,m,v,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(v)||null,l(m,h,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case uo:return h=h.get(y.key===null?v:y.key)||null,a(m,h,y,k);case fr:return h=h.get(y.key===null?v:y.key)||null,u(m,h,y,k);case sn:var E=y._init;return p(h,m,v,E(y._payload),k)}if(hi(y)||qr(y))return h=h.get(v)||null,c(m,h,y,k,null);So(m,y)}return null}function S(h,m,v,y){for(var k=null,E=null,_=m,j=m=0,P=null;_!==null&&j<v.length;j++){_.index>j?(P=_,_=null):P=_.sibling;var D=f(h,_,v[j],y);if(D===null){_===null&&(_=P);break}e&&_&&D.alternate===null&&t(h,_),m=o(D,m,j),E===null?k=D:E.sibling=D,E=D,_=P}if(j===v.length)return n(h,_),he&&Rn(h,j),k;if(_===null){for(;j<v.length;j++)_=d(h,v[j],y),_!==null&&(m=o(_,m,j),E===null?k=_:E.sibling=_,E=_);return he&&Rn(h,j),k}for(_=r(h,_);j<v.length;j++)P=p(_,h,j,v[j],y),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?j:P.key),m=o(P,m,j),E===null?k=P:E.sibling=P,E=P);return e&&_.forEach(function(R){return t(h,R)}),he&&Rn(h,j),k}function g(h,m,v,y){var k=qr(v);if(typeof k!="function")throw Error(U(150));if(v=k.call(v),v==null)throw Error(U(151));for(var E=k=null,_=m,j=m=0,P=null,D=v.next();_!==null&&!D.done;j++,D=v.next()){_.index>j?(P=_,_=null):P=_.sibling;var R=f(h,_,D.value,y);if(R===null){_===null&&(_=P);break}e&&_&&R.alternate===null&&t(h,_),m=o(R,m,j),E===null?k=R:E.sibling=R,E=R,_=P}if(D.done)return n(h,_),he&&Rn(h,j),k;if(_===null){for(;!D.done;j++,D=v.next())D=d(h,D.value,y),D!==null&&(m=o(D,m,j),E===null?k=D:E.sibling=D,E=D);return he&&Rn(h,j),k}for(_=r(h,_);!D.done;j++,D=v.next())D=p(_,h,j,D.value,y),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?j:D.key),m=o(D,m,j),E===null?k=D:E.sibling=D,E=D);return e&&_.forEach(function(H){return t(h,H)}),he&&Rn(h,j),k}function w(h,m,v,y){if(typeof v=="object"&&v!==null&&v.type===hr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case uo:e:{for(var k=v.key,E=m;E!==null;){if(E.key===k){if(k=v.type,k===hr){if(E.tag===7){n(h,E.sibling),m=i(E,v.props.children),m.return=h,h=m;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===sn&&ud(k)===E.type){n(h,E.sibling),m=i(E,v.props),m.ref=ri(h,E,v),m.return=h,h=m;break e}n(h,E);break}else t(h,E);E=E.sibling}v.type===hr?(m=Yn(v.props.children,h.mode,y,v.key),m.return=h,h=m):(y=Xo(v.type,v.key,v.props,null,h.mode,y),y.ref=ri(h,m,v),y.return=h,h=y)}return s(h);case fr:e:{for(E=v.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(h,m.sibling),m=i(m,v.children||[]),m.return=h,h=m;break e}else{n(h,m);break}else t(h,m);m=m.sibling}m=jl(v,h.mode,y),m.return=h,h=m}return s(h);case sn:return E=v._init,w(h,m,E(v._payload),y)}if(hi(v))return S(h,m,v,y);if(qr(v))return g(h,m,v,y);So(h,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(h,m.sibling),m=i(m,v),m.return=h,h=m):(n(h,m),m=$l(v,h.mode,y),m.return=h,h=m),s(h)):n(h,m)}return w}var Rr=Kh(!0),Zh=Kh(!1),ds=bn(null),fs=null,Sr=null,ku=null;function Nu(){ku=Sr=fs=null}function Eu(e){var t=ds.current;fe(ds),e._currentValue=t}function xa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function br(e,t){fs=e,ku=Sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(et=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(ku!==e)if(e={context:e,memoizedValue:t,next:null},Sr===null){if(fs===null)throw Error(U(308));Sr=e,fs.dependencies={lanes:0,firstContext:e}}else Sr=Sr.next=e;return t}var Hn=null;function _u(e){Hn===null?Hn=[e]:Hn.push(e)}function qh(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,_u(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zt(e,r)}function Zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ln=!1;function Cu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zt(e,n)}return i=r.interleaved,i===null?(t.next=t,_u(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zt(e,n)}function Ho(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,du(e,n)}}function cd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function hs(e,t,n,r){var i=e.updateQueue;ln=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,p=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var S=e,g=l;switch(f=t,p=n,g.tag){case 1:if(S=g.payload,typeof S=="function"){d=S.call(p,d,f);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=g.payload,f=typeof S=="function"?S.call(p,d,f):S,f==null)break e;d=ve({},d,f);break e;case 2:ln=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=d):c=c.next=p,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Jn|=s,e.lanes=s,e.memoizedState=d}}function dd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var ro={},Rt=bn(ro),Fi=bn(ro),Oi=bn(ro);function Un(e){if(e===ro)throw Error(U(174));return e}function Mu(e,t){switch(ue(Oi,t),ue(Fi,e),ue(Rt,ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Jl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Jl(t,e)}fe(Rt),ue(Rt,t)}function Lr(){fe(Rt),fe(Fi),fe(Oi)}function ep(e){Un(Oi.current);var t=Un(Rt.current),n=Jl(t,e.type);t!==n&&(ue(Fi,e),ue(Rt,n))}function Tu(e){Fi.current===e&&(fe(Rt),fe(Fi))}var ge=bn(0);function ps(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function bu(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var Uo=tn.ReactCurrentDispatcher,_l=tn.ReactCurrentBatchConfig,qn=0,ye=null,_e=null,be=null,ms=!1,Ei=!1,Hi=0,ov=0;function He(){throw Error(U(321))}function $u(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function ju(e,t,n,r,i,o){if(qn=o,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Uo.current=e===null||e.memoizedState===null?uv:cv,e=n(r,i),Ei){o=0;do{if(Ei=!1,Hi=0,25<=o)throw Error(U(301));o+=1,be=_e=null,t.updateQueue=null,Uo.current=dv,e=n(r,i)}while(Ei)}if(Uo.current=gs,t=_e!==null&&_e.next!==null,qn=0,be=_e=ye=null,ms=!1,t)throw Error(U(300));return e}function Pu(){var e=Hi!==0;return Hi=0,e}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ye.memoizedState=be=e:be=be.next=e,be}function wt(){if(_e===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=be===null?ye.memoizedState:be.next;if(t!==null)be=t,_e=e;else{if(e===null)throw Error(U(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},be===null?ye.memoizedState=be=e:be=be.next=e}return be}function Ui(e,t){return typeof t=="function"?t(e):t}function Cl(e){var t=wt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=_e,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((qn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,ye.lanes|=c,Jn|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,$t(r,t.memoizedState)||(et=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ye.lanes|=o,Jn|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ml(e){var t=wt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);$t(o,t.memoizedState)||(et=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function tp(){}function np(e,t){var n=ye,r=wt(),i=t(),o=!$t(r.memoizedState,i);if(o&&(r.memoizedState=i,et=!0),r=r.queue,Au(op.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Vi(9,ip.bind(null,n,r,i,t),void 0,null),$e===null)throw Error(U(349));qn&30||rp(n,t,i)}return i}function rp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ip(e,t,n,r){t.value=n,t.getSnapshot=r,sp(t)&&lp(e)}function op(e,t,n){return n(function(){sp(t)&&lp(e)})}function sp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function lp(e){var t=Zt(e,1);t!==null&&bt(t,e,1,-1)}function fd(e){var t=Dt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:e},t.queue=e,e=e.dispatch=av.bind(null,ye,e),[t.memoizedState,e]}function Vi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ap(){return wt().memoizedState}function Vo(e,t,n,r){var i=Dt();ye.flags|=e,i.memoizedState=Vi(1|t,n,void 0,r===void 0?null:r)}function Os(e,t,n,r){var i=wt();r=r===void 0?null:r;var o=void 0;if(_e!==null){var s=_e.memoizedState;if(o=s.destroy,r!==null&&$u(r,s.deps)){i.memoizedState=Vi(t,n,o,r);return}}ye.flags|=e,i.memoizedState=Vi(1|t,n,o,r)}function hd(e,t){return Vo(8390656,8,e,t)}function Au(e,t){return Os(2048,8,e,t)}function up(e,t){return Os(4,2,e,t)}function cp(e,t){return Os(4,4,e,t)}function dp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fp(e,t,n){return n=n!=null?n.concat([e]):null,Os(4,4,dp.bind(null,t,e),n)}function Du(){}function hp(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$u(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pp(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&$u(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function mp(e,t,n){return qn&21?($t(n,t)||(n=wh(),ye.lanes|=n,Jn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,et=!0),e.memoizedState=n)}function sv(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=_l.transition;_l.transition={};try{e(!1),t()}finally{le=n,_l.transition=r}}function gp(){return wt().memoizedState}function lv(e,t,n){var r=kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yp(e))vp(t,n);else if(n=qh(e,t,n,r),n!==null){var i=Ge();bt(n,e,r,i),xp(n,t,r)}}function av(e,t,n){var r=kn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yp(e))vp(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,$t(l,s)){var a=t.interleaved;a===null?(i.next=i,_u(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=qh(e,t,i,r),n!==null&&(i=Ge(),bt(n,e,r,i),xp(n,t,r))}}function yp(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function vp(e,t){Ei=ms=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function xp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,du(e,n)}}var gs={readContext:xt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},uv={readContext:xt,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:hd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Vo(4194308,4,dp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Dt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lv.bind(null,ye,e),[r.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:fd,useDebugValue:Du,useDeferredValue:function(e){return Dt().memoizedState=e},useTransition:function(){var e=fd(!1),t=e[0];return e=sv.bind(null,e[1]),Dt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ye,i=Dt();if(he){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),$e===null)throw Error(U(349));qn&30||rp(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,hd(op.bind(null,r,o,e),[e]),r.flags|=2048,Vi(9,ip.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dt(),t=$e.identifierPrefix;if(he){var n=Wt,r=Bt;n=(r&~(1<<32-Tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ov++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cv={readContext:xt,useCallback:hp,useContext:xt,useEffect:Au,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:pp,useReducer:Cl,useRef:ap,useState:function(){return Cl(Ui)},useDebugValue:Du,useDeferredValue:function(e){var t=wt();return mp(t,_e.memoizedState,e)},useTransition:function(){var e=Cl(Ui)[0],t=wt().memoizedState;return[e,t]},useMutableSource:tp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1},dv={readContext:xt,useCallback:hp,useContext:xt,useEffect:Au,useImperativeHandle:fp,useInsertionEffect:up,useLayoutEffect:cp,useMemo:pp,useReducer:Ml,useRef:ap,useState:function(){return Ml(Ui)},useDebugValue:Du,useDeferredValue:function(e){var t=wt();return _e===null?t.memoizedState=e:mp(t,_e.memoizedState,e)},useTransition:function(){var e=Ml(Ui)[0],t=wt().memoizedState;return[e,t]},useMutableSource:tp,useSyncExternalStore:np,useId:gp,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hs={isMounted:function(e){return(e=e._reactInternals)?ir(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ge(),i=kn(e),o=Xt(r,i);o.payload=t,n!=null&&(o.callback=n),t=wn(e,o,i),t!==null&&(bt(t,e,i,r),Ho(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ge(),i=kn(e),o=Xt(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=wn(e,o,i),t!==null&&(bt(t,e,i,r),Ho(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),r=kn(e),i=Xt(n,r);i.tag=2,t!=null&&(i.callback=t),t=wn(e,i,r),t!==null&&(bt(t,e,r,n),Ho(t,e,r))}};function pd(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!zi(n,r)||!zi(i,o):!0}function wp(e,t,n){var r=!1,i=Cn,o=t.contextType;return typeof o=="object"&&o!==null?o=xt(o):(i=rt(t)?Kn:Be.current,r=t.contextTypes,o=(r=r!=null)?zr(e,i):Cn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function md(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Hs.enqueueReplaceState(t,t.state,null)}function Sa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Cu(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=xt(o):(o=rt(t)?Kn:Be.current,i.context=zr(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(wa(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Hs.enqueueReplaceState(i,i.state,null),hs(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var n="",r=t;do n+=Fg(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Tl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ka(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fv=typeof WeakMap=="function"?WeakMap:Map;function Sp(e,t,n){n=Xt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){vs||(vs=!0,Pa=r),ka(e,t)},n}function kp(e,t,n){n=Xt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ka(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ka(e,t),typeof r!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function gd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fv;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cv.bind(null,e,t,n),t.then(e,e))}function yd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vd(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xt(-1,1),t.tag=2,wn(n,t,1))),n.lanes|=1),e)}var hv=tn.ReactCurrentOwner,et=!1;function Ye(e,t,n,r){t.child=e===null?Zh(t,null,n,r):Rr(t,e.child,n,r)}function xd(e,t,n,r,i){n=n.render;var o=t.ref;return br(t,i),r=ju(e,t,n,r,o,i),n=Pu(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qt(e,t,i)):(he&&n&&xu(t),t.flags|=1,Ye(e,t,r,i),t.child)}function wd(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Uu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Np(e,t,o,r,i)):(e=Xo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:zi,n(s,r)&&e.ref===t.ref)return qt(e,t,i)}return t.flags|=1,e=Nn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Np(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(zi(o,r)&&e.ref===t.ref)if(et=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(et=!0);else return t.lanes=e.lanes,qt(e,t,i)}return Na(e,t,n,r,i)}function Ep(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Nr,ot),ot|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Nr,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ue(Nr,ot),ot|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ue(Nr,ot),ot|=r;return Ye(e,t,i,n),t.child}function _p(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Na(e,t,n,r,i){var o=rt(n)?Kn:Be.current;return o=zr(t,o),br(t,i),n=ju(e,t,n,r,o,i),r=Pu(),e!==null&&!et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qt(e,t,i)):(he&&r&&xu(t),t.flags|=1,Ye(e,t,n,i),t.child)}function Sd(e,t,n,r,i){if(rt(n)){var o=!0;as(t)}else o=!1;if(br(t,i),t.stateNode===null)Bo(e,t),wp(t,n,r),Sa(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=rt(n)?Kn:Be.current,u=zr(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&md(t,s,r,u),ln=!1;var f=t.memoizedState;s.state=f,hs(t,r,s,i),a=t.memoizedState,l!==r||f!==a||nt.current||ln?(typeof c=="function"&&(wa(t,n,c,r),a=t.memoizedState),(l=ln||pd(t,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Jh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Nt(t.type,l),s.props=u,d=t.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=xt(a):(a=rt(n)?Kn:Be.current,a=zr(t,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&md(t,s,r,a),ln=!1,f=t.memoizedState,s.state=f,hs(t,r,s,i);var S=t.memoizedState;l!==d||f!==S||nt.current||ln?(typeof p=="function"&&(wa(t,n,p,r),S=t.memoizedState),(u=ln||pd(t,n,u,r,f,S,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),s.props=r,s.state=S,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ea(e,t,n,r,o,i)}function Ea(e,t,n,r,i,o){_p(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&sd(t,n,!1),qt(e,t,o);r=t.stateNode,hv.current=t;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Rr(t,e.child,null,o),t.child=Rr(t,null,l,o)):Ye(e,t,l,o),t.memoizedState=r.state,i&&sd(t,n,!0),t.child}function Cp(e){var t=e.stateNode;t.pendingContext?od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&od(e,t.context,!1),Mu(e,t.containerInfo)}function kd(e,t,n,r,i){return Ir(),Su(i),t.flags|=256,Ye(e,t,n,r),t.child}var _a={dehydrated:null,treeContext:null,retryLane:0};function Ca(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mp(e,t,n){var r=t.pendingProps,i=ge.current,o=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ue(ge,i&1),e===null)return va(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Bs(s,r,0,null),e=Yn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ca(n),t.memoizedState=_a,e):zu(t,s));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return pv(e,t,s,r,l,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Nn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Nn(l,o):(o=Yn(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Ca(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=_a,r}return o=e.child,e=o.sibling,r=Nn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function zu(e,t){return t=Bs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ko(e,t,n,r){return r!==null&&Su(r),Rr(t,e.child,null,n),e=zu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pv(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Tl(Error(U(422))),ko(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Bs({mode:"visible",children:r.children},i,0,null),o=Yn(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Rr(t,e.child,null,s),t.child.memoizedState=Ca(s),t.memoizedState=_a,o);if(!(t.mode&1))return ko(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(U(419)),r=Tl(o,r,void 0),ko(e,t,s,r)}if(l=(s&e.childLanes)!==0,et||l){if(r=$e,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zt(e,i),bt(r,e,i,-1))}return Hu(),r=Tl(Error(U(421))),ko(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Mv.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,st=xn(i.nextSibling),lt=t,he=!0,Ct=null,e!==null&&(ft[ht++]=Bt,ft[ht++]=Wt,ft[ht++]=Zn,Bt=e.id,Wt=e.overflow,Zn=t),t=zu(t,r.children),t.flags|=4096,t)}function Nd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xa(e.return,t,n)}function bl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Tp(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ye(e,t,r.children,n),r=ge.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nd(e,n,t);else if(e.tag===19)Nd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ge,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ps(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),bl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ps(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}bl(t,!0,n,null,o);break;case"together":bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Nn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mv(e,t,n){switch(t.tag){case 3:Cp(t),Ir();break;case 5:ep(t);break;case 1:rt(t.type)&&as(t);break;case 4:Mu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ue(ds,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ge,ge.current&1),t.flags|=128,null):n&t.child.childLanes?Mp(e,t,n):(ue(ge,ge.current&1),e=qt(e,t,n),e!==null?e.sibling:null);ue(ge,ge.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Tp(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(ge,ge.current),r)break;return null;case 22:case 23:return t.lanes=0,Ep(e,t,n)}return qt(e,t,n)}var bp,Ma,$p,jp;bp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ma=function(){};$p=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Un(Rt.current);var o=null;switch(n){case"input":i=Ql(e,i),r=Ql(e,r),o=[];break;case"select":i=ve({},i,{value:void 0}),r=ve({},r,{value:void 0}),o=[];break;case"textarea":i=ql(e,i),r=ql(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ss)}ea(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ti.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&de("scroll",e),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};jp=function(e,t,n,r){n!==r&&(t.flags|=4)};function ii(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gv(e,t,n){var r=t.pendingProps;switch(wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return rt(t.type)&&ls(),Ue(t),null;case 3:return r=t.stateNode,Lr(),fe(nt),fe(Be),bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(za(Ct),Ct=null))),Ma(e,t),Ue(t),null;case 5:Tu(t);var i=Un(Oi.current);if(n=t.type,e!==null&&t.stateNode!=null)$p(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Ue(t),null}if(e=Un(Rt.current),wo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[zt]=t,r[Li]=o,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<mi.length;i++)de(mi[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":Pc(r,o),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},de("invalid",r);break;case"textarea":Dc(r,o),de("invalid",r)}ea(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&xo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&xo(r.textContent,l,e),i=["children",""+l]):Ti.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&de("scroll",r)}switch(n){case"input":co(r),Ac(r,o,!0);break;case"textarea":co(r),zc(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ss)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oh(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[zt]=t,e[Li]=r,bp(e,t,!1,!1),t.stateNode=e;e:{switch(s=ta(n,r),n){case"dialog":de("cancel",e),de("close",e),i=r;break;case"iframe":case"object":case"embed":de("load",e),i=r;break;case"video":case"audio":for(i=0;i<mi.length;i++)de(mi[i],e);i=r;break;case"source":de("error",e),i=r;break;case"img":case"image":case"link":de("error",e),de("load",e),i=r;break;case"details":de("toggle",e),i=r;break;case"input":Pc(e,r),i=Ql(e,r),de("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ve({},r,{value:void 0}),de("invalid",e);break;case"textarea":Dc(e,r),i=ql(e,r),de("invalid",e);break;default:i=r}ea(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?ah(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&sh(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&bi(e,a):typeof a=="number"&&bi(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ti.hasOwnProperty(o)?a!=null&&o==="onScroll"&&de("scroll",e):a!=null&&ou(e,o,a,s))}switch(n){case"input":co(e),Ac(e,r,!1);break;case"textarea":co(e),zc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+_n(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?_r(e,!!r.multiple,o,!1):r.defaultValue!=null&&_r(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ss)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ue(t),null;case 6:if(e&&t.stateNode!=null)jp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=Un(Oi.current),Un(Rt.current),wo(t)){if(r=t.stateNode,n=t.memoizedProps,r[zt]=t,(o=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:xo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=t,t.stateNode=r}return Ue(t),null;case 13:if(fe(ge),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&st!==null&&t.mode&1&&!(t.flags&128))Qh(),Ir(),t.flags|=98560,o=!1;else if(o=wo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[zt]=t}else Ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ue(t),o=!1}else Ct!==null&&(za(Ct),Ct=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ge.current&1?Ce===0&&(Ce=3):Hu())),t.updateQueue!==null&&(t.flags|=4),Ue(t),null);case 4:return Lr(),Ma(e,t),e===null&&Ii(t.stateNode.containerInfo),Ue(t),null;case 10:return Eu(t.type._context),Ue(t),null;case 17:return rt(t.type)&&ls(),Ue(t),null;case 19:if(fe(ge),o=t.memoizedState,o===null)return Ue(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)ii(o,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ps(e),s!==null){for(t.flags|=128,ii(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ge,ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ne()>Or&&(t.flags|=128,r=!0,ii(o,!1),t.lanes=4194304)}else{if(!r)if(e=ps(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ii(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!he)return Ue(t),null}else 2*Ne()-o.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,r=!0,ii(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ne(),t.sibling=null,n=ge.current,ue(ge,r?n&1|2:n&1),t):(Ue(t),null);case 22:case 23:return Ou(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ot&1073741824&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function yv(e,t){switch(wu(t),t.tag){case 1:return rt(t.type)&&ls(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Lr(),fe(nt),fe(Be),bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Tu(t),null;case 13:if(fe(ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ge),null;case 4:return Lr(),null;case 10:return Eu(t.type._context),null;case 22:case 23:return Ou(),null;case 24:return null;default:return null}}var No=!1,Ve=!1,vv=typeof WeakSet=="function"?WeakSet:Set,W=null;function kr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Ta(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Ed=!1;function xv(e,t){if(da=rs,e=Ih(),vu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(fa={focusedElem:e,selectionRange:n},rs=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var g=S.memoizedProps,w=S.memoizedState,h=t.stateNode,m=h.getSnapshotBeforeUpdate(t.elementType===t.type?g:Nt(t.type,g),w);h.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(y){xe(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return S=Ed,Ed=!1,S}function _i(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ta(t,n,o)}i=i.next}while(i!==r)}}function Us(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ba(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pp(e){var t=e.alternate;t!==null&&(e.alternate=null,Pp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[Li],delete t[ma],delete t[tv],delete t[nv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ap(e){return e.tag===5||e.tag===3||e.tag===4}function _d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $a(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ss));else if(r!==4&&(e=e.child,e!==null))for($a(e,t,n),e=e.sibling;e!==null;)$a(e,t,n),e=e.sibling}function ja(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ja(e,t,n),e=e.sibling;e!==null;)ja(e,t,n),e=e.sibling}var ze=null,Et=!1;function nn(e,t,n){for(n=n.child;n!==null;)Dp(e,t,n),n=n.sibling}function Dp(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Ds,n)}catch{}switch(n.tag){case 5:Ve||kr(n,t);case 6:var r=ze,i=Et;ze=null,nn(e,t,n),ze=r,Et=i,ze!==null&&(Et?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Et?(e=ze,n=n.stateNode,e.nodeType===8?kl(e.parentNode,n):e.nodeType===1&&kl(e,n),Ai(e)):kl(ze,n.stateNode));break;case 4:r=ze,i=Et,ze=n.stateNode.containerInfo,Et=!0,nn(e,t,n),ze=r,Et=i;break;case 0:case 11:case 14:case 15:if(!Ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ta(n,t,s),i=i.next}while(i!==r)}nn(e,t,n);break;case 1:if(!Ve&&(kr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xe(n,t,l)}nn(e,t,n);break;case 21:nn(e,t,n);break;case 22:n.mode&1?(Ve=(r=Ve)||n.memoizedState!==null,nn(e,t,n),Ve=r):nn(e,t,n);break;default:nn(e,t,n)}}function Cd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vv),t.forEach(function(r){var i=Tv.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function kt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:ze=l.stateNode,Et=!1;break e;case 3:ze=l.stateNode.containerInfo,Et=!0;break e;case 4:ze=l.stateNode.containerInfo,Et=!0;break e}l=l.return}if(ze===null)throw Error(U(160));Dp(o,s,i),ze=null,Et=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){xe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zp(t,e),t=t.sibling}function zp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(kt(t,e),At(e),r&4){try{_i(3,e,e.return),Us(3,e)}catch(g){xe(e,e.return,g)}try{_i(5,e,e.return)}catch(g){xe(e,e.return,g)}}break;case 1:kt(t,e),At(e),r&512&&n!==null&&kr(n,n.return);break;case 5:if(kt(t,e),At(e),r&512&&n!==null&&kr(n,n.return),e.flags&32){var i=e.stateNode;try{bi(i,"")}catch(g){xe(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&rh(i,o),ta(l,s);var u=ta(l,o);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?ah(i,d):c==="dangerouslySetInnerHTML"?sh(i,d):c==="children"?bi(i,d):ou(i,c,d,u)}switch(l){case"input":Kl(i,o);break;case"textarea":ih(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?_r(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?_r(i,!!o.multiple,o.defaultValue,!0):_r(i,!!o.multiple,o.multiple?[]:"",!1))}i[Li]=o}catch(g){xe(e,e.return,g)}}break;case 6:if(kt(t,e),At(e),r&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){xe(e,e.return,g)}}break;case 3:if(kt(t,e),At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(g){xe(e,e.return,g)}break;case 4:kt(t,e),At(e);break;case 13:kt(t,e),At(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lu=Ne())),r&4&&Cd(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(Ve=(u=Ve)||c,kt(t,e),Ve=u):kt(t,e),At(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(W=e,c=e.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,p=f.child,f.tag){case 0:case 11:case 14:case 15:_i(4,f,f.return);break;case 1:kr(f,f.return);var S=f.stateNode;if(typeof S.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(g){xe(r,n,g)}}break;case 5:kr(f,f.return);break;case 22:if(f.memoizedState!==null){Td(d);continue}}p!==null?(p.return=f,W=p):Td(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=lh("display",s))}catch(g){xe(e,e.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){xe(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kt(t,e),At(e),r&4&&Cd(e);break;case 21:break;default:kt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ap(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bi(i,""),r.flags&=-33);var o=_d(e);ja(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=_d(e);$a(e,l,s);break;default:throw Error(U(161))}}catch(a){xe(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wv(e,t,n){W=e,Ip(e)}function Ip(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var i=W,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||No;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Ve;l=No;var u=Ve;if(No=s,(Ve=a)&&!u)for(W=i;W!==null;)s=W,a=s.child,s.tag===22&&s.memoizedState!==null?bd(i):a!==null?(a.return=s,W=a):bd(i);for(;o!==null;)W=o,Ip(o),o=o.sibling;W=i,No=l,Ve=u}Md(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,W=o):Md(e)}}function Md(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||Us(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ve)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Nt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&dd(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}dd(t,s,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ai(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ve||t.flags&512&&ba(t)}catch(f){xe(t,t.return,f)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Td(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function bd(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Us(4,t)}catch(a){xe(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){xe(t,i,a)}}var o=t.return;try{ba(t)}catch(a){xe(t,o,a)}break;case 5:var s=t.return;try{ba(t)}catch(a){xe(t,s,a)}}}catch(a){xe(t,t.return,a)}if(t===e){W=null;break}var l=t.sibling;if(l!==null){l.return=t.return,W=l;break}W=t.return}}var Sv=Math.ceil,ys=tn.ReactCurrentDispatcher,Iu=tn.ReactCurrentOwner,yt=tn.ReactCurrentBatchConfig,ie=0,$e=null,Ee=null,Ie=0,ot=0,Nr=bn(0),Ce=0,Bi=null,Jn=0,Vs=0,Ru=0,Ci=null,Je=null,Lu=0,Or=1/0,Ut=null,vs=!1,Pa=null,Sn=null,Eo=!1,pn=null,xs=0,Mi=0,Aa=null,Wo=-1,Yo=0;function Ge(){return ie&6?Ne():Wo!==-1?Wo:Wo=Ne()}function kn(e){return e.mode&1?ie&2&&Ie!==0?Ie&-Ie:iv.transition!==null?(Yo===0&&(Yo=wh()),Yo):(e=le,e!==0||(e=window.event,e=e===void 0?16:Mh(e.type)),e):1}function bt(e,t,n,r){if(50<Mi)throw Mi=0,Aa=null,Error(U(185));eo(e,n,r),(!(ie&2)||e!==$e)&&(e===$e&&(!(ie&2)&&(Vs|=n),Ce===4&&dn(e,Ie)),it(e,r),n===1&&ie===0&&!(t.mode&1)&&(Or=Ne()+500,Fs&&$n()))}function it(e,t){var n=e.callbackNode;iy(e,t);var r=ns(e,e===$e?Ie:0);if(r===0)n!==null&&Lc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lc(n),t===1)e.tag===0?rv($d.bind(null,e)):Yh($d.bind(null,e)),Jy(function(){!(ie&6)&&$n()}),n=null;else{switch(Sh(r)){case 1:n=cu;break;case 4:n=vh;break;case 16:n=ts;break;case 536870912:n=xh;break;default:n=ts}n=Bp(n,Rp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Rp(e,t){if(Wo=-1,Yo=0,ie&6)throw Error(U(327));var n=e.callbackNode;if($r()&&e.callbackNode!==n)return null;var r=ns(e,e===$e?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ws(e,r);else{t=r;var i=ie;ie|=2;var o=Fp();($e!==e||Ie!==t)&&(Ut=null,Or=Ne()+500,Wn(e,t));do try{Ev();break}catch(l){Lp(e,l)}while(!0);Nu(),ys.current=o,ie=i,Ee!==null?t=0:($e=null,Ie=0,t=Ce)}if(t!==0){if(t===2&&(i=sa(e),i!==0&&(r=i,t=Da(e,i))),t===1)throw n=Bi,Wn(e,0),dn(e,r),it(e,Ne()),n;if(t===6)dn(e,r);else{if(i=e.current.alternate,!(r&30)&&!kv(i)&&(t=ws(e,r),t===2&&(o=sa(e),o!==0&&(r=o,t=Da(e,o))),t===1))throw n=Bi,Wn(e,0),dn(e,r),it(e,Ne()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:Ln(e,Je,Ut);break;case 3:if(dn(e,r),(r&130023424)===r&&(t=Lu+500-Ne(),10<t)){if(ns(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ge(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=pa(Ln.bind(null,e,Je,Ut),t);break}Ln(e,Je,Ut);break;case 4:if(dn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Tt(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sv(r/1960))-r,10<r){e.timeoutHandle=pa(Ln.bind(null,e,Je,Ut),r);break}Ln(e,Je,Ut);break;case 5:Ln(e,Je,Ut);break;default:throw Error(U(329))}}}return it(e,Ne()),e.callbackNode===n?Rp.bind(null,e):null}function Da(e,t){var n=Ci;return e.current.memoizedState.isDehydrated&&(Wn(e,t).flags|=256),e=ws(e,t),e!==2&&(t=Je,Je=n,t!==null&&za(t)),e}function za(e){Je===null?Je=e:Je.push.apply(Je,e)}function kv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!$t(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dn(e,t){for(t&=~Ru,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tt(t),r=1<<n;e[n]=-1,t&=~r}}function $d(e){if(ie&6)throw Error(U(327));$r();var t=ns(e,0);if(!(t&1))return it(e,Ne()),null;var n=ws(e,t);if(e.tag!==0&&n===2){var r=sa(e);r!==0&&(t=r,n=Da(e,r))}if(n===1)throw n=Bi,Wn(e,0),dn(e,t),it(e,Ne()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,Je,Ut),it(e,Ne()),null}function Fu(e,t){var n=ie;ie|=1;try{return e(t)}finally{ie=n,ie===0&&(Or=Ne()+500,Fs&&$n())}}function er(e){pn!==null&&pn.tag===0&&!(ie&6)&&$r();var t=ie;ie|=1;var n=yt.transition,r=le;try{if(yt.transition=null,le=1,e)return e()}finally{le=r,yt.transition=n,ie=t,!(ie&6)&&$n()}}function Ou(){ot=Nr.current,fe(Nr)}function Wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qy(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(wu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ls();break;case 3:Lr(),fe(nt),fe(Be),bu();break;case 5:Tu(r);break;case 4:Lr();break;case 13:fe(ge);break;case 19:fe(ge);break;case 10:Eu(r.type._context);break;case 22:case 23:Ou()}n=n.return}if($e=e,Ee=e=Nn(e.current,null),Ie=ot=t,Ce=0,Bi=null,Ru=Vs=Jn=0,Je=Ci=null,Hn!==null){for(t=0;t<Hn.length;t++)if(n=Hn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Hn=null}return e}function Lp(e,t){do{var n=Ee;try{if(Nu(),Uo.current=gs,ms){for(var r=ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ms=!1}if(qn=0,be=_e=ye=null,Ei=!1,Hi=0,Iu.current=null,n===null||n.return===null){Ce=1,Bi=t,Ee=null;break}e:{var o=e,s=n.return,l=n,a=t;if(t=Ie,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=yd(s);if(p!==null){p.flags&=-257,vd(p,s,l,o,t),p.mode&1&&gd(o,u,t),t=p,a=u;var S=t.updateQueue;if(S===null){var g=new Set;g.add(a),t.updateQueue=g}else S.add(a);break e}else{if(!(t&1)){gd(o,u,t),Hu();break e}a=Error(U(426))}}else if(he&&l.mode&1){var w=yd(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),vd(w,s,l,o,t),Su(Fr(a,l));break e}}o=a=Fr(a,l),Ce!==4&&(Ce=2),Ci===null?Ci=[o]:Ci.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var h=Sp(o,a,t);cd(o,h);break e;case 1:l=a;var m=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Sn===null||!Sn.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=kp(o,l,t);cd(o,y);break e}}o=o.return}while(o!==null)}Hp(n)}catch(k){t=k,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function Fp(){var e=ys.current;return ys.current=gs,e===null?gs:e}function Hu(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),$e===null||!(Jn&268435455)&&!(Vs&268435455)||dn($e,Ie)}function ws(e,t){var n=ie;ie|=2;var r=Fp();($e!==e||Ie!==t)&&(Ut=null,Wn(e,t));do try{Nv();break}catch(i){Lp(e,i)}while(!0);if(Nu(),ie=n,ys.current=r,Ee!==null)throw Error(U(261));return $e=null,Ie=0,Ce}function Nv(){for(;Ee!==null;)Op(Ee)}function Ev(){for(;Ee!==null&&!Qg();)Op(Ee)}function Op(e){var t=Vp(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Hp(e):Ee=t,Iu.current=null}function Hp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yv(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,Ee=null;return}}else if(n=gv(n,t,ot),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Ce===0&&(Ce=5)}function Ln(e,t,n){var r=le,i=yt.transition;try{yt.transition=null,le=1,_v(e,t,n,r)}finally{yt.transition=i,le=r}return null}function _v(e,t,n,r){do $r();while(pn!==null);if(ie&6)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(oy(e,o),e===$e&&(Ee=$e=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Eo||(Eo=!0,Bp(ts,function(){return $r(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=yt.transition,yt.transition=null;var s=le;le=1;var l=ie;ie|=4,Iu.current=null,xv(e,n),zp(n,e),Wy(fa),rs=!!da,fa=da=null,e.current=n,wv(n),Kg(),ie=l,le=s,yt.transition=o}else e.current=n;if(Eo&&(Eo=!1,pn=e,xs=i),o=e.pendingLanes,o===0&&(Sn=null),Jg(n.stateNode),it(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vs)throw vs=!1,e=Pa,Pa=null,e;return xs&1&&e.tag!==0&&$r(),o=e.pendingLanes,o&1?e===Aa?Mi++:(Mi=0,Aa=e):Mi=0,$n(),null}function $r(){if(pn!==null){var e=Sh(xs),t=yt.transition,n=le;try{if(yt.transition=null,le=16>e?16:e,pn===null)var r=!1;else{if(e=pn,pn=null,xs=0,ie&6)throw Error(U(331));var i=ie;for(ie|=4,W=e.current;W!==null;){var o=W,s=o.child;if(W.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:_i(8,c,o)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,p=c.return;if(Pp(c),c===u){W=null;break}if(f!==null){f.return=p,W=f;break}W=p}}}var S=o.alternate;if(S!==null){var g=S.child;if(g!==null){S.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}W=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,W=s;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_i(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,W=h;break e}W=o.return}}var m=e.current;for(W=m;W!==null;){s=W;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,W=v;else e:for(s=m;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Us(9,l)}}catch(k){xe(l,l.return,k)}if(l===s){W=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,W=y;break e}W=l.return}}if(ie=i,$n(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Ds,e)}catch{}r=!0}return r}finally{le=n,yt.transition=t}}return!1}function jd(e,t,n){t=Fr(n,t),t=Sp(e,t,1),e=wn(e,t,1),t=Ge(),e!==null&&(eo(e,1,t),it(e,t))}function xe(e,t,n){if(e.tag===3)jd(e,e,n);else for(;t!==null;){if(t.tag===3){jd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sn===null||!Sn.has(r))){e=Fr(n,e),e=kp(t,e,1),t=wn(t,e,1),e=Ge(),t!==null&&(eo(t,1,e),it(t,e));break}}t=t.return}}function Cv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Ie&n)===n&&(Ce===4||Ce===3&&(Ie&130023424)===Ie&&500>Ne()-Lu?Wn(e,0):Ru|=n),it(e,t)}function Up(e,t){t===0&&(e.mode&1?(t=po,po<<=1,!(po&130023424)&&(po=4194304)):t=1);var n=Ge();e=Zt(e,t),e!==null&&(eo(e,t,n),it(e,n))}function Mv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Up(e,n)}function Tv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Up(e,n)}var Vp;Vp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nt.current)et=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return et=!1,mv(e,t,n);et=!!(e.flags&131072)}else et=!1,he&&t.flags&1048576&&Xh(t,cs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var i=zr(t,Be.current);br(t,n),i=ju(null,t,r,e,i,n);var o=Pu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(r)?(o=!0,as(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cu(t),i.updater=Hs,t.stateNode=i,i._reactInternals=t,Sa(t,r,e,n),t=Ea(null,t,r,!0,o,n)):(t.tag=0,he&&o&&xu(t),Ye(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=$v(r),e=Nt(r,e),i){case 0:t=Na(null,t,r,e,n);break e;case 1:t=Sd(null,t,r,e,n);break e;case 11:t=xd(null,t,r,e,n);break e;case 14:t=wd(null,t,r,Nt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),Na(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),Sd(e,t,r,i,n);case 3:e:{if(Cp(t),e===null)throw Error(U(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Jh(e,t),hs(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Fr(Error(U(423)),t),t=kd(e,t,r,n,i);break e}else if(r!==i){i=Fr(Error(U(424)),t),t=kd(e,t,r,n,i);break e}else for(st=xn(t.stateNode.containerInfo.firstChild),lt=t,he=!0,Ct=null,n=Zh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ir(),r===i){t=qt(e,t,n);break e}Ye(e,t,r,n)}t=t.child}return t;case 5:return ep(t),e===null&&va(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,ha(r,i)?s=null:o!==null&&ha(r,o)&&(t.flags|=32),_p(e,t),Ye(e,t,s,n),t.child;case 6:return e===null&&va(t),null;case 13:return Mp(e,t,n);case 4:return Mu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Rr(t,null,r,n):Ye(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),xd(e,t,r,i,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,ue(ds,r._currentValue),r._currentValue=s,o!==null)if($t(o.value,s)){if(o.children===i.children&&!nt.current){t=qt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Xt(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xa(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xa(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ye(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,br(t,n),i=xt(i),r=r(i),t.flags|=1,Ye(e,t,r,n),t.child;case 14:return r=t.type,i=Nt(r,t.pendingProps),i=Nt(r.type,i),wd(e,t,r,i,n);case 15:return Np(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Nt(r,i),Bo(e,t),t.tag=1,rt(r)?(e=!0,as(t)):e=!1,br(t,n),wp(t,r,i),Sa(t,r,i,n),Ea(null,t,r,!0,e,n);case 19:return Tp(e,t,n);case 22:return Ep(e,t,n)}throw Error(U(156,t.tag))};function Bp(e,t){return yh(e,t)}function bv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,n,r){return new bv(e,t,n,r)}function Uu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $v(e){if(typeof e=="function")return Uu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lu)return 11;if(e===au)return 14}return 2}function Nn(e,t){var n=e.alternate;return n===null?(n=mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xo(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")Uu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case hr:return Yn(n.children,i,o,t);case su:s=8,i|=8;break;case Wl:return e=mt(12,n,t,i|2),e.elementType=Wl,e.lanes=o,e;case Yl:return e=mt(13,n,t,i),e.elementType=Yl,e.lanes=o,e;case Xl:return e=mt(19,n,t,i),e.elementType=Xl,e.lanes=o,e;case eh:return Bs(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qf:s=10;break e;case Jf:s=9;break e;case lu:s=11;break e;case au:s=14;break e;case sn:s=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=mt(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Yn(e,t,n,r){return e=mt(7,e,r,t),e.lanes=n,e}function Bs(e,t,n,r){return e=mt(22,e,r,t),e.elementType=eh,e.lanes=n,e.stateNode={isHidden:!1},e}function $l(e,t,n){return e=mt(6,e,null,t),e.lanes=n,e}function jl(e,t,n){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vu(e,t,n,r,i,o,s,l,a){return e=new jv(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cu(o),e}function Pv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wp(e){if(!e)return Cn;e=e._reactInternals;e:{if(ir(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(rt(n))return Wh(e,n,t)}return t}function Yp(e,t,n,r,i,o,s,l,a){return e=Vu(n,r,!0,e,i,o,s,l,a),e.context=Wp(null),n=e.current,r=Ge(),i=kn(n),o=Xt(r,i),o.callback=t??null,wn(n,o,i),e.current.lanes=i,eo(e,i,r),it(e,r),e}function Ws(e,t,n,r){var i=t.current,o=Ge(),s=kn(i);return n=Wp(n),t.context===null?t.context=n:t.pendingContext=n,t=Xt(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=wn(i,t,s),e!==null&&(bt(e,i,s,o),Ho(e,i,s)),s}function Ss(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bu(e,t){Pd(e,t),(e=e.alternate)&&Pd(e,t)}function Av(){return null}var Xp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}Ys.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Ws(e,t,null,null)};Ys.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){Ws(null,e,null,null)}),t[Kt]=null}};function Ys(e){this._internalRoot=e}Ys.prototype.unstable_scheduleHydration=function(e){if(e){var t=Eh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cn.length&&t!==0&&t<cn[n].priority;n++);cn.splice(n,0,e),n===0&&Ch(e)}};function Yu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function Dv(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ss(s);o.call(u)}}var s=Yp(t,r,e,0,null,!1,!1,"",Ad);return e._reactRootContainer=s,e[Kt]=s.current,Ii(e.nodeType===8?e.parentNode:e),er(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ss(a);l.call(u)}}var a=Vu(e,0,!1,null,null,!1,!1,"",Ad);return e._reactRootContainer=a,e[Kt]=a.current,Ii(e.nodeType===8?e.parentNode:e),er(function(){Ws(t,a,n,r)}),a}function Gs(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Ss(s);l.call(a)}}Ws(t,s,e,i)}else s=Dv(n,t,e,i,r);return Ss(s)}kh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pi(t.pendingLanes);n!==0&&(du(t,n|1),it(t,Ne()),!(ie&6)&&(Or=Ne()+500,$n()))}break;case 13:er(function(){var r=Zt(e,1);if(r!==null){var i=Ge();bt(r,e,1,i)}}),Bu(e,1)}};fu=function(e){if(e.tag===13){var t=Zt(e,134217728);if(t!==null){var n=Ge();bt(t,e,134217728,n)}Bu(e,134217728)}};Nh=function(e){if(e.tag===13){var t=kn(e),n=Zt(e,t);if(n!==null){var r=Ge();bt(n,e,t,r)}Bu(e,t)}};Eh=function(){return le};_h=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};ra=function(e,t,n){switch(t){case"input":if(Kl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ls(r);if(!i)throw Error(U(90));nh(r),Kl(r,i)}}}break;case"textarea":ih(e,n);break;case"select":t=n.value,t!=null&&_r(e,!!n.multiple,t,!1)}};dh=Fu;fh=er;var zv={usingClientEntryPoint:!1,Events:[no,yr,Ls,uh,ch,Fu]},oi={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iv={bundleType:oi.bundleType,version:oi.version,rendererPackageName:oi.rendererPackageName,rendererConfig:oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mh(e),e===null?null:e.stateNode},findFiberByHostInstance:oi.findFiberByHostInstance||Av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{Ds=_o.inject(Iv),It=_o}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zv;ct.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yu(t))throw Error(U(200));return Pv(e,t,null,n)};ct.createRoot=function(e,t){if(!Yu(e))throw Error(U(299));var n=!1,r="",i=Xp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Vu(e,1,!1,null,null,n,!1,r,i),e[Kt]=t.current,Ii(e.nodeType===8?e.parentNode:e),new Wu(t)};ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=mh(t),e=e===null?null:e.stateNode,e};ct.flushSync=function(e){return er(e)};ct.hydrate=function(e,t,n){if(!Xs(t))throw Error(U(200));return Gs(null,e,t,!0,n)};ct.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Xp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Yp(t,null,e,1,n??null,i,!1,o,s),e[Kt]=t.current,Ii(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ys(t)};ct.render=function(e,t,n){if(!Xs(t))throw Error(U(200));return Gs(null,e,t,!1,n)};ct.unmountComponentAtNode=function(e){if(!Xs(e))throw Error(U(40));return e._reactRootContainer?(er(function(){Gs(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1};ct.unstable_batchedUpdates=Fu;ct.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xs(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Gs(e,t,n,!1,r)};ct.version="18.3.1-next-f1338f8080-20240426";function Gp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gp)}catch(e){console.error(e)}}Gp(),Gf.exports=ct;var Rv=Gf.exports,Dd=Rv;Vl.createRoot=Dd.createRoot,Vl.hydrateRoot=Dd.hydrateRoot;function Le(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Le(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Qp={exports:{}},Kp={},Zp={exports:{}},qp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=$;function Lv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fv=typeof Object.is=="function"?Object.is:Lv,Ov=Hr.useState,Hv=Hr.useEffect,Uv=Hr.useLayoutEffect,Vv=Hr.useDebugValue;function Bv(e,t){var n=t(),r=Ov({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Uv(function(){i.value=n,i.getSnapshot=t,Pl(i)&&o({inst:i})},[e,n,t]),Hv(function(){return Pl(i)&&o({inst:i}),e(function(){Pl(i)&&o({inst:i})})},[e]),Vv(n),n}function Pl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fv(e,n)}catch{return!0}}function Wv(e,t){return t()}var Yv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wv:Bv;qp.useSyncExternalStore=Hr.useSyncExternalStore!==void 0?Hr.useSyncExternalStore:Yv;Zp.exports=qp;var Xv=Zp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=$,Gv=Xv;function Qv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kv=typeof Object.is=="function"?Object.is:Qv,Zv=Gv.useSyncExternalStore,qv=Qs.useRef,Jv=Qs.useEffect,ex=Qs.useMemo,tx=Qs.useDebugValue;Kp.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=qv(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=ex(function(){function a(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var S=s.value;if(i(S,p))return d=S}return d=p}if(S=d,Kv(c,p))return S;var g=r(p);return i!==void 0&&i(S,g)?(c=p,S):(c=p,d=g)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return a(t())},f===null?void 0:function(){return a(f())}]},[t,n,r,i]);var l=Zv(e,o[0],o[1]);return Jv(function(){s.hasValue=!0,s.value=l},[l]),tx(l),l};Qp.exports=Kp;var nx=Qp.exports;const Jp=If(nx),rx={},zd=e=>{let t;const n=new Set,r=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const p=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(S=>S(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{(rx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},e0=e=>e?zd(e):zd,{useDebugValue:ix}=I,{useSyncExternalStoreWithSelector:ox}=Jp,sx=e=>e;function t0(e,t=sx,n){const r=ox(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ix(r),r}const Id=(e,t)=>{const n=e0(e),r=(i,o=t)=>t0(n,i,o);return Object.assign(r,n),r},lx=(e,t)=>e?Id(e,t):Id;function je(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var ax={value:()=>{}};function io(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Go(n)}function Go(e){this._=e}function ux(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Go.prototype=io.prototype={constructor:Go,on:function(e,t){var n=this._,r=ux(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=cx(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Rd(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Rd(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Go(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function cx(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Rd(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ax,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ia="http://www.w3.org/1999/xhtml";const Ld={svg:"http://www.w3.org/2000/svg",xhtml:Ia,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ks(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ld.hasOwnProperty(t)?{space:Ld[t],local:e}:e}function dx(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ia&&t.documentElement.namespaceURI===Ia?t.createElement(e):t.createElementNS(n,e)}}function fx(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function n0(e){var t=Ks(e);return(t.local?fx:dx)(t)}function hx(){}function Xu(e){return e==null?hx:function(){return this.querySelector(e)}}function px(e){typeof e!="function"&&(e=Xu(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=new Array(s),a,u,c=0;c<s;++c)(a=o[c])&&(u=e.call(a,a.__data__,c,o))&&("__data__"in a&&(u.__data__=a.__data__),l[c]=u);return new ut(r,this._parents)}function mx(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gx(){return[]}function r0(e){return e==null?gx:function(){return this.querySelectorAll(e)}}function yx(e){return function(){return mx(e.apply(this,arguments))}}function vx(e){typeof e=="function"?e=yx(e):e=r0(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&(r.push(e.call(a,a.__data__,u,s)),i.push(a));return new ut(r,i)}function i0(e){return function(){return this.matches(e)}}function o0(e){return function(t){return t.matches(e)}}var xx=Array.prototype.find;function wx(e){return function(){return xx.call(this.children,e)}}function Sx(){return this.firstElementChild}function kx(e){return this.select(e==null?Sx:wx(typeof e=="function"?e:o0(e)))}var Nx=Array.prototype.filter;function Ex(){return Array.from(this.children)}function _x(e){return function(){return Nx.call(this.children,e)}}function Cx(e){return this.selectAll(e==null?Ex:_x(typeof e=="function"?e:o0(e)))}function Mx(e){typeof e!="function"&&(e=i0(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new ut(r,this._parents)}function s0(e){return new Array(e.length)}function Tx(){return new ut(this._enter||this._groups.map(s0),this._parents)}function ks(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ks.prototype={constructor:ks,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function bx(e){return function(){return e}}function $x(e,t,n,r,i,o){for(var s=0,l,a=t.length,u=o.length;s<u;++s)(l=t[s])?(l.__data__=o[s],r[s]=l):n[s]=new ks(e,o[s]);for(;s<a;++s)(l=t[s])&&(i[s]=l)}function jx(e,t,n,r,i,o,s){var l,a,u=new Map,c=t.length,d=o.length,f=new Array(c),p;for(l=0;l<c;++l)(a=t[l])&&(f[l]=p=s.call(a,a.__data__,l,t)+"",u.has(p)?i[l]=a:u.set(p,a));for(l=0;l<d;++l)p=s.call(e,o[l],l,o)+"",(a=u.get(p))?(r[l]=a,a.__data__=o[l],u.delete(p)):n[l]=new ks(e,o[l]);for(l=0;l<c;++l)(a=t[l])&&u.get(f[l])===a&&(i[l]=a)}function Px(e){return e.__data__}function Ax(e,t){if(!arguments.length)return Array.from(this,Px);var n=t?jx:$x,r=this._parents,i=this._groups;typeof e!="function"&&(e=bx(e));for(var o=i.length,s=new Array(o),l=new Array(o),a=new Array(o),u=0;u<o;++u){var c=r[u],d=i[u],f=d.length,p=Dx(e.call(c,c&&c.__data__,u,r)),S=p.length,g=l[u]=new Array(S),w=s[u]=new Array(S),h=a[u]=new Array(f);n(c,d,g,w,h,p,t);for(var m=0,v=0,y,k;m<S;++m)if(y=g[m]){for(m>=v&&(v=m+1);!(k=w[v])&&++v<S;);y._next=k||null}}return s=new ut(s,r),s._enter=l,s._exit=a,s}function Dx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zx(){return new ut(this._exit||this._groups.map(s0),this._parents)}function Ix(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Rx(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),l=new Array(i),a=0;a<s;++a)for(var u=n[a],c=r[a],d=u.length,f=l[a]=new Array(d),p,S=0;S<d;++S)(p=u[S]||c[S])&&(f[S]=p);for(;a<i;++a)l[a]=n[a];return new ut(l,this._parents)}function Lx(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Fx(e){e||(e=Ox);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],l=s.length,a=i[o]=new Array(l),u,c=0;c<l;++c)(u=s[c])&&(a[c]=u);a.sort(t)}return new ut(i,this._parents).order()}function Ox(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Hx(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ux(){return Array.from(this)}function Vx(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Bx(){let e=0;for(const t of this)++e;return e}function Wx(){return!this.node()}function Yx(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,l;o<s;++o)(l=i[o])&&e.call(l,l.__data__,o,i);return this}function Xx(e){return function(){this.removeAttribute(e)}}function Gx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qx(e,t){return function(){this.setAttribute(e,t)}}function Kx(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Zx(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function qx(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Jx(e,t){var n=Ks(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Gx:Xx:typeof t=="function"?n.local?qx:Zx:n.local?Kx:Qx)(n,t))}function l0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function e1(e){return function(){this.style.removeProperty(e)}}function t1(e,t,n){return function(){this.style.setProperty(e,t,n)}}function n1(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function r1(e,t,n){return arguments.length>1?this.each((t==null?e1:typeof t=="function"?n1:t1)(e,t,n??"")):Ur(this.node(),e)}function Ur(e,t){return e.style.getPropertyValue(t)||l0(e).getComputedStyle(e,null).getPropertyValue(t)}function i1(e){return function(){delete this[e]}}function o1(e,t){return function(){this[e]=t}}function s1(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function l1(e,t){return arguments.length>1?this.each((t==null?i1:typeof t=="function"?s1:o1)(e,t)):this.node()[e]}function a0(e){return e.trim().split(/^|\s+/)}function Gu(e){return e.classList||new u0(e)}function u0(e){this._node=e,this._names=a0(e.getAttribute("class")||"")}u0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function c0(e,t){for(var n=Gu(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function d0(e,t){for(var n=Gu(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function a1(e){return function(){c0(this,e)}}function u1(e){return function(){d0(this,e)}}function c1(e,t){return function(){(t.apply(this,arguments)?c0:d0)(this,e)}}function d1(e,t){var n=a0(e+"");if(arguments.length<2){for(var r=Gu(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?c1:t?a1:u1)(n,t))}function f1(){this.textContent=""}function h1(e){return function(){this.textContent=e}}function p1(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function m1(e){return arguments.length?this.each(e==null?f1:(typeof e=="function"?p1:h1)(e)):this.node().textContent}function g1(){this.innerHTML=""}function y1(e){return function(){this.innerHTML=e}}function v1(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function x1(e){return arguments.length?this.each(e==null?g1:(typeof e=="function"?v1:y1)(e)):this.node().innerHTML}function w1(){this.nextSibling&&this.parentNode.appendChild(this)}function S1(){return this.each(w1)}function k1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function N1(){return this.each(k1)}function E1(e){var t=typeof e=="function"?e:n0(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function _1(){return null}function C1(e,t){var n=typeof e=="function"?e:n0(e),r=t==null?_1:typeof t=="function"?t:Xu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function M1(){var e=this.parentNode;e&&e.removeChild(this)}function T1(){return this.each(M1)}function b1(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $1(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function j1(e){return this.select(e?$1:b1)}function P1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function A1(e){return function(t){e.call(this,t,this.__data__)}}function D1(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function z1(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function I1(e,t,n){return function(){var r=this.__on,i,o=A1(t);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function R1(e,t,n){var r=D1(e+""),i,o=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var a=0,u=l.length,c;a<u;++a)for(i=0,c=l[a];i<o;++i)if((s=r[i]).type===c.type&&s.name===c.name)return c.value}return}for(l=t?I1:z1,i=0;i<o;++i)this.each(l(r[i],t,n));return this}function f0(e,t,n){var r=l0(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function L1(e,t){return function(){return f0(this,e,t)}}function F1(e,t){return function(){return f0(this,e,t.apply(this,arguments))}}function O1(e,t){return this.each((typeof t=="function"?F1:L1)(e,t))}function*H1(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var h0=[null];function ut(e,t){this._groups=e,this._parents=t}function oo(){return new ut([[document.documentElement]],h0)}function U1(){return this}ut.prototype=oo.prototype={constructor:ut,select:px,selectAll:vx,selectChild:kx,selectChildren:Cx,filter:Mx,data:Ax,enter:Tx,exit:zx,join:Ix,merge:Rx,selection:U1,order:Lx,sort:Fx,call:Hx,nodes:Ux,node:Vx,size:Bx,empty:Wx,each:Yx,attr:Jx,style:r1,property:l1,classed:d1,text:m1,html:x1,raise:S1,lower:N1,append:E1,insert:C1,remove:T1,clone:j1,datum:P1,on:R1,dispatch:O1,[Symbol.iterator]:H1};function pt(e){return typeof e=="string"?new ut([[document.querySelector(e)]],[document.documentElement]):new ut([[e]],h0)}function V1(e){let t;for(;t=e.sourceEvent;)e=t;return e}function _t(e,t){if(e=V1(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const B1={passive:!1},Wi={capture:!0,passive:!1};function Al(e){e.stopImmediatePropagation()}function jr(e){e.preventDefault(),e.stopImmediatePropagation()}function p0(e){var t=e.document.documentElement,n=pt(e).on("dragstart.drag",jr,Wi);"onselectstart"in t?n.on("selectstart.drag",jr,Wi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function m0(e,t){var n=e.document.documentElement,r=pt(e).on("dragstart.drag",null);t&&(r.on("click.drag",jr,Wi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Co=e=>()=>e;function Ra(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:l,dx:a,dy:u,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:c}})}Ra.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function W1(e){return!e.ctrlKey&&!e.button}function Y1(){return this.parentNode}function X1(e,t){return t??{x:e.x,y:e.y}}function G1(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q1(){var e=W1,t=Y1,n=X1,r=G1,i={},o=io("start","drag","end"),s=0,l,a,u,c,d=0;function f(y){y.on("mousedown.drag",p).filter(r).on("touchstart.drag",w).on("touchmove.drag",h,B1).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(y,k){if(!(c||!e.call(this,y,k))){var E=v(this,t.call(this,y,k),y,k,"mouse");E&&(pt(y.view).on("mousemove.drag",S,Wi).on("mouseup.drag",g,Wi),p0(y.view),Al(y),u=!1,l=y.clientX,a=y.clientY,E("start",y))}}function S(y){if(jr(y),!u){var k=y.clientX-l,E=y.clientY-a;u=k*k+E*E>d}i.mouse("drag",y)}function g(y){pt(y.view).on("mousemove.drag mouseup.drag",null),m0(y.view,u),jr(y),i.mouse("end",y)}function w(y,k){if(e.call(this,y,k)){var E=y.changedTouches,_=t.call(this,y,k),j=E.length,P,D;for(P=0;P<j;++P)(D=v(this,_,y,k,E[P].identifier,E[P]))&&(Al(y),D("start",y,E[P]))}}function h(y){var k=y.changedTouches,E=k.length,_,j;for(_=0;_<E;++_)(j=i[k[_].identifier])&&(jr(y),j("drag",y,k[_]))}function m(y){var k=y.changedTouches,E=k.length,_,j;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),_=0;_<E;++_)(j=i[k[_].identifier])&&(Al(y),j("end",y,k[_]))}function v(y,k,E,_,j,P){var D=o.copy(),R=_t(P||E,k),H,O,N;if((N=n.call(y,new Ra("beforestart",{sourceEvent:E,target:f,identifier:j,active:s,x:R[0],y:R[1],dx:0,dy:0,dispatch:D}),_))!=null)return H=N.x-R[0]||0,O=N.y-R[1]||0,function T(M,z,b){var C=R,A;switch(M){case"start":i[j]=T,A=s++;break;case"end":delete i[j],--s;case"drag":R=_t(b||z,k),A=s;break}D.call(M,y,new Ra(M,{sourceEvent:z,subject:N,target:f,identifier:j,active:A,x:R[0]+H,y:R[1]+O,dx:R[0]-C[0],dy:R[1]-C[1],dispatch:D}),_)}}return f.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Co(!!y),f):e},f.container=function(y){return arguments.length?(t=typeof y=="function"?y:Co(y),f):t},f.subject=function(y){return arguments.length?(n=typeof y=="function"?y:Co(y),f):n},f.touchable=function(y){return arguments.length?(r=typeof y=="function"?y:Co(!!y),f):r},f.on=function(){var y=o.on.apply(o,arguments);return y===o?f:y},f.clickDistance=function(y){return arguments.length?(d=(y=+y)*y,f):Math.sqrt(d)},f}function Qu(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function g0(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function so(){}var Yi=.7,Ns=1/Yi,Pr="\\s*([+-]?\\d+)\\s*",Xi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",K1=/^#([0-9a-f]{3,8})$/,Z1=new RegExp(`^rgb\\(${Pr},${Pr},${Pr}\\)$`),q1=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),J1=new RegExp(`^rgba\\(${Pr},${Pr},${Pr},${Xi}\\)$`),ew=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${Xi}\\)$`),tw=new RegExp(`^hsl\\(${Xi},${Lt},${Lt}\\)$`),nw=new RegExp(`^hsla\\(${Xi},${Lt},${Lt},${Xi}\\)$`),Fd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qu(so,Gi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Od,formatHex:Od,formatHex8:rw,formatHsl:iw,formatRgb:Hd,toString:Hd});function Od(){return this.rgb().formatHex()}function rw(){return this.rgb().formatHex8()}function iw(){return y0(this).formatHsl()}function Hd(){return this.rgb().formatRgb()}function Gi(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=K1.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ud(t):n===3?new tt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Z1.exec(e))?new tt(t[1],t[2],t[3],1):(t=q1.exec(e))?new tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=J1.exec(e))?Mo(t[1],t[2],t[3],t[4]):(t=ew.exec(e))?Mo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tw.exec(e))?Wd(t[1],t[2]/100,t[3]/100,1):(t=nw.exec(e))?Wd(t[1],t[2]/100,t[3]/100,t[4]):Fd.hasOwnProperty(e)?Ud(Fd[e]):e==="transparent"?new tt(NaN,NaN,NaN,0):null}function Ud(e){return new tt(e>>16&255,e>>8&255,e&255,1)}function Mo(e,t,n,r){return r<=0&&(e=t=n=NaN),new tt(e,t,n,r)}function ow(e){return e instanceof so||(e=Gi(e)),e?(e=e.rgb(),new tt(e.r,e.g,e.b,e.opacity)):new tt}function La(e,t,n,r){return arguments.length===1?ow(e):new tt(e,t,n,r??1)}function tt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Qu(tt,La,g0(so,{brighter(e){return e=e==null?Ns:Math.pow(Ns,e),new tt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new tt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tt(Xn(this.r),Xn(this.g),Xn(this.b),Es(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Vd,formatHex:Vd,formatHex8:sw,formatRgb:Bd,toString:Bd}));function Vd(){return`#${Vn(this.r)}${Vn(this.g)}${Vn(this.b)}`}function sw(){return`#${Vn(this.r)}${Vn(this.g)}${Vn(this.b)}${Vn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Bd(){const e=Es(this.opacity);return`${e===1?"rgb(":"rgba("}${Xn(this.r)}, ${Xn(this.g)}, ${Xn(this.b)}${e===1?")":`, ${e})`}`}function Es(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Xn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vn(e){return e=Xn(e),(e<16?"0":"")+e.toString(16)}function Wd(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Mt(e,t,n,r)}function y0(e){if(e instanceof Mt)return new Mt(e.h,e.s,e.l,e.opacity);if(e instanceof so||(e=Gi(e)),!e)return new Mt;if(e instanceof Mt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,l=o-i,a=(o+i)/2;return l?(t===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-t)/l+2:s=(t-n)/l+4,l/=a<.5?o+i:2-o-i,s*=60):l=a>0&&a<1?0:s,new Mt(s,l,a,e.opacity)}function lw(e,t,n,r){return arguments.length===1?y0(e):new Mt(e,t,n,r??1)}function Mt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Qu(Mt,lw,g0(so,{brighter(e){return e=e==null?Ns:Math.pow(Ns,e),new Mt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yi:Math.pow(Yi,e),new Mt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new tt(Dl(e>=240?e-240:e+120,i,r),Dl(e,i,r),Dl(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Mt(Yd(this.h),To(this.s),To(this.l),Es(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Es(this.opacity);return`${e===1?"hsl(":"hsla("}${Yd(this.h)}, ${To(this.s)*100}%, ${To(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yd(e){return e=(e||0)%360,e<0?e+360:e}function To(e){return Math.max(0,Math.min(1,e||0))}function Dl(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const v0=e=>()=>e;function aw(e,t){return function(n){return e+n*t}}function uw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function cw(e){return(e=+e)==1?x0:function(t,n){return n-t?uw(t,n,e):v0(isNaN(t)?n:t)}}function x0(e,t){var n=t-e;return n?aw(e,n):v0(isNaN(e)?t:e)}const Xd=function e(t){var n=cw(t);function r(i,o){var s=n((i=La(i)).r,(o=La(o)).r),l=n(i.g,o.g),a=n(i.b,o.b),u=x0(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=l(c),i.b=a(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function an(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Fa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,zl=new RegExp(Fa.source,"g");function dw(e){return function(){return e}}function fw(e){return function(t){return e(t)+""}}function hw(e,t){var n=Fa.lastIndex=zl.lastIndex=0,r,i,o,s=-1,l=[],a=[];for(e=e+"",t=t+"";(r=Fa.exec(e))&&(i=zl.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,a.push({i:s,x:an(r,i)})),n=zl.lastIndex;return n<t.length&&(o=t.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?a[0]?fw(a[0].x):dw(t):(t=a.length,function(u){for(var c=0,d;c<t;++c)l[(d=a[c]).i]=d.x(u);return l.join("")})}var Gd=180/Math.PI,Oa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function w0(e,t,n,r,i,o){var s,l,a;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,a/=l),e*r<t*n&&(e=-e,t=-t,a=-a,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Gd,skewX:Math.atan(a)*Gd,scaleX:s,scaleY:l}}var bo;function pw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Oa:w0(t.a,t.b,t.c,t.d,t.e,t.f)}function mw(e){return e==null||(bo||(bo=document.createElementNS("http://www.w3.org/2000/svg","g")),bo.setAttribute("transform",e),!(e=bo.transform.baseVal.consolidate()))?Oa:(e=e.matrix,w0(e.a,e.b,e.c,e.d,e.e,e.f))}function S0(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,d,f,p,S){if(u!==d||c!==f){var g=p.push("translate(",null,t,null,n);S.push({i:g-4,x:an(u,d)},{i:g-2,x:an(c,f)})}else(d||f)&&p.push("translate("+d+t+f+n)}function s(u,c,d,f){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:an(u,c)})):c&&d.push(i(d)+"rotate("+c+r)}function l(u,c,d,f){u!==c?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:an(u,c)}):c&&d.push(i(d)+"skewX("+c+r)}function a(u,c,d,f,p,S){if(u!==d||c!==f){var g=p.push(i(p)+"scale(",null,",",null,")");S.push({i:g-4,x:an(u,d)},{i:g-2,x:an(c,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(u,c){var d=[],f=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,d,f),s(u.rotate,c.rotate,d,f),l(u.skewX,c.skewX,d,f),a(u.scaleX,u.scaleY,c.scaleX,c.scaleY,d,f),u=c=null,function(p){for(var S=-1,g=f.length,w;++S<g;)d[(w=f[S]).i]=w.x(p);return d.join("")}}}var gw=S0(pw,"px, ","px)","deg)"),yw=S0(mw,", ",")",")"),vw=1e-12;function Qd(e){return((e=Math.exp(e))+1/e)/2}function xw(e){return((e=Math.exp(e))-1/e)/2}function ww(e){return((e=Math.exp(2*e))-1)/(e+1)}const Sw=function e(t,n,r){function i(o,s){var l=o[0],a=o[1],u=o[2],c=s[0],d=s[1],f=s[2],p=c-l,S=d-a,g=p*p+S*S,w,h;if(g<vw)h=Math.log(f/u)/t,w=function(_){return[l+_*p,a+_*S,u*Math.exp(t*_*h)]};else{var m=Math.sqrt(g),v=(f*f-u*u+r*g)/(2*u*n*m),y=(f*f-u*u-r*g)/(2*f*n*m),k=Math.log(Math.sqrt(v*v+1)-v),E=Math.log(Math.sqrt(y*y+1)-y);h=(E-k)/t,w=function(_){var j=_*h,P=Qd(k),D=u/(n*m)*(P*ww(t*j+k)-xw(k));return[l+D*p,a+D*S,u*P/Qd(t*j+k)]}}return w.duration=h*1e3*t/Math.SQRT2,w}return i.rho=function(o){var s=Math.max(.001,+o),l=s*s,a=l*l;return e(s,l,a)},i}(Math.SQRT2,2,4);var Vr=0,gi=0,si=0,k0=1e3,_s,yi,Cs=0,tr=0,Zs=0,Qi=typeof performance=="object"&&performance.now?performance:Date,N0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ku(){return tr||(N0(kw),tr=Qi.now()+Zs)}function kw(){tr=0}function Ms(){this._call=this._time=this._next=null}Ms.prototype=Zu.prototype={constructor:Ms,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ku():+n)+(t==null?0:+t),!this._next&&yi!==this&&(yi?yi._next=this:_s=this,yi=this),this._call=e,this._time=n,Ha()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ha())}};function Zu(e,t,n){var r=new Ms;return r.restart(e,t,n),r}function Nw(){Ku(),++Vr;for(var e=_s,t;e;)(t=tr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vr}function Kd(){tr=(Cs=Qi.now())+Zs,Vr=gi=0;try{Nw()}finally{Vr=0,_w(),tr=0}}function Ew(){var e=Qi.now(),t=e-Cs;t>k0&&(Zs-=t,Cs=e)}function _w(){for(var e,t=_s,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:_s=n);yi=e,Ha(r)}function Ha(e){if(!Vr){gi&&(gi=clearTimeout(gi));var t=e-tr;t>24?(e<1/0&&(gi=setTimeout(Kd,e-Qi.now()-Zs)),si&&(si=clearInterval(si))):(si||(Cs=Qi.now(),si=setInterval(Ew,k0)),Vr=1,N0(Kd))}}function Zd(e,t,n){var r=new Ms;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Cw=io("start","end","cancel","interrupt"),Mw=[],E0=0,qd=1,Ua=2,Qo=3,Jd=4,Va=5,Ko=6;function qs(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Tw(e,n,{name:t,index:r,group:i,on:Cw,tween:Mw,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:E0})}function qu(e,t){var n=jt(e,t);if(n.state>E0)throw new Error("too late; already scheduled");return n}function Ft(e,t){var n=jt(e,t);if(n.state>Qo)throw new Error("too late; already running");return n}function jt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Tw(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Zu(o,0,n.time);function o(u){n.state=qd,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var c,d,f,p;if(n.state!==qd)return a();for(c in r)if(p=r[c],p.name===n.name){if(p.state===Qo)return Zd(s);p.state===Jd?(p.state=Ko,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[c]):+c<t&&(p.state=Ko,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[c])}if(Zd(function(){n.state===Qo&&(n.state=Jd,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Ua,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Ua){for(n.state=Qo,i=new Array(f=n.tween.length),c=0,d=-1;c<f;++c)(p=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=p);i.length=d+1}}function l(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=Va,1),d=-1,f=i.length;++d<f;)i[d].call(e,c);n.state===Va&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Ko,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Zo(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Ua&&r.state<Va,r.state=Ko,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function bw(e){return this.each(function(){Zo(this,e)})}function $w(e,t){var n,r;return function(){var i=Ft(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function jw(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Ft(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var l={name:t,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===t){i[a]=l;break}a===u&&i.push(l)}o.tween=i}}function Pw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=jt(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?$w:jw)(n,e,t))}function Ju(e,t,n){var r=e._id;return e.each(function(){var i=Ft(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return jt(i,r).value[t]}}function _0(e,t){var n;return(typeof t=="number"?an:t instanceof Gi?Xd:(n=Gi(t))?(t=n,Xd):hw)(e,t)}function Aw(e){return function(){this.removeAttribute(e)}}function Dw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function zw(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function Iw(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Rw(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function Lw(e,t,n){var r,i,o;return function(){var s,l=n(this),a;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=l+"",s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l)))}}function Fw(e,t){var n=Ks(e),r=n==="transform"?yw:_0;return this.attrTween(e,typeof t=="function"?(n.local?Lw:Rw)(n,r,Ju(this,"attr."+e,t)):t==null?(n.local?Dw:Aw)(n):(n.local?Iw:zw)(n,r,t))}function Ow(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Hw(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Uw(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Hw(e,o)),n}return i._value=t,i}function Vw(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Ow(e,o)),n}return i._value=t,i}function Bw(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ks(e);return this.tween(n,(r.local?Uw:Vw)(r,t))}function Ww(e,t){return function(){qu(this,e).delay=+t.apply(this,arguments)}}function Yw(e,t){return t=+t,function(){qu(this,e).delay=t}}function Xw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Ww:Yw)(t,e)):jt(this.node(),t).delay}function Gw(e,t){return function(){Ft(this,e).duration=+t.apply(this,arguments)}}function Qw(e,t){return t=+t,function(){Ft(this,e).duration=t}}function Kw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Gw:Qw)(t,e)):jt(this.node(),t).duration}function Zw(e,t){if(typeof t!="function")throw new Error;return function(){Ft(this,e).ease=t}}function qw(e){var t=this._id;return arguments.length?this.each(Zw(t,e)):jt(this.node(),t).ease}function Jw(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ft(this,e).ease=n}}function e2(e){if(typeof e!="function")throw new Error;return this.each(Jw(this._id,e))}function t2(e){typeof e!="function"&&(e=i0(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,l=r[i]=[],a,u=0;u<s;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&l.push(a);return new Jt(r,this._parents,this._name,this._id)}function n2(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),l=0;l<o;++l)for(var a=t[l],u=n[l],c=a.length,d=s[l]=new Array(c),f,p=0;p<c;++p)(f=a[p]||u[p])&&(d[p]=f);for(;l<r;++l)s[l]=t[l];return new Jt(s,this._parents,this._name,this._id)}function r2(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function i2(e,t,n){var r,i,o=r2(t)?qu:Ft;return function(){var s=o(this,e),l=s.on;l!==r&&(i=(r=l).copy()).on(t,n),s.on=i}}function o2(e,t){var n=this._id;return arguments.length<2?jt(this.node(),n).on.on(e):this.each(i2(n,e,t))}function s2(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function l2(){return this.on("end.remove",s2(this._id))}function a2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xu(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var l=r[s],a=l.length,u=o[s]=new Array(a),c,d,f=0;f<a;++f)(c=l[f])&&(d=e.call(c,c.__data__,f,l))&&("__data__"in c&&(d.__data__=c.__data__),u[f]=d,qs(u[f],t,n,f,u,jt(c,n)));return new Jt(o,this._parents,t,n)}function u2(e){var t=this._name,n=this._id;typeof e!="function"&&(e=r0(e));for(var r=this._groups,i=r.length,o=[],s=[],l=0;l<i;++l)for(var a=r[l],u=a.length,c,d=0;d<u;++d)if(c=a[d]){for(var f=e.call(c,c.__data__,d,a),p,S=jt(c,n),g=0,w=f.length;g<w;++g)(p=f[g])&&qs(p,t,n,g,f,S);o.push(f),s.push(c)}return new Jt(o,s,t,n)}var c2=oo.prototype.constructor;function d2(){return new c2(this._groups,this._parents)}function f2(e,t){var n,r,i;return function(){var o=Ur(this,e),s=(this.style.removeProperty(e),Ur(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function C0(e){return function(){this.style.removeProperty(e)}}function h2(e,t,n){var r,i=n+"",o;return function(){var s=Ur(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function p2(e,t,n){var r,i,o;return function(){var s=Ur(this,e),l=n(this),a=l+"";return l==null&&(a=l=(this.style.removeProperty(e),Ur(this,e))),s===a?null:s===r&&a===i?o:(i=a,o=t(r=s,l))}}function m2(e,t){var n,r,i,o="style."+t,s="end."+o,l;return function(){var a=Ft(this,e),u=a.on,c=a.value[o]==null?l||(l=C0(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(s,i=c),a.on=r}}function g2(e,t,n){var r=(e+="")=="transform"?gw:_0;return t==null?this.styleTween(e,f2(e,r)).on("end.style."+e,C0(e)):typeof t=="function"?this.styleTween(e,p2(e,r,Ju(this,"style."+e,t))).each(m2(this._id,e)):this.styleTween(e,h2(e,r,t),n).on("end.style."+e,null)}function y2(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function v2(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&y2(e,s,n)),r}return o._value=t,o}function x2(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,v2(e,t,n??""))}function w2(e){return function(){this.textContent=e}}function S2(e){return function(){var t=e(this);this.textContent=t??""}}function k2(e){return this.tween("text",typeof e=="function"?S2(Ju(this,"text",e)):w2(e==null?"":e+""))}function N2(e){return function(t){this.textContent=e.call(this,t)}}function E2(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&N2(i)),t}return r._value=e,r}function _2(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,E2(e))}function C2(){for(var e=this._name,t=this._id,n=M0(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)if(a=s[u]){var c=jt(a,t);qs(a,e,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Jt(r,this._parents,e,n)}function M2(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var l={value:s},a={value:function(){--i===0&&o()}};n.each(function(){var u=Ft(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(a)),u.on=t}),i===0&&o()})}var T2=0;function Jt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function M0(){return++T2}var Ht=oo.prototype;Jt.prototype={constructor:Jt,select:a2,selectAll:u2,selectChild:Ht.selectChild,selectChildren:Ht.selectChildren,filter:t2,merge:n2,selection:d2,transition:C2,call:Ht.call,nodes:Ht.nodes,node:Ht.node,size:Ht.size,empty:Ht.empty,each:Ht.each,on:o2,attr:Fw,attrTween:Bw,style:g2,styleTween:x2,text:k2,textTween:_2,remove:l2,tween:Pw,delay:Xw,duration:Kw,ease:qw,easeVarying:e2,end:M2,[Symbol.iterator]:Ht[Symbol.iterator]};function b2(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $2={time:null,delay:0,duration:250,ease:b2};function j2(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function P2(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=M0(),(n=$2).time=Ku(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],l=s.length,a,u=0;u<l;++u)(a=s[u])&&qs(a,e,t,u,s,n||j2(a,t));return new Jt(r,this._parents,e,t)}oo.prototype.interrupt=bw;oo.prototype.transition=P2;const $o=e=>()=>e;function A2(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Yt(e,t,n){this.k=e,this.x=t,this.y=n}Yt.prototype={constructor:Yt,scale:function(e){return e===1?this:new Yt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Yt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gt=new Yt(1,0,0);Yt.prototype;function Il(e){e.stopImmediatePropagation()}function li(e){e.preventDefault(),e.stopImmediatePropagation()}function D2(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function z2(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ef(){return this.__zoom||Gt}function I2(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function R2(){return navigator.maxTouchPoints||"ontouchstart"in this}function L2(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function T0(){var e=D2,t=z2,n=L2,r=I2,i=R2,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],l=250,a=Sw,u=io("start","zoom","end"),c,d,f,p=500,S=150,g=0,w=10;function h(N){N.property("__zoom",ef).on("wheel.zoom",j,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",D).filter(i).on("touchstart.zoom",R).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(N,T,M,z){var b=N.selection?N.selection():N;b.property("__zoom",ef),N!==b?k(N,T,M,z):b.interrupt().each(function(){E(this,arguments).event(z).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},h.scaleBy=function(N,T,M,z){h.scaleTo(N,function(){var b=this.__zoom.k,C=typeof T=="function"?T.apply(this,arguments):T;return b*C},M,z)},h.scaleTo=function(N,T,M,z){h.transform(N,function(){var b=t.apply(this,arguments),C=this.__zoom,A=M==null?y(b):typeof M=="function"?M.apply(this,arguments):M,F=C.invert(A),L=typeof T=="function"?T.apply(this,arguments):T;return n(v(m(C,L),A,F),b,s)},M,z)},h.translateBy=function(N,T,M,z){h.transform(N,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof M=="function"?M.apply(this,arguments):M),t.apply(this,arguments),s)},null,z)},h.translateTo=function(N,T,M,z,b){h.transform(N,function(){var C=t.apply(this,arguments),A=this.__zoom,F=z==null?y(C):typeof z=="function"?z.apply(this,arguments):z;return n(Gt.translate(F[0],F[1]).scale(A.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof M=="function"?-M.apply(this,arguments):-M),C,s)},z,b)};function m(N,T){return T=Math.max(o[0],Math.min(o[1],T)),T===N.k?N:new Yt(T,N.x,N.y)}function v(N,T,M){var z=T[0]-M[0]*N.k,b=T[1]-M[1]*N.k;return z===N.x&&b===N.y?N:new Yt(N.k,z,b)}function y(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function k(N,T,M,z){N.on("start.zoom",function(){E(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(z).end()}).tween("zoom",function(){var b=this,C=arguments,A=E(b,C).event(z),F=t.apply(b,C),L=M==null?y(F):typeof M=="function"?M.apply(b,C):M,B=Math.max(F[1][0]-F[0][0],F[1][1]-F[0][1]),V=b.__zoom,Y=typeof T=="function"?T.apply(b,C):T,Q=a(V.invert(L).concat(B/V.k),Y.invert(L).concat(B/Y.k));return function(Z){if(Z===1)Z=Y;else{var oe=Q(Z),ne=B/oe[2];Z=new Yt(ne,L[0]-oe[0]*ne,L[1]-oe[1]*ne)}A.zoom(null,Z)}})}function E(N,T,M){return!M&&N.__zooming||new _(N,T)}function _(N,T){this.that=N,this.args=T,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,T),this.taps=0}_.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,T){return this.mouse&&N!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var T=pt(this.that).datum();u.call(N,this.that,new A2(N,{sourceEvent:this.sourceEvent,target:h,transform:this.that.__zoom,dispatch:u}),T)}};function j(N,...T){if(!e.apply(this,arguments))return;var M=E(this,T).event(N),z=this.__zoom,b=Math.max(o[0],Math.min(o[1],z.k*Math.pow(2,r.apply(this,arguments)))),C=_t(N);if(M.wheel)(M.mouse[0][0]!==C[0]||M.mouse[0][1]!==C[1])&&(M.mouse[1]=z.invert(M.mouse[0]=C)),clearTimeout(M.wheel);else{if(z.k===b)return;M.mouse=[C,z.invert(C)],Zo(this),M.start()}li(N),M.wheel=setTimeout(A,S),M.zoom("mouse",n(v(m(z,b),M.mouse[0],M.mouse[1]),M.extent,s));function A(){M.wheel=null,M.end()}}function P(N,...T){if(f||!e.apply(this,arguments))return;var M=N.currentTarget,z=E(this,T,!0).event(N),b=pt(N.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",B,!0),C=_t(N,M),A=N.clientX,F=N.clientY;p0(N.view),Il(N),z.mouse=[C,this.__zoom.invert(C)],Zo(this),z.start();function L(V){if(li(V),!z.moved){var Y=V.clientX-A,Q=V.clientY-F;z.moved=Y*Y+Q*Q>g}z.event(V).zoom("mouse",n(v(z.that.__zoom,z.mouse[0]=_t(V,M),z.mouse[1]),z.extent,s))}function B(V){b.on("mousemove.zoom mouseup.zoom",null),m0(V.view,z.moved),li(V),z.event(V).end()}}function D(N,...T){if(e.apply(this,arguments)){var M=this.__zoom,z=_t(N.changedTouches?N.changedTouches[0]:N,this),b=M.invert(z),C=M.k*(N.shiftKey?.5:2),A=n(v(m(M,C),z,b),t.apply(this,T),s);li(N),l>0?pt(this).transition().duration(l).call(k,A,z,N):pt(this).call(h.transform,A,z,N)}}function R(N,...T){if(e.apply(this,arguments)){var M=N.touches,z=M.length,b=E(this,T,N.changedTouches.length===z).event(N),C,A,F,L;for(Il(N),A=0;A<z;++A)F=M[A],L=_t(F,this),L=[L,this.__zoom.invert(L),F.identifier],b.touch0?!b.touch1&&b.touch0[2]!==L[2]&&(b.touch1=L,b.taps=0):(b.touch0=L,C=!0,b.taps=1+!!c);c&&(c=clearTimeout(c)),C&&(b.taps<2&&(d=L[0],c=setTimeout(function(){c=null},p)),Zo(this),b.start())}}function H(N,...T){if(this.__zooming){var M=E(this,T).event(N),z=N.changedTouches,b=z.length,C,A,F,L;for(li(N),C=0;C<b;++C)A=z[C],F=_t(A,this),M.touch0&&M.touch0[2]===A.identifier?M.touch0[0]=F:M.touch1&&M.touch1[2]===A.identifier&&(M.touch1[0]=F);if(A=M.that.__zoom,M.touch1){var B=M.touch0[0],V=M.touch0[1],Y=M.touch1[0],Q=M.touch1[1],Z=(Z=Y[0]-B[0])*Z+(Z=Y[1]-B[1])*Z,oe=(oe=Q[0]-V[0])*oe+(oe=Q[1]-V[1])*oe;A=m(A,Math.sqrt(Z/oe)),F=[(B[0]+Y[0])/2,(B[1]+Y[1])/2],L=[(V[0]+Q[0])/2,(V[1]+Q[1])/2]}else if(M.touch0)F=M.touch0[0],L=M.touch0[1];else return;M.zoom("touch",n(v(A,F,L),M.extent,s))}}function O(N,...T){if(this.__zooming){var M=E(this,T).event(N),z=N.changedTouches,b=z.length,C,A;for(Il(N),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),C=0;C<b;++C)A=z[C],M.touch0&&M.touch0[2]===A.identifier?delete M.touch0:M.touch1&&M.touch1[2]===A.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&(A=_t(A,this),Math.hypot(d[0]-A[0],d[1]-A[1])<w)){var F=pt(this).on("dblclick.zoom");F&&F.apply(this,arguments)}}}return h.wheelDelta=function(N){return arguments.length?(r=typeof N=="function"?N:$o(+N),h):r},h.filter=function(N){return arguments.length?(e=typeof N=="function"?N:$o(!!N),h):e},h.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:$o(!!N),h):i},h.extent=function(N){return arguments.length?(t=typeof N=="function"?N:$o([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),h):t},h.scaleExtent=function(N){return arguments.length?(o[0]=+N[0],o[1]=+N[1],h):[o[0],o[1]]},h.translateExtent=function(N){return arguments.length?(s[0][0]=+N[0][0],s[1][0]=+N[1][0],s[0][1]=+N[0][1],s[1][1]=+N[1][1],h):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},h.constrain=function(N){return arguments.length?(n=N,h):n},h.duration=function(N){return arguments.length?(l=+N,h):l},h.interpolate=function(N){return arguments.length?(a=N,h):a},h.on=function(){var N=u.on.apply(u,arguments);return N===u?h:N},h.clickDistance=function(N){return arguments.length?(g=(N=+N)*N,h):Math.sqrt(g)},h.tapDistance=function(N){return arguments.length?(w=+N,h):w},h}const Js=$.createContext(null),F2=Js.Provider,en={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},b0=en.error001();function ce(e,t){const n=$.useContext(Js);if(n===null)throw new Error(b0);return t0(n,e,t)}const Me=()=>{const e=$.useContext(Js);if(e===null)throw new Error(b0);return $.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},O2=e=>e.userSelectionActive?"none":"all";function ec({position:e,children:t,className:n,style:r,...i}){const o=ce(O2),s=`${e}`.split("-");return I.createElement("div",{className:Le(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function H2({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:I.createElement(ec,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},I.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const U2=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:l=2,children:a,className:u,...c})=>{const d=$.useRef(null),[f,p]=$.useState({x:0,y:0,width:0,height:0}),S=Le(["react-flow__edge-textwrapper",u]);return $.useEffect(()=>{if(d.current){const g=d.current.getBBox();p({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:I.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:S,visibility:f.width?"visible":"hidden",...c},i&&I.createElement("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:l,ry:l}),I.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),a)};var V2=$.memo(U2);const tc=e=>({width:e.offsetWidth,height:e.offsetHeight}),Br=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),nc=(e={x:0,y:0},t)=>({x:Br(e.x,t[0][0],t[1][0]),y:Br(e.y,t[0][1],t[1][1])}),tf=(e,t,n)=>e<t?Br(Math.abs(e-t),1,50)/50:e>n?-Br(Math.abs(e-n),1,50)/50:0,$0=(e,t)=>{const n=tf(e.x,35,t.width-35)*20,r=tf(e.y,35,t.height-35)*20;return[n,r]},j0=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},P0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Ki=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),A0=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),nf=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),B2=(e,t)=>A0(P0(Ki(e),Ki(t))),Ba=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},W2=e=>gt(e.width)&&gt(e.height)&&gt(e.x)&&gt(e.y),gt=e=>!isNaN(e)&&isFinite(e),we=Symbol.for("internals"),D0=["Enter"," ","Escape"],Y2=(e,t)=>{},X2=e=>"nativeEvent"in e;function Wa(e){var i,o;const t=X2(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const z0=e=>"clientX"in e,En=(e,t)=>{var o,s;const n=z0(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Ts=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},lo=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:p=20})=>I.createElement(I.Fragment,null,I.createElement("path",{id:e,style:c,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),p&&I.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),i&&gt(n)&&gt(r)?I.createElement(V2,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u}):null);lo.displayName="BaseEdge";function ai(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function I0({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,l=r<t?r+s:r-s;return[o,l,i,s]}function R0({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:l}){const a=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+l*.375+r*.125,c=Math.abs(a-e),d=Math.abs(u-t);return[a,u,c,d]}var nr;(function(e){e.Strict="strict",e.Loose="loose"})(nr||(nr={}));var Bn;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Bn||(Bn={}));var Zi;(function(e){e.Partial="partial",e.Full="full"})(Zi||(Zi={}));var fn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(fn||(fn={}));var bs;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(bs||(bs={}));var G;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(G||(G={}));function rf({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===G.Left||e===G.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function L0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:i,targetPosition:o=G.Top}){const[s,l]=rf({pos:n,x1:e,y1:t,x2:r,y2:i}),[a,u]=rf({pos:o,x1:r,y1:i,x2:e,y2:t}),[c,d,f,p]=R0({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${s},${l} ${a},${u} ${r},${i}`,c,d,f,p]}const rc=$.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=G.Bottom,targetPosition:o=G.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:S,interactionWidth:g})=>{const[w,h,m]=L0({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return I.createElement(lo,{path:w,labelX:h,labelY:m,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:S,interactionWidth:g})});rc.displayName="SimpleBezierEdge";const of={[G.Left]:{x:-1,y:0},[G.Right]:{x:1,y:0},[G.Top]:{x:0,y:-1},[G.Bottom]:{x:0,y:1}},G2=({source:e,sourcePosition:t=G.Bottom,target:n})=>t===G.Left||t===G.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},sf=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Q2({source:e,sourcePosition:t=G.Bottom,target:n,targetPosition:r=G.Top,center:i,offset:o}){const s=of[t],l=of[r],a={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+l.x*o,y:n.y+l.y*o},c=G2({source:a,sourcePosition:t,target:u}),d=c.x!==0?"x":"y",f=c[d];let p=[],S,g;const w={x:0,y:0},h={x:0,y:0},[m,v,y,k]=I0({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[d]*l[d]===-1){S=i.x??m,g=i.y??v;const _=[{x:S,y:a.y},{x:S,y:u.y}],j=[{x:a.x,y:g},{x:u.x,y:g}];s[d]===f?p=d==="x"?_:j:p=d==="x"?j:_}else{const _=[{x:a.x,y:u.y}],j=[{x:u.x,y:a.y}];if(d==="x"?p=s.x===f?j:_:p=s.y===f?_:j,t===r){const O=Math.abs(e[d]-n[d]);if(O<=o){const N=Math.min(o-1,o-O);s[d]===f?w[d]=(a[d]>e[d]?-1:1)*N:h[d]=(u[d]>n[d]?-1:1)*N}}if(t!==r){const O=d==="x"?"y":"x",N=s[d]===l[O],T=a[O]>u[O],M=a[O]<u[O];(s[d]===1&&(!N&&T||N&&M)||s[d]!==1&&(!N&&M||N&&T))&&(p=d==="x"?_:j)}const P={x:a.x+w.x,y:a.y+w.y},D={x:u.x+h.x,y:u.y+h.y},R=Math.max(Math.abs(P.x-p[0].x),Math.abs(D.x-p[0].x)),H=Math.max(Math.abs(P.y-p[0].y),Math.abs(D.y-p[0].y));R>=H?(S=(P.x+D.x)/2,g=p[0].y):(S=p[0].x,g=(P.y+D.y)/2)}return[[e,{x:a.x+w.x,y:a.y+w.y},...p,{x:u.x+h.x,y:u.y+h.y},n],S,g,y,k]}function K2(e,t,n,r){const i=Math.min(sf(e,t)/2,sf(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,c=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*c}`}const l=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${o},${s+i*a}Q ${o},${s} ${o+i*l},${s}`}function Ya({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:i,targetPosition:o=G.Top,borderRadius:s=5,centerX:l,centerY:a,offset:u=20}){const[c,d,f,p,S]=Q2({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:l,y:a},offset:u});return[c.reduce((w,h,m)=>{let v="";return m>0&&m<c.length-1?v=K2(c[m-1],h,c[m+1],s):v=`${m===0?"M":"L"}${h.x} ${h.y}`,w+=v,w},""),d,f,p,S]}const el=$.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,sourcePosition:d=G.Bottom,targetPosition:f=G.Top,markerEnd:p,markerStart:S,pathOptions:g,interactionWidth:w})=>{const[h,m,v]=Ya({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return I.createElement(lo,{path:h,labelX:m,labelY:v,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:p,markerStart:S,interactionWidth:w})});el.displayName="SmoothStepEdge";const ic=$.memo(e=>{var t;return I.createElement(el,{...e,pathOptions:$.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});ic.displayName="StepEdge";function Z2({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,l]=I0({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,l]}const oc=$.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:p})=>{const[S,g,w]=Z2({sourceX:e,sourceY:t,targetX:n,targetY:r});return I.createElement(lo,{path:S,labelX:g,labelY:w,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:l,labelBgPadding:a,labelBgBorderRadius:u,style:c,markerEnd:d,markerStart:f,interactionWidth:p})});oc.displayName="StraightEdge";function jo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function lf({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case G.Left:return[t-jo(t-r,o),n];case G.Right:return[t+jo(r-t,o),n];case G.Top:return[t,n-jo(n-i,o)];case G.Bottom:return[t,n+jo(i-n,o)]}}function F0({sourceX:e,sourceY:t,sourcePosition:n=G.Bottom,targetX:r,targetY:i,targetPosition:o=G.Top,curvature:s=.25}){const[l,a]=lf({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,c]=lf({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[d,f,p,S]=R0({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:a,targetControlX:u,targetControlY:c});return[`M${e},${t} C${l},${a} ${u},${c} ${r},${i}`,d,f,p,S]}const $s=$.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=G.Bottom,targetPosition:o=G.Top,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:S,pathOptions:g,interactionWidth:w})=>{const[h,m,v]=F0({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:g==null?void 0:g.curvature});return I.createElement(lo,{path:h,labelX:m,labelY:v,label:s,labelStyle:l,labelShowBg:a,labelBgStyle:u,labelBgPadding:c,labelBgBorderRadius:d,style:f,markerEnd:p,markerStart:S,interactionWidth:w})});$s.displayName="BezierEdge";const sc=$.createContext(null),q2=sc.Provider;sc.Consumer;const J2=()=>$.useContext(sc),eS=e=>"id"in e&&"source"in e&&"target"in e,tS=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,Xa=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,nS=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),O0=(e,t)=>{if(!e.source||!e.target)return t;let n;return eS(e)?n={...e}:n={...e,id:tS(e)},nS(n,t)?t:t.concat(n)},Ga=({x:e,y:t},[n,r,i],o,[s,l])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(a.x/s),y:l*Math.round(a.y/l)}:a},H0=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Gn=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},tl=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=Gn(i,t).positionAbsolute;return P0(r,Ki({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return A0(n)},U0=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,l=[0,0])=>{const a={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},u=[];return e.forEach(c=>{const{width:d,height:f,selectable:p=!0,hidden:S=!1}=c;if(s&&!p||S)return!1;const{positionAbsolute:g}=Gn(c,l),w={x:g.x,y:g.y,width:d||0,height:f||0},h=Ba(a,w),m=typeof d>"u"||typeof f>"u"||d===null||f===null,v=o&&h>0,y=(d||0)*(f||0);(m||v||h>=y||c.dragging)&&u.push(c)}),u},V0=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},B0=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),l=n/(e.height*(1+o)),a=Math.min(s,l),u=Br(a,r,i),c=e.x+e.width/2,d=e.y+e.height/2,f=t/2-c*u,p=n/2-d*u;return{x:f,y:p,zoom:u}},Fn=(e,t=0)=>e.transition().duration(t);function af(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,l;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+o.y+o.height/2}),i},[])}function rS(e,t,n,r,i,o){const{x:s,y:l}=En(e),u=t.elementsFromPoint(s,l).find(S=>S.classList.contains("react-flow__handle"));if(u){const S=u.getAttribute("data-nodeid");if(S){const g=lc(void 0,u),w=u.getAttribute("data-handleid"),h=o({nodeId:S,id:w,type:g});if(h){const m=i.find(v=>v.nodeId===S&&v.type===g&&v.id===w);return{handle:{id:w,type:g,nodeId:S,x:(m==null?void 0:m.x)||n.x,y:(m==null?void 0:m.y)||n.y},validHandleResult:h}}}}let c=[],d=1/0;if(i.forEach(S=>{const g=Math.sqrt((S.x-n.x)**2+(S.y-n.y)**2);if(g<=r){const w=o(S);g<=d&&(g<d?c=[{handle:S,validHandleResult:w}]:g===d&&c.push({handle:S,validHandleResult:w}),d=g)}}),!c.length)return{handle:null,validHandleResult:W0()};if(c.length===1)return c[0];const f=c.some(({validHandleResult:S})=>S.isValid),p=c.some(({handle:S})=>S.type==="target");return c.find(({handle:S,validHandleResult:g})=>p?S.type==="target":f?g.isValid:!0)||c[0]}const iS={source:null,target:null,sourceHandle:null,targetHandle:null},W0=()=>({handleDomNode:null,isValid:!1,connection:iS,endHandle:null});function Y0(e,t,n,r,i,o,s){const l=i==="target",a=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...W0(),handleDomNode:a};if(a){const c=lc(void 0,a),d=a.getAttribute("data-nodeid"),f=a.getAttribute("data-handleid"),p=a.classList.contains("connectable"),S=a.classList.contains("connectableend"),g={source:l?d:n,sourceHandle:l?f:r,target:l?n:d,targetHandle:l?r:f};u.connection=g,p&&S&&(t===nr.Strict?l&&c==="source"||!l&&c==="target":d!==n||f!==r)&&(u.endHandle={nodeId:d,handleId:f,type:c},u.isValid=o(g))}return u}function oS({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[we]){const{handleBounds:s}=o[we];let l=[],a=[];s&&(l=af(o,s,"source",`${t}-${n}-${r}`),a=af(o,s,"target",`${t}-${n}-${r}`)),i.push(...l,...a)}return i},[])}function lc(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Rl(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function sS(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function X0({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:l,edgeUpdaterType:a,onReconnectEnd:u}){const c=j0(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:p,connectionRadius:S,onConnectStart:g,panBy:w,getNodes:h,cancelConnection:m}=o();let v=0,y;const{x:k,y:E}=En(e),_=c==null?void 0:c.elementFromPoint(k,E),j=lc(a,_),P=f==null?void 0:f.getBoundingClientRect();if(!P||!j)return;let D,R=En(e,P),H=!1,O=null,N=!1,T=null;const M=oS({nodes:h(),nodeId:n,handleId:t,handleType:j}),z=()=>{if(!p)return;const[A,F]=$0(R,P);w({x:A,y:F}),v=requestAnimationFrame(z)};s({connectionPosition:R,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:j,connectionStartHandle:{nodeId:n,handleId:t,type:j},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:j});function b(A){const{transform:F}=o();R=En(A,P);const{handle:L,validHandleResult:B}=rS(A,c,Ga(R,F,!1,[1,1]),S,M,V=>Y0(V,d,n,t,i?"target":"source",l,c));if(y=L,H||(z(),H=!0),T=B.handleDomNode,O=B.connection,N=B.isValid,s({connectionPosition:y&&N?H0({x:y.x,y:y.y},F):R,connectionStatus:sS(!!y,N),connectionEndHandle:B.endHandle}),!y&&!N&&!T)return Rl(D);O.source!==O.target&&T&&(Rl(D),D=T,T.classList.add("connecting","react-flow__handle-connecting"),T.classList.toggle("valid",N),T.classList.toggle("react-flow__handle-valid",N))}function C(A){var F,L;(y||T)&&O&&N&&(r==null||r(O)),(L=(F=o()).onConnectEnd)==null||L.call(F,A),a&&(u==null||u(A)),Rl(D),m(),cancelAnimationFrame(v),H=!1,N=!1,O=null,T=null,c.removeEventListener("mousemove",b),c.removeEventListener("mouseup",C),c.removeEventListener("touchmove",b),c.removeEventListener("touchend",C)}c.addEventListener("mousemove",b),c.addEventListener("mouseup",C),c.addEventListener("touchmove",b),c.addEventListener("touchend",C)}const uf=()=>!0,lS=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),aS=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},G0=$.forwardRef(({type:e="source",position:t=G.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:l,children:a,className:u,onMouseDown:c,onTouchStart:d,...f},p)=>{var P,D;const S=s||null,g=e==="target",w=Me(),h=J2(),{connectOnClick:m,noPanClassName:v}=ce(lS,je),{connecting:y,clickConnecting:k}=ce(aS(h,S,e),je);h||(D=(P=w.getState()).onError)==null||D.call(P,"010",en.error010());const E=R=>{const{defaultEdgeOptions:H,onConnect:O,hasDefaultEdges:N}=w.getState(),T={...H,...R};if(N){const{edges:M,setEdges:z}=w.getState();z(O0(T,M))}O==null||O(T),l==null||l(T)},_=R=>{if(!h)return;const H=z0(R);i&&(H&&R.button===0||!H)&&X0({event:R,handleId:S,nodeId:h,onConnect:E,isTarget:g,getState:w.getState,setState:w.setState,isValidConnection:n||w.getState().isValidConnection||uf}),H?c==null||c(R):d==null||d(R)},j=R=>{const{onClickConnectStart:H,onClickConnectEnd:O,connectionClickStartHandle:N,connectionMode:T,isValidConnection:M}=w.getState();if(!h||!N&&!i)return;if(!N){H==null||H(R,{nodeId:h,handleId:S,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:h,type:e,handleId:S}});return}const z=j0(R.target),b=n||M||uf,{connection:C,isValid:A}=Y0({nodeId:h,id:S,type:e},T,N.nodeId,N.handleId||null,N.type,b,z);A&&E(C),O==null||O(R),w.setState({connectionClickStartHandle:null})};return I.createElement("div",{"data-handleid":S,"data-nodeid":h,"data-handlepos":t,"data-id":`${h}-${S}-${e}`,className:Le(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",v,u,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,connecting:k,connectionindicator:r&&(i&&!y||o&&y)}]),onMouseDown:_,onTouchStart:_,onClick:m?j:void 0,ref:p,...f},a)});G0.displayName="Handle";var Wr=$.memo(G0);const Q0=({data:e,isConnectable:t,targetPosition:n=G.Top,sourcePosition:r=G.Bottom})=>I.createElement(I.Fragment,null,I.createElement(Wr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,I.createElement(Wr,{type:"source",position:r,isConnectable:t}));Q0.displayName="DefaultNode";var Qa=$.memo(Q0);const K0=({data:e,isConnectable:t,sourcePosition:n=G.Bottom})=>I.createElement(I.Fragment,null,e==null?void 0:e.label,I.createElement(Wr,{type:"source",position:n,isConnectable:t}));K0.displayName="InputNode";var Z0=$.memo(K0);const q0=({data:e,isConnectable:t,targetPosition:n=G.Top})=>I.createElement(I.Fragment,null,I.createElement(Wr,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);q0.displayName="OutputNode";var J0=$.memo(q0);const ac=()=>null;ac.displayName="GroupNode";const uS=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Po=e=>e.id;function cS(e,t){return je(e.selectedNodes.map(Po),t.selectedNodes.map(Po))&&je(e.selectedEdges.map(Po),t.selectedEdges.map(Po))}const em=$.memo(({onSelectionChange:e})=>{const t=Me(),{selectedNodes:n,selectedEdges:r}=ce(uS,cS);return $.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});em.displayName="SelectionListener";const dS=e=>!!e.onSelectionChange;function fS({onSelectionChange:e}){const t=ce(dS);return e||t?I.createElement(em,{onSelectionChange:e}):null}const hS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ar(e,t){$.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function ee(e,t,n){$.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const pS=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:l,onClickConnectEnd:a,nodesDraggable:u,nodesConnectable:c,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:p,elevateNodesOnSelect:S,minZoom:g,maxZoom:w,nodeExtent:h,onNodesChange:m,onEdgesChange:v,elementsSelectable:y,connectionMode:k,snapGrid:E,snapToGrid:_,translateExtent:j,connectOnClick:P,defaultEdgeOptions:D,fitView:R,fitViewOptions:H,onNodesDelete:O,onEdgesDelete:N,onNodeDrag:T,onNodeDragStart:M,onNodeDragStop:z,onSelectionDrag:b,onSelectionDragStart:C,onSelectionDragStop:A,noPanClassName:F,nodeOrigin:L,rfId:B,autoPanOnConnect:V,autoPanOnNodeDrag:Y,onError:Q,connectionRadius:Z,isValidConnection:oe,nodeDragThreshold:ne})=>{const{setNodes:re,setEdges:Se,setDefaultNodesAndEdges:ke,setMinZoom:Pe,setMaxZoom:Te,setTranslateExtent:pe,setNodeExtent:Fe,reset:se}=ce(hS,je),X=Me();return $.useEffect(()=>{const Ae=r==null?void 0:r.map(K=>({...K,...D}));return ke(n,Ae),()=>{se()}},[]),ee("defaultEdgeOptions",D,X.setState),ee("connectionMode",k,X.setState),ee("onConnect",i,X.setState),ee("onConnectStart",o,X.setState),ee("onConnectEnd",s,X.setState),ee("onClickConnectStart",l,X.setState),ee("onClickConnectEnd",a,X.setState),ee("nodesDraggable",u,X.setState),ee("nodesConnectable",c,X.setState),ee("nodesFocusable",d,X.setState),ee("edgesFocusable",f,X.setState),ee("edgesUpdatable",p,X.setState),ee("elementsSelectable",y,X.setState),ee("elevateNodesOnSelect",S,X.setState),ee("snapToGrid",_,X.setState),ee("snapGrid",E,X.setState),ee("onNodesChange",m,X.setState),ee("onEdgesChange",v,X.setState),ee("connectOnClick",P,X.setState),ee("fitViewOnInit",R,X.setState),ee("fitViewOnInitOptions",H,X.setState),ee("onNodesDelete",O,X.setState),ee("onEdgesDelete",N,X.setState),ee("onNodeDrag",T,X.setState),ee("onNodeDragStart",M,X.setState),ee("onNodeDragStop",z,X.setState),ee("onSelectionDrag",b,X.setState),ee("onSelectionDragStart",C,X.setState),ee("onSelectionDragStop",A,X.setState),ee("noPanClassName",F,X.setState),ee("nodeOrigin",L,X.setState),ee("rfId",B,X.setState),ee("autoPanOnConnect",V,X.setState),ee("autoPanOnNodeDrag",Y,X.setState),ee("onError",Q,X.setState),ee("connectionRadius",Z,X.setState),ee("isValidConnection",oe,X.setState),ee("nodeDragThreshold",ne,X.setState),ar(e,re),ar(t,Se),ar(g,Pe),ar(w,Te),ar(j,pe),ar(h,Fe),null},cf={display:"none"},mS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},tm="react-flow__node-desc",nm="react-flow__edge-desc",gS="react-flow__aria-live",yS=e=>e.ariaLiveMessage;function vS({rfId:e}){const t=ce(yS);return I.createElement("div",{id:`${gS}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:mS},t)}function xS({rfId:e,disableKeyboardA11y:t}){return I.createElement(I.Fragment,null,I.createElement("div",{id:`${tm}-${e}`,style:cf},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),I.createElement("div",{id:`${nm}-${e}`,style:cf},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&I.createElement(vS,{rfId:e}))}var qi=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=$.useState(!1),i=$.useRef(!1),o=$.useRef(new Set([])),[s,l]=$.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),c=u.reduce((d,f)=>d.concat(...f),[]);return[u,c]}return[[],[]]},[e]);return $.useEffect(()=>{const a=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||a;if(e!==null){const c=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&Wa(p))return!1;const g=ff(p.code,l);o.current.add(p[g]),df(s,o.current,!1)&&(p.preventDefault(),r(!0))},d=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Wa(p))return!1;const g=ff(p.code,l);df(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[g]),p.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return u==null||u.addEventListener("keydown",c),u==null||u.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{u==null||u.removeEventListener("keydown",c),u==null||u.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function df(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function ff(e,t){return t.includes(e)?"code":"key"}function rm(e,t,n,r){var l,a;const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),s=Gn(o,r);return rm(o,t,{x:(n.x??0)+s.x,y:(n.y??0)+s.y,z:(((l=o[we])==null?void 0:l.z)??0)>(n.z??0)?((a=o[we])==null?void 0:a.z)??0:n.z??0},r)}function im(e,t,n){e.forEach(r=>{var o;const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n!=null&&n[r.id]){const{x:s,y:l,z:a}=rm(r,e,{...r.position,z:((o=r[we])==null?void 0:o.z)??0},t);r.positionAbsolute={x:s,y:l},r[we].z=a,n!=null&&n[r.id]&&(r[we].isParent=!0)}})}function Ll(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(l=>{var p;const a=(gt(l.zIndex)?l.zIndex:0)+(l.selected?s:0),u=t.get(l.id),c={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},d=l.parentNode||l.parentId;d&&(o[d]=!0);const f=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(c,we,{enumerable:!1,value:{handleBounds:f||(p=u==null?void 0:u[we])==null?void 0:p.handleBounds,z:a}}),i.set(l.id,c)}),im(i,n,o),i}function om(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:l,d3Selection:a,fitViewOnInitDone:u,fitViewOnInit:c,nodeOrigin:d}=e(),f=t.initial&&!u&&c;if(l&&a&&(f||!t.initial)){const S=n().filter(w=>{var m;const h=t.includeHiddenNodes?w.width&&w.height:!w.hidden;return(m=t.nodes)!=null&&m.length?h&&t.nodes.some(v=>v.id===w.id):h}),g=S.every(w=>w.width&&w.height);if(S.length>0&&g){const w=tl(S,d),{x:h,y:m,zoom:v}=B0(w,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),y=Gt.translate(h,m).scale(v);return typeof t.duration=="number"&&t.duration>0?l.transform(Fn(a,t.duration),y):l.transform(a,y),!0}}return!1}function wS(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[we]:r[we],selected:n.selected})}),new Map(t)}function SS(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Ao({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:l,hasDefaultNodes:a,hasDefaultEdges:u}=n();e!=null&&e.length&&(a&&r({nodeInternals:wS(e,i)}),s==null||s(e)),t!=null&&t.length&&(u&&r({edges:SS(t,o)}),l==null||l(t))}const ur=()=>{},kS={zoomIn:ur,zoomOut:ur,zoomTo:ur,getZoom:()=>1,setViewport:ur,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:ur,fitBounds:ur,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},NS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),ES=()=>{const e=Me(),{d3Zoom:t,d3Selection:n}=ce(NS,je);return $.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(Fn(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(Fn(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(Fn(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,l,a]=e.getState().transform,u=Gt.translate(i.x??s,i.y??l).scale(i.zoom??a);t.transform(Fn(n,o==null?void 0:o.duration),u)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>om(e.getState,i),setCenter:(i,o,s)=>{const{width:l,height:a,maxZoom:u}=e.getState(),c=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:u,d=l/2-i*c,f=a/2-o*c,p=Gt.translate(d,f).scale(c);t.transform(Fn(n,s==null?void 0:s.duration),p)},fitBounds:(i,o)=>{const{width:s,height:l,minZoom:a,maxZoom:u}=e.getState(),{x:c,y:d,zoom:f}=B0(i,s,l,a,u,(o==null?void 0:o.padding)??.1),p=Gt.translate(c,d).scale(f);t.transform(Fn(n,o==null?void 0:o.duration),p)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Ga(i,o,s,l)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:l,domNode:a}=e.getState();if(!a)return i;const{x:u,y:c}=a.getBoundingClientRect(),d={x:i.x-u,y:i.y-c};return Ga(d,o,s,l)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:l,y:a}=s.getBoundingClientRect(),u=H0(i,o);return{x:u.x+l,y:u.y+a}},viewportInitialized:!0}:kS,[t,n])};function nl(){const e=ES(),t=Me(),n=$.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=$.useCallback(g=>t.getState().nodeInternals.get(g),[]),i=$.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(w=>({...w}))},[]),o=$.useCallback(g=>{const{edges:w=[]}=t.getState();return w.find(h=>h.id===g)},[]),s=$.useCallback(g=>{const{getNodes:w,setNodes:h,hasDefaultNodes:m,onNodesChange:v}=t.getState(),y=w(),k=typeof g=="function"?g(y):g;if(m)h(k);else if(v){const E=k.length===0?y.map(_=>({type:"remove",id:_.id})):k.map(_=>({item:_,type:"reset"}));v(E)}},[]),l=$.useCallback(g=>{const{edges:w=[],setEdges:h,hasDefaultEdges:m,onEdgesChange:v}=t.getState(),y=typeof g=="function"?g(w):g;if(m)h(y);else if(v){const k=y.length===0?w.map(E=>({type:"remove",id:E.id})):y.map(E=>({item:E,type:"reset"}));v(k)}},[]),a=$.useCallback(g=>{const w=Array.isArray(g)?g:[g],{getNodes:h,setNodes:m,hasDefaultNodes:v,onNodesChange:y}=t.getState();if(v){const E=[...h(),...w];m(E)}else if(y){const k=w.map(E=>({item:E,type:"add"}));y(k)}},[]),u=$.useCallback(g=>{const w=Array.isArray(g)?g:[g],{edges:h=[],setEdges:m,hasDefaultEdges:v,onEdgesChange:y}=t.getState();if(v)m([...h,...w]);else if(y){const k=w.map(E=>({item:E,type:"add"}));y(k)}},[]),c=$.useCallback(()=>{const{getNodes:g,edges:w=[],transform:h}=t.getState(),[m,v,y]=h;return{nodes:g().map(k=>({...k})),edges:w.map(k=>({...k})),viewport:{x:m,y:v,zoom:y}}},[]),d=$.useCallback(({nodes:g,edges:w})=>{const{nodeInternals:h,getNodes:m,edges:v,hasDefaultNodes:y,hasDefaultEdges:k,onNodesDelete:E,onEdgesDelete:_,onNodesChange:j,onEdgesChange:P}=t.getState(),D=(g||[]).map(T=>T.id),R=(w||[]).map(T=>T.id),H=m().reduce((T,M)=>{const z=M.parentNode||M.parentId,b=!D.includes(M.id)&&z&&T.find(A=>A.id===z);return(typeof M.deletable=="boolean"?M.deletable:!0)&&(D.includes(M.id)||b)&&T.push(M),T},[]),O=v.filter(T=>typeof T.deletable=="boolean"?T.deletable:!0),N=O.filter(T=>R.includes(T.id));if(H||N){const T=V0(H,O),M=[...N,...T],z=M.reduce((b,C)=>(b.includes(C.id)||b.push(C.id),b),[]);if((k||y)&&(k&&t.setState({edges:v.filter(b=>!z.includes(b.id))}),y&&(H.forEach(b=>{h.delete(b.id)}),t.setState({nodeInternals:new Map(h)}))),z.length>0&&(_==null||_(M),P&&P(z.map(b=>({id:b,type:"remove"})))),H.length>0&&(E==null||E(H),j)){const b=H.map(C=>({id:C.id,type:"remove"}));j(b)}}},[]),f=$.useCallback(g=>{const w=W2(g),h=w?null:t.getState().nodeInternals.get(g.id);return!w&&!h?[null,null,w]:[w?g:nf(h),h,w]},[]),p=$.useCallback((g,w=!0,h)=>{const[m,v,y]=f(g);return m?(h||t.getState().getNodes()).filter(k=>{if(!y&&(k.id===v.id||!k.positionAbsolute))return!1;const E=nf(k),_=Ba(E,m);return w&&_>0||_>=m.width*m.height}):[]},[]),S=$.useCallback((g,w,h=!0)=>{const[m]=f(g);if(!m)return!1;const v=Ba(m,w);return h&&v>0||v>=m.width*m.height},[]);return $.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:l,addNodes:a,addEdges:u,toObject:c,deleteElements:d,getIntersectingNodes:p,isNodeIntersecting:S}),[e,n,r,i,o,s,l,a,u,c,d,p,S])}const _S={actInsideInputWithModifier:!1};var CS=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Me(),{deleteElements:r}=nl(),i=qi(e,_S),o=qi(t);$.useEffect(()=>{if(i){const{edges:s,getNodes:l}=n.getState(),a=l().filter(c=>c.selected),u=s.filter(c=>c.selected);r({nodes:a,edges:u}),n.setState({nodesSelectionActive:!1})}},[i]),$.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function MS(e){const t=Me();$.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=tc(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",en.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const uc={position:"absolute",width:"100%",height:"100%",top:0,left:0},TS=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Do=e=>({x:e.x,y:e.y,zoom:e.k}),cr=(e,t)=>e.target.closest(`.${t}`),hf=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),pf=e=>{const t=e.ctrlKey&&Ts()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},bS=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),$S=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:l=.5,panOnScrollMode:a=Bn.Free,zoomOnDoubleClick:u=!0,elementsSelectable:c,panOnDrag:d=!0,defaultViewport:f,translateExtent:p,minZoom:S,maxZoom:g,zoomActivationKeyCode:w,preventScrolling:h=!0,children:m,noWheelClassName:v,noPanClassName:y})=>{const k=$.useRef(),E=Me(),_=$.useRef(!1),j=$.useRef(!1),P=$.useRef(null),D=$.useRef({x:0,y:0,zoom:0}),{d3Zoom:R,d3Selection:H,d3ZoomHandler:O,userSelectionActive:N}=ce(bS,je),T=qi(w),M=$.useRef(0),z=$.useRef(!1),b=$.useRef();return MS(P),$.useEffect(()=>{if(P.current){const C=P.current.getBoundingClientRect(),A=T0().scaleExtent([S,g]).translateExtent(p),F=pt(P.current).call(A),L=Gt.translate(f.x,f.y).scale(Br(f.zoom,S,g)),B=[[0,0],[C.width,C.height]],V=A.constrain()(L,B,p);A.transform(F,V),A.wheelDelta(pf),E.setState({d3Zoom:A,d3Selection:F,d3ZoomHandler:F.on("wheel.zoom"),transform:[V.x,V.y,V.k],domNode:P.current.closest(".react-flow")})}},[]),$.useEffect(()=>{H&&R&&(s&&!T&&!N?H.on("wheel.zoom",C=>{if(cr(C,v))return!1;C.preventDefault(),C.stopImmediatePropagation();const A=H.property("__zoom").k||1;if(C.ctrlKey&&o){const oe=_t(C),ne=pf(C),re=A*Math.pow(2,ne);R.scaleTo(H,re,oe,C);return}const F=C.deltaMode===1?20:1;let L=a===Bn.Vertical?0:C.deltaX*F,B=a===Bn.Horizontal?0:C.deltaY*F;!Ts()&&C.shiftKey&&a!==Bn.Vertical&&(L=C.deltaY*F,B=0),R.translateBy(H,-(L/A)*l,-(B/A)*l,{internal:!0});const V=Do(H.property("__zoom")),{onViewportChangeStart:Y,onViewportChange:Q,onViewportChangeEnd:Z}=E.getState();clearTimeout(b.current),z.current||(z.current=!0,t==null||t(C,V),Y==null||Y(V)),z.current&&(e==null||e(C,V),Q==null||Q(V),b.current=setTimeout(()=>{n==null||n(C,V),Z==null||Z(V),z.current=!1},150))},{passive:!1}):typeof O<"u"&&H.on("wheel.zoom",function(C,A){if(!h&&C.type==="wheel"&&!C.ctrlKey||cr(C,v))return null;C.preventDefault(),O.call(this,C,A)},{passive:!1}))},[N,s,a,H,R,O,T,o,h,v,t,e,n]),$.useEffect(()=>{R&&R.on("start",C=>{var L,B;if(!C.sourceEvent||C.sourceEvent.internal)return null;M.current=(L=C.sourceEvent)==null?void 0:L.button;const{onViewportChangeStart:A}=E.getState(),F=Do(C.transform);_.current=!0,D.current=F,((B=C.sourceEvent)==null?void 0:B.type)==="mousedown"&&E.setState({paneDragging:!0}),A==null||A(F),t==null||t(C.sourceEvent,F)})},[R,t]),$.useEffect(()=>{R&&(N&&!_.current?R.on("zoom",null):N||R.on("zoom",C=>{var F;const{onViewportChange:A}=E.getState();if(E.setState({transform:[C.transform.x,C.transform.y,C.transform.k]}),j.current=!!(r&&hf(d,M.current??0)),(e||A)&&!((F=C.sourceEvent)!=null&&F.internal)){const L=Do(C.transform);A==null||A(L),e==null||e(C.sourceEvent,L)}}))},[N,R,e,d,r]),$.useEffect(()=>{R&&R.on("end",C=>{if(!C.sourceEvent||C.sourceEvent.internal)return null;const{onViewportChangeEnd:A}=E.getState();if(_.current=!1,E.setState({paneDragging:!1}),r&&hf(d,M.current??0)&&!j.current&&r(C.sourceEvent),j.current=!1,(n||A)&&TS(D.current,C.transform)){const F=Do(C.transform);D.current=F,clearTimeout(k.current),k.current=setTimeout(()=>{A==null||A(F),n==null||n(C.sourceEvent,F)},s?150:0)}})},[R,s,d,n,r]),$.useEffect(()=>{R&&R.filter(C=>{const A=T||i,F=o&&C.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&C.button===1&&C.type==="mousedown"&&(cr(C,"react-flow__node")||cr(C,"react-flow__edge")))return!0;if(!d&&!A&&!s&&!u&&!o||N||!u&&C.type==="dblclick"||cr(C,v)&&C.type==="wheel"||cr(C,y)&&(C.type!=="wheel"||s&&C.type==="wheel"&&!T)||!o&&C.ctrlKey&&C.type==="wheel"||!A&&!s&&!F&&C.type==="wheel"||!d&&(C.type==="mousedown"||C.type==="touchstart")||Array.isArray(d)&&!d.includes(C.button)&&C.type==="mousedown")return!1;const L=Array.isArray(d)&&d.includes(C.button)||!C.button||C.button<=1;return(!C.ctrlKey||C.type==="wheel")&&L})},[N,R,i,o,s,u,d,c,T]),I.createElement("div",{className:"react-flow__renderer",ref:P,style:uc},m)},jS=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function PS(){const{userSelectionActive:e,userSelectionRect:t}=ce(jS,je);return e&&t?I.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function mf(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const s=Math.abs(t.position.x);r.position.x=r.position.x-s,r.style.width+=s,t.position.x=0}if(t.position.y<0){const s=Math.abs(t.position.y);r.position.y=r.position.y-s,r.style.height+=s,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function sm(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(l=>l.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const l of o)if(l)switch(l.type){case"select":{s.selected=l.selected;break}case"position":{typeof l.position<"u"&&(s.position=l.position),typeof l.positionAbsolute<"u"&&(s.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(s.dragging=l.dragging),s.expandParent&&mf(r,s);break}case"dimensions":{typeof l.dimensions<"u"&&(s.width=l.dimensions.width,s.height=l.dimensions.height),typeof l.updateStyle<"u"&&(s.style={...s.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(s.resizing=l.resizing),s.expandParent&&mf(r,s);break}case"remove":return r}return r.push(s),r},n)}function lm(e,t){return sm(e,t)}function AS(e,t){return sm(e,t)}const un=(e,t)=>({id:e,type:"select",selected:t});function Er(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(un(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(un(r.id,!1))),n},[])}const Fl=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},DS=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),am=$.memo(({isSelecting:e,selectionMode:t=Zi.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:l,onPaneMouseEnter:a,onPaneMouseMove:u,onPaneMouseLeave:c,children:d})=>{const f=$.useRef(null),p=Me(),S=$.useRef(0),g=$.useRef(0),w=$.useRef(),{userSelectionActive:h,elementsSelectable:m,dragging:v}=ce(DS,je),y=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),S.current=0,g.current=0},k=O=>{o==null||o(O),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},E=O=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){O.preventDefault();return}s==null||s(O)},_=l?O=>l(O):void 0,j=O=>{const{resetSelectedElements:N,domNode:T}=p.getState();if(w.current=T==null?void 0:T.getBoundingClientRect(),!m||!e||O.button!==0||O.target!==f.current||!w.current)return;const{x:M,y:z}=En(O,w.current);N(),p.setState({userSelectionRect:{width:0,height:0,startX:M,startY:z,x:M,y:z}}),r==null||r(O)},P=O=>{const{userSelectionRect:N,nodeInternals:T,edges:M,transform:z,onNodesChange:b,onEdgesChange:C,nodeOrigin:A,getNodes:F}=p.getState();if(!e||!w.current||!N)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const L=En(O,w.current),B=N.startX??0,V=N.startY??0,Y={...N,x:L.x<B?L.x:B,y:L.y<V?L.y:V,width:Math.abs(L.x-B),height:Math.abs(L.y-V)},Q=F(),Z=U0(T,Y,z,t===Zi.Partial,!0,A),oe=V0(Z,M).map(re=>re.id),ne=Z.map(re=>re.id);if(S.current!==ne.length){S.current=ne.length;const re=Er(Q,ne);re.length&&(b==null||b(re))}if(g.current!==oe.length){g.current=oe.length;const re=Er(M,oe);re.length&&(C==null||C(re))}p.setState({userSelectionRect:Y})},D=O=>{if(O.button!==0)return;const{userSelectionRect:N}=p.getState();!h&&N&&O.target===f.current&&(k==null||k(O)),p.setState({nodesSelectionActive:S.current>0}),y(),i==null||i(O)},R=O=>{h&&(p.setState({nodesSelectionActive:S.current>0}),i==null||i(O)),y()},H=m&&(e||h);return I.createElement("div",{className:Le(["react-flow__pane",{dragging:v,selection:e}]),onClick:H?void 0:Fl(k,f),onContextMenu:Fl(E,f),onWheel:Fl(_,f),onMouseEnter:H?void 0:a,onMouseDown:H?j:void 0,onMouseMove:H?P:u,onMouseUp:H?D:void 0,onMouseLeave:H?R:c,ref:f,style:uc},d,I.createElement(PS,null))});am.displayName="Pane";function um(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:um(r,t):!1}function gf(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function zS(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!um(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}})}function IS(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function cm(e,t,n,r,i=[0,0],o){const s=IS(e,e.extent||r);let l=s;const a=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(a&&e.width&&e.height){const d=n.get(a),{x:f,y:p}=Gn(d,i).positionAbsolute;l=d&&gt(f)&&gt(p)&&gt(d.width)&&gt(d.height)?[[f+e.width*i[0],p+e.height*i[1]],[f+d.width-e.width+e.width*i[0],p+d.height-e.height+e.height*i[1]]]:l}else o==null||o("005",en.error005()),l=s;else if(e.extent&&a&&e.extent!=="parent"){const d=n.get(a),{x:f,y:p}=Gn(d,i).positionAbsolute;l=[[e.extent[0][0]+f,e.extent[0][1]+p],[e.extent[1][0]+f,e.extent[1][1]+p]]}let u={x:0,y:0};if(a){const d=n.get(a);u=Gn(d,i).positionAbsolute}const c=l&&l!=="parent"?nc(t,l):t;return{position:{x:c.x-u.x,y:c.y-u.y},positionAbsolute:c}}function Ol({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const yf=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),l={x:s.width*r[0],y:s.height*r[1]};return o.map(a=>{const u=a.getBoundingClientRect();return{id:a.getAttribute("data-handleid"),position:a.getAttribute("data-handlepos"),x:(u.left-s.left-l.x)/n,y:(u.top-s.top-l.y)/n,...tc(a)}})};function ui(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Ka({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:l,onError:a}=t.getState(),u=l.get(e);if(!u){a==null||a("012",en.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var c;return(c=r==null?void 0:r.current)==null?void 0:c.blur()})):i([e])}function RS(){const e=Me();return $.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,l=n.touches?n.touches[0].clientY:n.clientY,a={x:(s-r[0])/r[2],y:(l-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(a.x/i[0]):a.x,ySnapped:o?i[1]*Math.round(a.y/i[1]):a.y,...a}},[])}function Hl(e){return(t,n,r)=>e==null?void 0:e(t,r)}function dm({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const l=Me(),[a,u]=$.useState(!1),c=$.useRef([]),d=$.useRef({x:null,y:null}),f=$.useRef(0),p=$.useRef(null),S=$.useRef({x:0,y:0}),g=$.useRef(null),w=$.useRef(!1),h=$.useRef(!1),m=$.useRef(!1),v=RS();return $.useEffect(()=>{if(e!=null&&e.current){const y=pt(e.current),k=({x:j,y:P})=>{const{nodeInternals:D,onNodeDrag:R,onSelectionDrag:H,updateNodePositions:O,nodeExtent:N,snapGrid:T,snapToGrid:M,nodeOrigin:z,onError:b}=l.getState();d.current={x:j,y:P};let C=!1,A={x:0,y:0,x2:0,y2:0};if(c.current.length>1&&N){const L=tl(c.current,z);A=Ki(L)}if(c.current=c.current.map(L=>{const B={x:j-L.distance.x,y:P-L.distance.y};M&&(B.x=T[0]*Math.round(B.x/T[0]),B.y=T[1]*Math.round(B.y/T[1]));const V=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];c.current.length>1&&N&&!L.extent&&(V[0][0]=L.positionAbsolute.x-A.x+N[0][0],V[1][0]=L.positionAbsolute.x+(L.width??0)-A.x2+N[1][0],V[0][1]=L.positionAbsolute.y-A.y+N[0][1],V[1][1]=L.positionAbsolute.y+(L.height??0)-A.y2+N[1][1]);const Y=cm(L,B,D,V,z,b);return C=C||L.position.x!==Y.position.x||L.position.y!==Y.position.y,L.position=Y.position,L.positionAbsolute=Y.positionAbsolute,L}),!C)return;O(c.current,!0,!0),u(!0);const F=i?R:Hl(H);if(F&&g.current){const[L,B]=Ol({nodeId:i,dragItems:c.current,nodeInternals:D});F(g.current,L,B)}},E=()=>{if(!p.current)return;const[j,P]=$0(S.current,p.current);if(j!==0||P!==0){const{transform:D,panBy:R}=l.getState();d.current.x=(d.current.x??0)-j/D[2],d.current.y=(d.current.y??0)-P/D[2],R({x:j,y:P})&&k(d.current)}f.current=requestAnimationFrame(E)},_=j=>{var z;const{nodeInternals:P,multiSelectionActive:D,nodesDraggable:R,unselectNodesAndEdges:H,onNodeDragStart:O,onSelectionDragStart:N}=l.getState();h.current=!0;const T=i?O:Hl(N);(!s||!o)&&!D&&i&&((z=P.get(i))!=null&&z.selected||H()),i&&o&&s&&Ka({id:i,store:l,nodeRef:e});const M=v(j);if(d.current=M,c.current=zS(P,R,M,i),T&&c.current){const[b,C]=Ol({nodeId:i,dragItems:c.current,nodeInternals:P});T(j.sourceEvent,b,C)}};if(t)y.on(".drag",null);else{const j=Q1().on("start",P=>{const{domNode:D,nodeDragThreshold:R}=l.getState();R===0&&_(P),m.current=!1;const H=v(P);d.current=H,p.current=(D==null?void 0:D.getBoundingClientRect())||null,S.current=En(P.sourceEvent,p.current)}).on("drag",P=>{var O,N;const D=v(P),{autoPanOnNodeDrag:R,nodeDragThreshold:H}=l.getState();if(P.sourceEvent.type==="touchmove"&&P.sourceEvent.touches.length>1&&(m.current=!0),!m.current){if(!w.current&&h.current&&R&&(w.current=!0,E()),!h.current){const T=D.xSnapped-(((O=d==null?void 0:d.current)==null?void 0:O.x)??0),M=D.ySnapped-(((N=d==null?void 0:d.current)==null?void 0:N.y)??0);Math.sqrt(T*T+M*M)>H&&_(P)}(d.current.x!==D.xSnapped||d.current.y!==D.ySnapped)&&c.current&&h.current&&(g.current=P.sourceEvent,S.current=En(P.sourceEvent,p.current),k(D))}}).on("end",P=>{if(!(!h.current||m.current)&&(u(!1),w.current=!1,h.current=!1,cancelAnimationFrame(f.current),c.current)){const{updateNodePositions:D,nodeInternals:R,onNodeDragStop:H,onSelectionDragStop:O}=l.getState(),N=i?H:Hl(O);if(D(c.current,!1,!1),N){const[T,M]=Ol({nodeId:i,dragItems:c.current,nodeInternals:R});N(P.sourceEvent,T,M)}}}).filter(P=>{const D=P.target;return!P.button&&(!n||!gf(D,`.${n}`,e))&&(!r||gf(D,r,e))});return y.call(j),()=>{y.on(".drag",null)}}}},[e,t,n,r,o,l,i,s,v]),a}function fm(){const e=Me();return $.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:l,snapGrid:a,onError:u,nodesDraggable:c}=e.getState(),d=s().filter(m=>m.selected&&(m.draggable||c&&typeof m.draggable>"u")),f=l?a[0]:5,p=l?a[1]:5,S=n.isShiftPressed?4:1,g=n.x*f*S,w=n.y*p*S,h=d.map(m=>{if(m.positionAbsolute){const v={x:m.positionAbsolute.x+g,y:m.positionAbsolute.y+w};l&&(v.x=a[0]*Math.round(v.x/a[0]),v.y=a[1]*Math.round(v.y/a[1]));const{positionAbsolute:y,position:k}=cm(m,v,r,i,void 0,u);m.position=k,m.positionAbsolute=y}return m});o(h,!0,!1)},[])}const Ar={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ci=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:l,yPosOrigin:a,selected:u,onClick:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:p,onContextMenu:S,onDoubleClick:g,style:w,className:h,isDraggable:m,isSelectable:v,isConnectable:y,isFocusable:k,selectNodesOnDrag:E,sourcePosition:_,targetPosition:j,hidden:P,resizeObserver:D,dragHandle:R,zIndex:H,isParent:O,noDragClassName:N,noPanClassName:T,initialized:M,disableKeyboardA11y:z,ariaLabel:b,rfId:C,hasHandleBounds:A})=>{const F=Me(),L=$.useRef(null),B=$.useRef(null),V=$.useRef(_),Y=$.useRef(j),Q=$.useRef(r),Z=v||m||c||d||f||p,oe=fm(),ne=ui(n,F.getState,d),re=ui(n,F.getState,f),Se=ui(n,F.getState,p),ke=ui(n,F.getState,S),Pe=ui(n,F.getState,g),Te=se=>{const{nodeDragThreshold:X}=F.getState();if(v&&(!E||!m||X>0)&&Ka({id:n,store:F,nodeRef:L}),c){const Ae=F.getState().nodeInternals.get(n);Ae&&c(se,{...Ae})}},pe=se=>{if(!Wa(se)&&!z)if(D0.includes(se.key)&&v){const X=se.key==="Escape";Ka({id:n,store:F,unselect:X,nodeRef:L})}else m&&u&&Object.prototype.hasOwnProperty.call(Ar,se.key)&&(F.setState({ariaLiveMessage:`Moved selected node ${se.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),oe({x:Ar[se.key].x,y:Ar[se.key].y,isShiftPressed:se.shiftKey}))};$.useEffect(()=>()=>{B.current&&(D==null||D.unobserve(B.current),B.current=null)},[]),$.useEffect(()=>{if(L.current&&!P){const se=L.current;(!M||!A||B.current!==se)&&(B.current&&(D==null||D.unobserve(B.current)),D==null||D.observe(se),B.current=se)}},[P,M,A]),$.useEffect(()=>{const se=Q.current!==r,X=V.current!==_,Ae=Y.current!==j;L.current&&(se||X||Ae)&&(se&&(Q.current=r),X&&(V.current=_),Ae&&(Y.current=j),F.getState().updateNodeDimensions([{id:n,nodeElement:L.current,forceUpdate:!0}]))},[n,r,_,j]);const Fe=dm({nodeRef:L,disabled:P||!m,noDragClassName:N,handleSelector:R,nodeId:n,isSelectable:v,selectNodesOnDrag:E});return P?null:I.createElement("div",{className:Le(["react-flow__node",`react-flow__node-${r}`,{[T]:m},h,{selected:u,selectable:v,parent:O,dragging:Fe}]),ref:L,style:{zIndex:H,transform:`translate(${l}px,${a}px)`,pointerEvents:Z?"all":"none",visibility:M?"visible":"hidden",...w},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:ne,onMouseMove:re,onMouseLeave:Se,onContextMenu:ke,onClick:Te,onDoubleClick:Pe,onKeyDown:k?pe:void 0,tabIndex:k?0:void 0,role:k?"button":void 0,"aria-describedby":z?void 0:`${tm}-${C}`,"aria-label":b},I.createElement(q2,{value:n},I.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:u,isConnectable:y,sourcePosition:_,targetPosition:j,dragging:Fe,dragHandle:R,zIndex:H})))};return t.displayName="NodeWrapper",$.memo(t)};const LS=e=>{const t=e.getNodes().filter(n=>n.selected);return{...tl(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function FS({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Me(),{width:i,height:o,x:s,y:l,transformString:a,userSelectionActive:u}=ce(LS,je),c=fm(),d=$.useRef(null);if($.useEffect(()=>{var S;n||(S=d.current)==null||S.focus({preventScroll:!0})},[n]),dm({nodeRef:d}),u||!i||!o)return null;const f=e?S=>{const g=r.getState().getNodes().filter(w=>w.selected);e(S,g)}:void 0,p=S=>{Object.prototype.hasOwnProperty.call(Ar,S.key)&&c({x:Ar[S.key].x,y:Ar[S.key].y,isShiftPressed:S.shiftKey})};return I.createElement("div",{className:Le(["react-flow__nodesselection","react-flow__container",t]),style:{transform:a}},I.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:p,style:{width:i,height:o,top:l,left:s}}))}var OS=$.memo(FS);const HS=e=>e.nodesSelectionActive,hm=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:l,onMove:a,onMoveStart:u,onMoveEnd:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:p,onSelectionStart:S,onSelectionEnd:g,multiSelectionKeyCode:w,panActivationKeyCode:h,zoomActivationKeyCode:m,elementsSelectable:v,zoomOnScroll:y,zoomOnPinch:k,panOnScroll:E,panOnScrollSpeed:_,panOnScrollMode:j,zoomOnDoubleClick:P,panOnDrag:D,defaultViewport:R,translateExtent:H,minZoom:O,maxZoom:N,preventScrolling:T,onSelectionContextMenu:M,noWheelClassName:z,noPanClassName:b,disableKeyboardA11y:C})=>{const A=ce(HS),F=qi(d),L=qi(h),B=L||D,V=L||E,Y=F||f&&B!==!0;return CS({deleteKeyCode:l,multiSelectionKeyCode:w}),I.createElement($S,{onMove:a,onMoveStart:u,onMoveEnd:c,onPaneContextMenu:o,elementsSelectable:v,zoomOnScroll:y,zoomOnPinch:k,panOnScroll:V,panOnScrollSpeed:_,panOnScrollMode:j,zoomOnDoubleClick:P,panOnDrag:!F&&B,defaultViewport:R,translateExtent:H,minZoom:O,maxZoom:N,zoomActivationKeyCode:m,preventScrolling:T,noWheelClassName:z,noPanClassName:b},I.createElement(am,{onSelectionStart:S,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:B,isSelecting:!!Y,selectionMode:p},e,A&&I.createElement(OS,{onSelectionContextMenu:M,noPanClassName:b,disableKeyboardA11y:C})))};hm.displayName="FlowRenderer";var US=$.memo(hm);function VS(e){return ce($.useCallback(n=>e?U0(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function BS(e){const t={input:ci(e.input||Z0),default:ci(e.default||Qa),output:ci(e.output||J0),group:ci(e.group||ac)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=ci(e[o]||Qa),i),n);return{...t,...r}}const WS=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},YS=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),pm=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=ce(YS,je),l=VS(e.onlyRenderVisibleElements),a=$.useRef(),u=$.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const c=new ResizeObserver(d=>{const f=d.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));o(f)});return a.current=c,c},[]);return $.useEffect(()=>()=>{var c;(c=a==null?void 0:a.current)==null||c.disconnect()},[]),I.createElement("div",{className:"react-flow__nodes",style:uc},l.map(c=>{var k,E,_;let d=c.type||"default";e.nodeTypes[d]||(s==null||s("003",en.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,p=!!(c.draggable||t&&typeof c.draggable>"u"),S=!!(c.selectable||i&&typeof c.selectable>"u"),g=!!(c.connectable||n&&typeof c.connectable>"u"),w=!!(c.focusable||r&&typeof c.focusable>"u"),h=e.nodeExtent?nc(c.positionAbsolute,e.nodeExtent):c.positionAbsolute,m=(h==null?void 0:h.x)??0,v=(h==null?void 0:h.y)??0,y=WS({x:m,y:v,width:c.width??0,height:c.height??0,origin:e.nodeOrigin});return I.createElement(f,{key:c.id,id:c.id,className:c.className,style:c.style,type:d,data:c.data,sourcePosition:c.sourcePosition||G.Bottom,targetPosition:c.targetPosition||G.Top,hidden:c.hidden,xPos:m,yPos:v,xPosOrigin:y.x,yPosOrigin:y.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!c.selected,isDraggable:p,isSelectable:S,isConnectable:g,isFocusable:w,resizeObserver:u,dragHandle:c.dragHandle,zIndex:((k=c[we])==null?void 0:k.z)??0,isParent:!!((E=c[we])!=null&&E.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!c.width&&!!c.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:c.ariaLabel,hasHandleBounds:!!((_=c[we])!=null&&_.handleBounds)})}))};pm.displayName="NodeRenderer";var XS=$.memo(pm);const GS=(e,t,n)=>n===G.Left?e-t:n===G.Right?e+t:e,QS=(e,t,n)=>n===G.Top?e-t:n===G.Bottom?e+t:e,vf="react-flow__edgeupdater",xf=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:l})=>I.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Le([vf,`${vf}-${l}`]),cx:GS(t,r,e),cy:QS(n,r,e),r,stroke:"transparent",fill:"transparent"}),KS=()=>!0;var dr=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:l,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:S,labelBgBorderRadius:g,style:w,source:h,target:m,sourceX:v,sourceY:y,targetX:k,targetY:E,sourcePosition:_,targetPosition:j,elementsSelectable:P,hidden:D,sourceHandleId:R,targetHandleId:H,onContextMenu:O,onMouseEnter:N,onMouseMove:T,onMouseLeave:M,reconnectRadius:z,onReconnect:b,onReconnectStart:C,onReconnectEnd:A,markerEnd:F,markerStart:L,rfId:B,ariaLabel:V,isFocusable:Y,isReconnectable:Q,pathOptions:Z,interactionWidth:oe,disableKeyboardA11y:ne})=>{const re=$.useRef(null),[Se,ke]=$.useState(!1),[Pe,Te]=$.useState(!1),pe=Me(),Fe=$.useMemo(()=>`url('#${Xa(L,B)}')`,[L,B]),se=$.useMemo(()=>`url('#${Xa(F,B)}')`,[F,B]);if(D)return null;const X=Oe=>{var Pt;const{edges:St,addSelectedEdges:An,unselectNodesAndEdges:Dn,multiSelectionActive:zn}=pe.getState(),Ot=St.find(Kr=>Kr.id===n);Ot&&(P&&(pe.setState({nodesSelectionActive:!1}),Ot.selected&&zn?(Dn({nodes:[],edges:[Ot]}),(Pt=re.current)==null||Pt.blur()):An([n])),s&&s(Oe,Ot))},Ae=ai(n,pe.getState,l),K=ai(n,pe.getState,O),q=ai(n,pe.getState,N),me=ai(n,pe.getState,T),qe=ai(n,pe.getState,M),De=(Oe,St)=>{if(Oe.button!==0)return;const{edges:An,isValidConnection:Dn}=pe.getState(),zn=St?m:h,Ot=(St?H:R)||null,Pt=St?"target":"source",Kr=Dn||KS,rl=St,Zr=An.find(In=>In.id===n);Te(!0),C==null||C(Oe,Zr,Pt);const il=In=>{Te(!1),A==null||A(In,Zr,Pt)};X0({event:Oe,handleId:Ot,nodeId:zn,onConnect:In=>b==null?void 0:b(Zr,In),isTarget:rl,getState:pe.getState,setState:pe.setState,isValidConnection:Kr,edgeUpdaterType:Pt,onReconnectEnd:il})},We=Oe=>De(Oe,!0),jn=Oe=>De(Oe,!1),Pn=()=>ke(!0),or=()=>ke(!1),sr=!P&&!s,Qr=Oe=>{var St;if(!ne&&D0.includes(Oe.key)&&P){const{unselectNodesAndEdges:An,addSelectedEdges:Dn,edges:zn}=pe.getState();Oe.key==="Escape"?((St=re.current)==null||St.blur(),An({edges:[zn.find(Pt=>Pt.id===n)]})):Dn([n])}};return I.createElement("g",{className:Le(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:a,animated:u,inactive:sr,updating:Se}]),onClick:X,onDoubleClick:Ae,onContextMenu:K,onMouseEnter:q,onMouseMove:me,onMouseLeave:qe,onKeyDown:Y?Qr:void 0,tabIndex:Y?0:void 0,role:Y?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":V===null?void 0:V||`Edge from ${h} to ${m}`,"aria-describedby":Y?`${nm}-${B}`:void 0,ref:re},!Pe&&I.createElement(e,{id:n,source:h,target:m,selected:a,animated:u,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:p,labelBgPadding:S,labelBgBorderRadius:g,data:o,style:w,sourceX:v,sourceY:y,targetX:k,targetY:E,sourcePosition:_,targetPosition:j,sourceHandleId:R,targetHandleId:H,markerStart:Fe,markerEnd:se,pathOptions:Z,interactionWidth:oe}),Q&&I.createElement(I.Fragment,null,(Q==="source"||Q===!0)&&I.createElement(xf,{position:_,centerX:v,centerY:y,radius:z,onMouseDown:We,onMouseEnter:Pn,onMouseOut:or,type:"source"}),(Q==="target"||Q===!0)&&I.createElement(xf,{position:j,centerX:k,centerY:E,radius:z,onMouseDown:jn,onMouseEnter:Pn,onMouseOut:or,type:"target"})))};return t.displayName="EdgeWrapper",$.memo(t)};function ZS(e){const t={default:dr(e.default||$s),straight:dr(e.bezier||oc),step:dr(e.step||ic),smoothstep:dr(e.step||el),simplebezier:dr(e.simplebezier||rc)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=dr(e[o]||$s),i),n);return{...t,...r}}function wf(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case G.Top:return{x:r+o/2,y:i};case G.Right:return{x:r+o,y:i+s/2};case G.Bottom:return{x:r+o/2,y:i+s};case G.Left:return{x:r,y:i+s/2}}}function Sf(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const qS=(e,t,n,r,i,o)=>{const s=wf(n,e,t),l=wf(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:l.x,targetY:l.y}};function JS({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:l,transform:a}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const c=Ki({x:(0-a[0])/a[2],y:(0-a[1])/a[2],width:s/a[2],height:l/a[2]}),d=Math.max(0,Math.min(c.x2,u.x2)-Math.max(c.x,u.x)),f=Math.max(0,Math.min(c.y2,u.y2)-Math.max(c.y,u.y));return Math.ceil(d*f)>0}function kf(e){var r,i,o,s,l;const t=((r=e==null?void 0:e[we])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const ek=[{level:0,isMaxLevel:!0,edges:[]}];function tk(e,t,n=!1){let r=-1;const i=e.reduce((s,l)=>{var c,d;const a=gt(l.zIndex);let u=a?l.zIndex:0;if(n){const f=t.get(l.target),p=t.get(l.source),S=l.selected||(f==null?void 0:f.selected)||(p==null?void 0:p.selected),g=Math.max(((c=p==null?void 0:p[we])==null?void 0:c.z)||0,((d=f==null?void 0:f[we])==null?void 0:d.z)||0,1e3);u=(a?l.zIndex:0)+(S?g:0)}return s[u]?s[u].push(l):s[u]=[l],r=u>r?u:r,s},{}),o=Object.entries(i).map(([s,l])=>{const a=+s;return{edges:l,level:a,isMaxLevel:a===r}});return o.length===0?ek:o}function nk(e,t,n){const r=ce($.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),l=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&JS({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:l.width,targetHeight:l.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return tk(r,t,n)}const rk=({color:e="none",strokeWidth:t=1})=>I.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),ik=({color:e="none",strokeWidth:t=1})=>I.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Nf={[bs.Arrow]:rk,[bs.ArrowClosed]:ik};function ok(e){const t=Me();return $.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Nf,e)?Nf[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",en.error009(e)),null)},[e])}const sk=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:l="auto-start-reverse"})=>{const a=ok(t);return a?I.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:l,refX:"0",refY:"0"},I.createElement(a,{color:n,strokeWidth:s})):null},lk=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const l=Xa(s,t);r.includes(l)||(i.push({id:l,color:s.color||e,...s}),r.push(l))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},mm=({defaultColor:e,rfId:t})=>{const n=ce($.useCallback(lk({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return I.createElement("defs",null,n.map(r=>I.createElement(sk,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};mm.displayName="MarkerDefinitions";var ak=$.memo(mm);const uk=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),gm=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:s,onEdgeMouseEnter:l,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:S,reconnectRadius:g,children:w,disableKeyboardA11y:h})=>{const{edgesFocusable:m,edgesUpdatable:v,elementsSelectable:y,width:k,height:E,connectionMode:_,nodeInternals:j,onError:P}=ce(uk,je),D=nk(t,j,n);return k?I.createElement(I.Fragment,null,D.map(({level:R,edges:H,isMaxLevel:O})=>I.createElement("svg",{key:R,style:{zIndex:R},width:k,height:E,className:"react-flow__edges react-flow__container"},O&&I.createElement(ak,{defaultColor:e,rfId:r}),I.createElement("g",null,H.map(N=>{const[T,M,z]=kf(j.get(N.source)),[b,C,A]=kf(j.get(N.target));if(!z||!A)return null;let F=N.type||"default";i[F]||(P==null||P("011",en.error011(F)),F="default");const L=i[F]||i.default,B=_===nr.Strict?C.target:(C.target??[]).concat(C.source??[]),V=Sf(M.source,N.sourceHandle),Y=Sf(B,N.targetHandle),Q=(V==null?void 0:V.position)||G.Bottom,Z=(Y==null?void 0:Y.position)||G.Top,oe=!!(N.focusable||m&&typeof N.focusable>"u"),ne=N.reconnectable||N.updatable,re=typeof f<"u"&&(ne||v&&typeof ne>"u");if(!V||!Y)return P==null||P("008",en.error008(V,N)),null;const{sourceX:Se,sourceY:ke,targetX:Pe,targetY:Te}=qS(T,V,Q,b,Y,Z);return I.createElement(L,{key:N.id,id:N.id,className:Le([N.className,o]),type:F,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:Se,sourceY:ke,targetX:Pe,targetY:Te,sourcePosition:Q,targetPosition:Z,elementsSelectable:y,onContextMenu:s,onMouseEnter:l,onMouseMove:a,onMouseLeave:u,onClick:c,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:S,reconnectRadius:g,rfId:r,ariaLabel:N.ariaLabel,isFocusable:oe,isReconnectable:re,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:h})})))),w):null};gm.displayName="EdgeRenderer";var ck=$.memo(gm);const dk=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function fk({children:e}){const t=ce(dk);return I.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function hk(e){const t=nl(),n=$.useRef(!1);$.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const pk={[G.Left]:G.Right,[G.Right]:G.Left,[G.Top]:G.Bottom,[G.Bottom]:G.Top},ym=({nodeId:e,handleType:t,style:n,type:r=fn.Bezier,CustomComponent:i,connectionStatus:o})=>{var E,_,j;const{fromNode:s,handleId:l,toX:a,toY:u,connectionMode:c}=ce($.useCallback(P=>({fromNode:P.nodeInternals.get(e),handleId:P.connectionHandleId,toX:(P.connectionPosition.x-P.transform[0])/P.transform[2],toY:(P.connectionPosition.y-P.transform[1])/P.transform[2],connectionMode:P.connectionMode}),[e]),je),d=(E=s==null?void 0:s[we])==null?void 0:E.handleBounds;let f=d==null?void 0:d[t];if(c===nr.Loose&&(f=f||(d==null?void 0:d[t==="source"?"target":"source"])),!s||!f)return null;const p=l?f.find(P=>P.id===l):f[0],S=p?p.x+p.width/2:(s.width??0)/2,g=p?p.y+p.height/2:s.height??0,w=(((_=s.positionAbsolute)==null?void 0:_.x)??0)+S,h=(((j=s.positionAbsolute)==null?void 0:j.y)??0)+g,m=p==null?void 0:p.position,v=m?pk[m]:null;if(!m||!v)return null;if(i)return I.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:p,fromX:w,fromY:h,toX:a,toY:u,fromPosition:m,toPosition:v,connectionStatus:o});let y="";const k={sourceX:w,sourceY:h,sourcePosition:m,targetX:a,targetY:u,targetPosition:v};return r===fn.Bezier?[y]=F0(k):r===fn.Step?[y]=Ya({...k,borderRadius:0}):r===fn.SmoothStep?[y]=Ya(k):r===fn.SimpleBezier?[y]=L0(k):y=`M${w},${h} ${a},${u}`,I.createElement("path",{d:y,fill:"none",className:"react-flow__connection-path",style:n})};ym.displayName="ConnectionLine";const mk=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function gk({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:l,height:a,connectionStatus:u}=ce(mk,je);return!(i&&o&&l&&s)?null:I.createElement("svg",{style:e,width:l,height:a,className:"react-flow__edges react-flow__connectionline react-flow__container"},I.createElement("g",{className:Le(["react-flow__connection",u])},I.createElement(ym,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:u})))}function Ef(e,t){return $.useRef(null),Me(),$.useMemo(()=>t(e),[e])}const vm=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:l,onNodeDoubleClick:a,onEdgeDoubleClick:u,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:S,onSelectionStart:g,onSelectionEnd:w,connectionLineType:h,connectionLineStyle:m,connectionLineComponent:v,connectionLineContainerStyle:y,selectionKeyCode:k,selectionOnDrag:E,selectionMode:_,multiSelectionKeyCode:j,panActivationKeyCode:P,zoomActivationKeyCode:D,deleteKeyCode:R,onlyRenderVisibleElements:H,elementsSelectable:O,selectNodesOnDrag:N,defaultViewport:T,translateExtent:M,minZoom:z,maxZoom:b,preventScrolling:C,defaultMarkerColor:A,zoomOnScroll:F,zoomOnPinch:L,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:Y,zoomOnDoubleClick:Q,panOnDrag:Z,onPaneClick:oe,onPaneMouseEnter:ne,onPaneMouseMove:re,onPaneMouseLeave:Se,onPaneScroll:ke,onPaneContextMenu:Pe,onEdgeContextMenu:Te,onEdgeMouseEnter:pe,onEdgeMouseMove:Fe,onEdgeMouseLeave:se,onReconnect:X,onReconnectStart:Ae,onReconnectEnd:K,reconnectRadius:q,noDragClassName:me,noWheelClassName:qe,noPanClassName:De,elevateEdgesOnSelect:We,disableKeyboardA11y:jn,nodeOrigin:Pn,nodeExtent:or,rfId:sr})=>{const Qr=Ef(e,BS),Oe=Ef(t,ZS);return hk(o),I.createElement(US,{onPaneClick:oe,onPaneMouseEnter:ne,onPaneMouseMove:re,onPaneMouseLeave:Se,onPaneContextMenu:Pe,onPaneScroll:ke,deleteKeyCode:R,selectionKeyCode:k,selectionOnDrag:E,selectionMode:_,onSelectionStart:g,onSelectionEnd:w,multiSelectionKeyCode:j,panActivationKeyCode:P,zoomActivationKeyCode:D,elementsSelectable:O,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:F,zoomOnPinch:L,zoomOnDoubleClick:Q,panOnScroll:B,panOnScrollSpeed:V,panOnScrollMode:Y,panOnDrag:Z,defaultViewport:T,translateExtent:M,minZoom:z,maxZoom:b,onSelectionContextMenu:S,preventScrolling:C,noDragClassName:me,noWheelClassName:qe,noPanClassName:De,disableKeyboardA11y:jn},I.createElement(fk,null,I.createElement(ck,{edgeTypes:Oe,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:H,onEdgeContextMenu:Te,onEdgeMouseEnter:pe,onEdgeMouseMove:Fe,onEdgeMouseLeave:se,onReconnect:X,onReconnectStart:Ae,onReconnectEnd:K,reconnectRadius:q,defaultMarkerColor:A,noPanClassName:De,elevateEdgesOnSelect:!!We,disableKeyboardA11y:jn,rfId:sr},I.createElement(gk,{style:m,type:h,component:v,containerStyle:y})),I.createElement("div",{className:"react-flow__edgelabel-renderer"}),I.createElement(XS,{nodeTypes:Qr,onNodeClick:s,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,selectNodesOnDrag:N,onlyRenderVisibleElements:H,noPanClassName:De,noDragClassName:me,disableKeyboardA11y:jn,nodeOrigin:Pn,nodeExtent:or,rfId:sr})))};vm.displayName="GraphView";var yk=$.memo(vm);const Za=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],rn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Za,nodeExtent:Za,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:nr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Y2,isValidConnection:void 0},vk=()=>lx((e,t)=>({...rn,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:Ll(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?Ll(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:l,domNode:a,nodeOrigin:u}=t(),c=a==null?void 0:a.querySelector(".react-flow__viewport");if(!c)return;const d=window.getComputedStyle(c),{m22:f}=new window.DOMMatrixReadOnly(d.transform),p=n.reduce((g,w)=>{const h=i.get(w.id);if(h!=null&&h.hidden)i.set(h.id,{...h,[we]:{...h[we],handleBounds:void 0}});else if(h){const m=tc(w.nodeElement);!!(m.width&&m.height&&(h.width!==m.width||h.height!==m.height||w.forceUpdate))&&(i.set(h.id,{...h,[we]:{...h[we],handleBounds:{source:yf(".source",w.nodeElement,f,u),target:yf(".target",w.nodeElement,f,u)}},...m}),g.push({id:h.id,type:"dimensions",dimensions:m}))}return g},[]);im(i,u);const S=s||o&&!s&&om(t,{initial:!0,...l});e({nodeInternals:new Map(i),fitViewOnInitDone:S}),(p==null?void 0:p.length)>0&&(r==null||r(p))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(l=>{const a={id:l.id,type:"position",dragging:i};return r&&(a.positionAbsolute=l.positionAbsolute,a.position=l.position),a});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:l,elevateNodesOnSelect:a}=t();if(n!=null&&n.length){if(o){const u=lm(n,l()),c=Ll(u,i,s,a);e({nodeInternals:c})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,l=null;r?s=n.map(a=>un(a,!0)):(s=Er(o(),n),l=Er(i,[])),Ao({changedNodes:s,changedEdges:l,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,l=null;r?s=n.map(a=>un(a,!0)):(s=Er(i,n),l=Er(o(),[])),Ao({changedNodes:l,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),l=r||i,a=s.map(c=>(c.selected=!1,un(c.id,!1))),u=l.map(c=>un(c.id,!1));Ao({changedNodes:a,changedEdges:u,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(l=>l.selected).map(l=>un(l.id,!1)),s=n.filter(l=>l.selected).map(l=>un(l.id,!1));Ao({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=nc(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:l,translateExtent:a}=t();if(!s||!l||!n.x&&!n.y)return!1;const u=Gt.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),c=[[0,0],[i,o]],d=s==null?void 0:s.constrain()(u,c,a);return s.transform(l,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:rn.connectionNodeId,connectionHandleId:rn.connectionHandleId,connectionHandleType:rn.connectionHandleType,connectionStatus:rn.connectionStatus,connectionStartHandle:rn.connectionStartHandle,connectionEndHandle:rn.connectionEndHandle}),reset:()=>e({...rn})}),Object.is),cc=({children:e})=>{const t=$.useRef(null);return t.current||(t.current=vk()),I.createElement(F2,{value:t.current},e)};cc.displayName="ReactFlowProvider";const xm=({children:e})=>$.useContext(Js)?I.createElement(I.Fragment,null,e):I.createElement(cc,null,e);xm.displayName="ReactFlowWrapper";const xk={input:Z0,default:Qa,output:J0,group:ac},wk={default:$s,straight:oc,step:ic,smoothstep:el,simplebezier:rc},Sk=[0,0],kk=[15,15],Nk={x:0,y:0,zoom:1},Ek={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},wm=$.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=xk,edgeTypes:s=wk,onNodeClick:l,onEdgeClick:a,onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onConnect:p,onConnectStart:S,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:h,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:y,onNodeContextMenu:k,onNodeDoubleClick:E,onNodeDragStart:_,onNodeDrag:j,onNodeDragStop:P,onNodesDelete:D,onEdgesDelete:R,onSelectionChange:H,onSelectionDragStart:O,onSelectionDrag:N,onSelectionDragStop:T,onSelectionContextMenu:M,onSelectionStart:z,onSelectionEnd:b,connectionMode:C=nr.Strict,connectionLineType:A=fn.Bezier,connectionLineStyle:F,connectionLineComponent:L,connectionLineContainerStyle:B,deleteKeyCode:V="Backspace",selectionKeyCode:Y="Shift",selectionOnDrag:Q=!1,selectionMode:Z=Zi.Full,panActivationKeyCode:oe="Space",multiSelectionKeyCode:ne=Ts()?"Meta":"Control",zoomActivationKeyCode:re=Ts()?"Meta":"Control",snapToGrid:Se=!1,snapGrid:ke=kk,onlyRenderVisibleElements:Pe=!1,selectNodesOnDrag:Te=!0,nodesDraggable:pe,nodesConnectable:Fe,nodesFocusable:se,nodeOrigin:X=Sk,edgesFocusable:Ae,edgesUpdatable:K,elementsSelectable:q,defaultViewport:me=Nk,minZoom:qe=.5,maxZoom:De=2,translateExtent:We=Za,preventScrolling:jn=!0,nodeExtent:Pn,defaultMarkerColor:or="#b1b1b7",zoomOnScroll:sr=!0,zoomOnPinch:Qr=!0,panOnScroll:Oe=!1,panOnScrollSpeed:St=.5,panOnScrollMode:An=Bn.Free,zoomOnDoubleClick:Dn=!0,panOnDrag:zn=!0,onPaneClick:Ot,onPaneMouseEnter:Pt,onPaneMouseMove:Kr,onPaneMouseLeave:rl,onPaneScroll:Zr,onPaneContextMenu:il,children:kc,onEdgeContextMenu:In,onEdgeDoubleClick:jm,onEdgeMouseEnter:Pm,onEdgeMouseMove:Am,onEdgeMouseLeave:Dm,onEdgeUpdate:zm,onEdgeUpdateStart:Im,onEdgeUpdateEnd:Rm,onReconnect:Lm,onReconnectStart:Fm,onReconnectEnd:Om,reconnectRadius:Hm=10,edgeUpdaterRadius:Um=10,onNodesChange:Vm,onEdgesChange:Bm,noDragClassName:Wm="nodrag",noWheelClassName:Ym="nowheel",noPanClassName:Nc="nopan",fitView:Xm=!1,fitViewOptions:Gm,connectOnClick:Qm=!0,attributionPosition:Km,proOptions:Zm,defaultEdgeOptions:qm,elevateNodesOnSelect:Jm=!0,elevateEdgesOnSelect:eg=!1,disableKeyboardA11y:Ec=!1,autoPanOnConnect:tg=!0,autoPanOnNodeDrag:ng=!0,connectionRadius:rg=20,isValidConnection:ig,onError:og,style:sg,id:_c,nodeDragThreshold:lg,...ag},ug)=>{const ol=_c||"1";return I.createElement("div",{...ag,style:{...sg,...Ek},ref:ug,className:Le(["react-flow",i]),"data-testid":"rf__wrapper",id:_c},I.createElement(xm,null,I.createElement(yk,{onInit:u,onMove:c,onMoveStart:d,onMoveEnd:f,onNodeClick:l,onEdgeClick:a,onNodeMouseEnter:m,onNodeMouseMove:v,onNodeMouseLeave:y,onNodeContextMenu:k,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:s,connectionLineType:A,connectionLineStyle:F,connectionLineComponent:L,connectionLineContainerStyle:B,selectionKeyCode:Y,selectionOnDrag:Q,selectionMode:Z,deleteKeyCode:V,multiSelectionKeyCode:ne,panActivationKeyCode:oe,zoomActivationKeyCode:re,onlyRenderVisibleElements:Pe,selectNodesOnDrag:Te,defaultViewport:me,translateExtent:We,minZoom:qe,maxZoom:De,preventScrolling:jn,zoomOnScroll:sr,zoomOnPinch:Qr,zoomOnDoubleClick:Dn,panOnScroll:Oe,panOnScrollSpeed:St,panOnScrollMode:An,panOnDrag:zn,onPaneClick:Ot,onPaneMouseEnter:Pt,onPaneMouseMove:Kr,onPaneMouseLeave:rl,onPaneScroll:Zr,onPaneContextMenu:il,onSelectionContextMenu:M,onSelectionStart:z,onSelectionEnd:b,onEdgeContextMenu:In,onEdgeDoubleClick:jm,onEdgeMouseEnter:Pm,onEdgeMouseMove:Am,onEdgeMouseLeave:Dm,onReconnect:Lm??zm,onReconnectStart:Fm??Im,onReconnectEnd:Om??Rm,reconnectRadius:Hm??Um,defaultMarkerColor:or,noDragClassName:Wm,noWheelClassName:Ym,noPanClassName:Nc,elevateEdgesOnSelect:eg,rfId:ol,disableKeyboardA11y:Ec,nodeOrigin:X,nodeExtent:Pn}),I.createElement(pS,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:S,onConnectEnd:g,onClickConnectStart:w,onClickConnectEnd:h,nodesDraggable:pe,nodesConnectable:Fe,nodesFocusable:se,edgesFocusable:Ae,edgesUpdatable:K,elementsSelectable:q,elevateNodesOnSelect:Jm,minZoom:qe,maxZoom:De,nodeExtent:Pn,onNodesChange:Vm,onEdgesChange:Bm,snapToGrid:Se,snapGrid:ke,connectionMode:C,translateExtent:We,connectOnClick:Qm,defaultEdgeOptions:qm,fitView:Xm,fitViewOptions:Gm,onNodesDelete:D,onEdgesDelete:R,onNodeDragStart:_,onNodeDrag:j,onNodeDragStop:P,onSelectionDrag:N,onSelectionDragStart:O,onSelectionDragStop:T,noPanClassName:Nc,nodeOrigin:X,rfId:ol,autoPanOnConnect:tg,autoPanOnNodeDrag:ng,onError:og,connectionRadius:rg,isValidConnection:ig,nodeDragThreshold:lg}),I.createElement(fS,{onSelectionChange:H}),kc,I.createElement(H2,{proOptions:Zm,position:Km}),I.createElement(xS,{rfId:ol,disableKeyboardA11y:Ec})))});wm.displayName="ReactFlow";function Sm(e){return t=>{const[n,r]=$.useState(t),i=$.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const _k=Sm(lm),Ck=Sm(AS),km=({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:l,strokeWidth:a,className:u,borderRadius:c,shapeRendering:d,onClick:f,selected:p})=>{const{background:S,backgroundColor:g}=o||{},w=s||S||g;return I.createElement("rect",{className:Le(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:c,ry:c,width:r,height:i,fill:w,stroke:l,strokeWidth:a,shapeRendering:d,onClick:f?h=>f(h,e):void 0})};km.displayName="MiniMapNode";var Mk=$.memo(km);const Tk=e=>e.nodeOrigin,bk=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),Ul=e=>e instanceof Function?e:()=>e;function $k({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=Mk,onClick:s}){const l=ce(bk,je),a=ce(Tk),u=Ul(t),c=Ul(e),d=Ul(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return I.createElement(I.Fragment,null,l.map(p=>{const{x:S,y:g}=Gn(p,a).positionAbsolute;return I.createElement(o,{key:p.id,x:S,y:g,width:p.width,height:p.height,style:p.style,selected:p.selected,className:d(p),color:u(p),borderRadius:r,strokeColor:c(p),strokeWidth:i,shapeRendering:f,onClick:s,id:p.id})}))}var jk=$.memo($k);const Pk=200,Ak=150,Dk=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?B2(tl(t,e.nodeOrigin),n):n,rfId:e.rfId}},zk="react-flow__minimap-desc";function Nm({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s=2,nodeComponent:l,maskColor:a="rgb(240, 240, 240, 0.6)",maskStrokeColor:u="none",maskStrokeWidth:c=1,position:d="bottom-right",onClick:f,onNodeClick:p,pannable:S=!1,zoomable:g=!1,ariaLabel:w="React Flow mini map",inversePan:h=!1,zoomStep:m=10,offsetScale:v=5}){const y=Me(),k=$.useRef(null),{boundingRect:E,viewBB:_,rfId:j}=ce(Dk,je),P=(e==null?void 0:e.width)??Pk,D=(e==null?void 0:e.height)??Ak,R=E.width/P,H=E.height/D,O=Math.max(R,H),N=O*P,T=O*D,M=v*O,z=E.x-(N-E.width)/2-M,b=E.y-(T-E.height)/2-M,C=N+M*2,A=T+M*2,F=`${zk}-${j}`,L=$.useRef(0);L.current=O,$.useEffect(()=>{if(k.current){const Y=pt(k.current),Q=ne=>{const{transform:re,d3Selection:Se,d3Zoom:ke}=y.getState();if(ne.sourceEvent.type!=="wheel"||!Se||!ke)return;const Pe=-ne.sourceEvent.deltaY*(ne.sourceEvent.deltaMode===1?.05:ne.sourceEvent.deltaMode?1:.002)*m,Te=re[2]*Math.pow(2,Pe);ke.scaleTo(Se,Te)},Z=ne=>{const{transform:re,d3Selection:Se,d3Zoom:ke,translateExtent:Pe,width:Te,height:pe}=y.getState();if(ne.sourceEvent.type!=="mousemove"||!Se||!ke)return;const Fe=L.current*Math.max(1,re[2])*(h?-1:1),se={x:re[0]-ne.sourceEvent.movementX*Fe,y:re[1]-ne.sourceEvent.movementY*Fe},X=[[0,0],[Te,pe]],Ae=Gt.translate(se.x,se.y).scale(re[2]),K=ke.constrain()(Ae,X,Pe);ke.transform(Se,K)},oe=T0().on("zoom",S?Z:null).on("zoom.wheel",g?Q:null);return Y.call(oe),()=>{Y.on("zoom",null)}}},[S,g,h,m]);const B=f?Y=>{const Q=_t(Y);f(Y,{x:Q[0],y:Q[1]})}:void 0,V=p?(Y,Q)=>{const Z=y.getState().nodeInternals.get(Q);p(Y,Z)}:void 0;return I.createElement(ec,{position:d,style:e,className:Le(["react-flow__minimap",t]),"data-testid":"rf__minimap"},I.createElement("svg",{width:P,height:D,viewBox:`${z} ${b} ${C} ${A}`,role:"img","aria-labelledby":F,ref:k,onClick:B},w&&I.createElement("title",{id:F},w),I.createElement(jk,{onClick:V,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:l}),I.createElement("path",{className:"react-flow__minimap-mask",d:`M${z-M},${b-M}h${C+M*2}v${A+M*2}h${-C-M*2}z
        M${_.x},${_.y}h${_.width}v${_.height}h${-_.width}z`,fill:a,fillRule:"evenodd",stroke:u,strokeWidth:c,pointerEvents:"none"})))}Nm.displayName="MiniMap";var Ik=$.memo(Nm);function Rk(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},I.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Lk(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},I.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Fk(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},I.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Ok(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},I.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Hk(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},I.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const vi=({children:e,className:t,...n})=>I.createElement("button",{type:"button",className:Le(["react-flow__controls-button",t]),...n},e);vi.displayName="ControlButton";const Uk=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Em=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:l,onInteractiveChange:a,className:u,children:c,position:d="bottom-left"})=>{const f=Me(),[p,S]=$.useState(!1),{isInteractive:g,minZoomReached:w,maxZoomReached:h}=ce(Uk,je),{zoomIn:m,zoomOut:v,fitView:y}=nl();if($.useEffect(()=>{S(!0)},[]),!p)return null;const k=()=>{m(),o==null||o()},E=()=>{v(),s==null||s()},_=()=>{y(i),l==null||l()},j=()=>{f.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),a==null||a(!g)};return I.createElement(ec,{className:Le(["react-flow__controls",u]),position:d,style:e,"data-testid":"rf__controls"},t&&I.createElement(I.Fragment,null,I.createElement(vi,{onClick:k,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:h},I.createElement(Rk,null)),I.createElement(vi,{onClick:E,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:w},I.createElement(Lk,null))),n&&I.createElement(vi,{className:"react-flow__controls-fitview",onClick:_,title:"fit view","aria-label":"fit view"},I.createElement(Fk,null)),r&&I.createElement(vi,{className:"react-flow__controls-interactive",onClick:j,title:"toggle interactivity","aria-label":"toggle interactivity"},g?I.createElement(Hk,null):I.createElement(Ok,null)),c)};Em.displayName="Controls";var Vk=$.memo(Em),vt;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(vt||(vt={}));function Bk({color:e,dimensions:t,lineWidth:n}){return I.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Wk({color:e,radius:t}){return I.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Yk={[vt.Dots]:"#91919a",[vt.Lines]:"#eee",[vt.Cross]:"#e2e2e2"},Xk={[vt.Dots]:1,[vt.Lines]:1,[vt.Cross]:6},Gk=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function _m({id:e,variant:t=vt.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:s,style:l,className:a}){const u=$.useRef(null),{transform:c,patternId:d}=ce(Gk,je),f=s||Yk[t],p=r||Xk[t],S=t===vt.Dots,g=t===vt.Cross,w=Array.isArray(n)?n:[n,n],h=[w[0]*c[2]||1,w[1]*c[2]||1],m=p*c[2],v=g?[m,m]:h,y=S?[m/o,m/o]:[v[0]/o,v[1]/o];return I.createElement("svg",{className:Le(["react-flow__background",a]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},I.createElement("pattern",{id:d+e,x:c[0]%h[0],y:c[1]%h[1],width:h[0],height:h[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${y[0]},-${y[1]})`},S?I.createElement(Wk,{color:f,radius:m/o}):I.createElement(Bk,{dimensions:v,color:f,lineWidth:i})),I.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}_m.displayName="Background";var Qk=$.memo(_m);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cm=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=$.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...l},a)=>$.createElement("svg",{ref:a,...Zk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Cm("lucide",i),...l},[...s.map(([u,c])=>$.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=(e,t)=>{const n=$.forwardRef(({className:r,...i},o)=>$.createElement(qk,{ref:o,iconNode:t,className:Cm(`lucide-${Kk(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=ae("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=ae("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ae("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=ae("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=ae("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=ae("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ae("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ae("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ae("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ae("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=ae("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=ae("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=ae("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=ae("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=ae("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.414.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Tm={},{useDebugValue:kN}=I,{useSyncExternalStoreWithSelector:NN}=Jp;let _f=!1;const EN=e=>e;function _N(e,t=EN,n){(Tm?"production":void 0)!=="production"&&n&&!_f&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),_f=!0);const r=NN(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return kN(r),r}const Cf=e=>{(Tm?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?e0(e):e,n=(r,i)=>_N(t,r,i);return Object.assign(n,t),n},CN=e=>e?Cf(e):Cf;function MN(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,l,a=0,u=0;for(o=0;o<s;++o)l=n[o],a+=l.x,u+=l.y;for(a=(a/s-e)*r,u=(u/s-t)*r,o=0;o<s;++o)l=n[o],l.x-=a,l.y-=u}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function TN(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return bm(this.cover(t,n),t,n,e)}function bm(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},l=e._x0,a=e._y0,u=e._x1,c=e._y1,d,f,p,S,g,w,h,m;if(!o)return e._root=s,e;for(;o.length;)if((g=t>=(d=(l+u)/2))?l=d:u=d,(w=n>=(f=(a+c)/2))?a=f:c=f,i=o,!(o=o[h=w<<1|g]))return i[h]=s,e;if(p=+e._x.call(null,o.data),S=+e._y.call(null,o.data),t===p&&n===S)return s.next=o,i?i[h]=s:e._root=s,e;do i=i?i[h]=new Array(4):e._root=new Array(4),(g=t>=(d=(l+u)/2))?l=d:u=d,(w=n>=(f=(a+c)/2))?a=f:c=f;while((h=w<<1|g)===(m=(S>=f)<<1|p>=d));return i[m]=o,i[h]=s,e}function bN(e){var t,n,r=e.length,i,o,s=new Array(r),l=new Array(r),a=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,l[n]=o,i<a&&(a=i),i>c&&(c=i),o<u&&(u=o),o>d&&(d=o));if(a>c||u>d)return this;for(this.cover(a,u).cover(c,d),n=0;n<r;++n)bm(this,s[n],l[n],e[n]);return this}function $N(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,l=this._root,a,u;n>e||e>=i||r>t||t>=o;)switch(u=(t<r)<<1|e<n,a=new Array(4),a[u]=l,l=a,s*=2,u){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function jN(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function PN(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xe(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function AN(e,t,n){var r,i=this._x0,o=this._y0,s,l,a,u,c=this._x1,d=this._y1,f=[],p=this._root,S,g;for(p&&f.push(new Xe(p,i,o,c,d)),n==null?n=1/0:(i=e-n,o=t-n,c=e+n,d=t+n,n*=n);S=f.pop();)if(!(!(p=S.node)||(s=S.x0)>c||(l=S.y0)>d||(a=S.x1)<i||(u=S.y1)<o))if(p.length){var w=(s+a)/2,h=(l+u)/2;f.push(new Xe(p[3],w,h,a,u),new Xe(p[2],s,h,w,u),new Xe(p[1],w,l,a,h),new Xe(p[0],s,l,w,h)),(g=(t>=h)<<1|e>=w)&&(S=f[f.length-1],f[f.length-1]=f[f.length-1-g],f[f.length-1-g]=S)}else{var m=e-+this._x.call(null,p.data),v=t-+this._y.call(null,p.data),y=m*m+v*v;if(y<n){var k=Math.sqrt(n=y);i=e-k,o=t-k,c=e+k,d=t+k,r=p.data}}return r}function DN(e){if(isNaN(c=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,l=this._y0,a=this._x1,u=this._y1,c,d,f,p,S,g,w,h;if(!n)return this;if(n.length)for(;;){if((S=c>=(f=(s+a)/2))?s=f:a=f,(g=d>=(p=(l+u)/2))?l=p:u=p,t=n,!(n=n[w=g<<1|S]))return this;if(!n.length)break;(t[w+1&3]||t[w+2&3]||t[w+3&3])&&(r=t,h=w)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[w]=o:delete t[w],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[h]=n:this._root=n),this):(this._root=o,this)}function zN(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function IN(){return this._root}function RN(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function LN(e){var t=[],n,r=this._root,i,o,s,l,a;for(r&&t.push(new Xe(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,l=n.x1,a=n.y1)&&r.length){var u=(o+l)/2,c=(s+a)/2;(i=r[3])&&t.push(new Xe(i,u,c,l,a)),(i=r[2])&&t.push(new Xe(i,o,c,u,a)),(i=r[1])&&t.push(new Xe(i,u,s,l,c)),(i=r[0])&&t.push(new Xe(i,o,s,u,c))}return this}function FN(e){var t=[],n=[],r;for(this._root&&t.push(new Xe(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,l=r.y0,a=r.x1,u=r.y1,c=(s+a)/2,d=(l+u)/2;(o=i[0])&&t.push(new Xe(o,s,l,c,d)),(o=i[1])&&t.push(new Xe(o,c,l,a,d)),(o=i[2])&&t.push(new Xe(o,s,d,c,u)),(o=i[3])&&t.push(new Xe(o,c,d,a,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function ON(e){return e[0]}function HN(e){return arguments.length?(this._x=e,this):this._x}function UN(e){return e[1]}function VN(e){return arguments.length?(this._y=e,this):this._y}function mc(e,t,n){var r=new gc(t??ON,n??UN,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function gc(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Mf(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Ze=mc.prototype=gc.prototype;Ze.copy=function(){var e=new gc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Mf(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Mf(r));return e};Ze.add=TN;Ze.addAll=bN;Ze.cover=$N;Ze.data=jN;Ze.extent=PN;Ze.find=AN;Ze.remove=DN;Ze.removeAll=zN;Ze.root=IN;Ze.size=RN;Ze.visit=LN;Ze.visitAfter=FN;Ze.x=HN;Ze.y=VN;function Qn(e){return function(){return e}}function mn(e){return(e()-.5)*1e-6}function BN(e){return e.x+e.vx}function WN(e){return e.y+e.vy}function YN(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=Qn(e==null?1:+e));function s(){for(var u,c=t.length,d,f,p,S,g,w,h=0;h<o;++h)for(d=mc(t,BN,WN).visitAfter(l),u=0;u<c;++u)f=t[u],g=n[f.index],w=g*g,p=f.x+f.vx,S=f.y+f.vy,d.visit(m);function m(v,y,k,E,_){var j=v.data,P=v.r,D=g+P;if(j){if(j.index>f.index){var R=p-j.x-j.vx,H=S-j.y-j.vy,O=R*R+H*H;O<D*D&&(R===0&&(R=mn(r),O+=R*R),H===0&&(H=mn(r),O+=H*H),O=(D-(O=Math.sqrt(O)))/O*i,f.vx+=(R*=O)*(D=(P*=P)/(w+P)),f.vy+=(H*=O)*D,j.vx-=R*(D=1-D),j.vy-=H*D)}return}return y>p+D||E<p-D||k>S+D||_<S-D}}function l(u){if(u.data)return u.r=n[u.data.index];for(var c=u.r=0;c<4;++c)u[c]&&u[c].r>u.r&&(u.r=u[c].r)}function a(){if(t){var u,c=t.length,d;for(n=new Array(c),u=0;u<c;++u)d=t[u],n[d.index]=+e(d,u,t)}}return s.initialize=function(u,c){t=u,r=c,a()},s.iterations=function(u){return arguments.length?(o=+u,s):o},s.strength=function(u){return arguments.length?(i=+u,s):i},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Qn(+u),a(),s):e},s}function XN(e){return e.index}function Tf(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function bf(e){var t=XN,n=d,r,i=Qn(30),o,s,l,a,u,c=1;e==null&&(e=[]);function d(w){return 1/Math.min(l[w.source.index],l[w.target.index])}function f(w){for(var h=0,m=e.length;h<c;++h)for(var v=0,y,k,E,_,j,P,D;v<m;++v)y=e[v],k=y.source,E=y.target,_=E.x+E.vx-k.x-k.vx||mn(u),j=E.y+E.vy-k.y-k.vy||mn(u),P=Math.sqrt(_*_+j*j),P=(P-o[v])/P*w*r[v],_*=P,j*=P,E.vx-=_*(D=a[v]),E.vy-=j*D,k.vx+=_*(D=1-D),k.vy+=j*D}function p(){if(s){var w,h=s.length,m=e.length,v=new Map(s.map((k,E)=>[t(k,E,s),k])),y;for(w=0,l=new Array(h);w<m;++w)y=e[w],y.index=w,typeof y.source!="object"&&(y.source=Tf(v,y.source)),typeof y.target!="object"&&(y.target=Tf(v,y.target)),l[y.source.index]=(l[y.source.index]||0)+1,l[y.target.index]=(l[y.target.index]||0)+1;for(w=0,a=new Array(m);w<m;++w)y=e[w],a[w]=l[y.source.index]/(l[y.source.index]+l[y.target.index]);r=new Array(m),S(),o=new Array(m),g()}}function S(){if(s)for(var w=0,h=e.length;w<h;++w)r[w]=+n(e[w],w,e)}function g(){if(s)for(var w=0,h=e.length;w<h;++w)o[w]=+i(e[w],w,e)}return f.initialize=function(w,h){s=w,u=h,p()},f.links=function(w){return arguments.length?(e=w,p(),f):e},f.id=function(w){return arguments.length?(t=w,f):t},f.iterations=function(w){return arguments.length?(c=+w,f):c},f.strength=function(w){return arguments.length?(n=typeof w=="function"?w:Qn(+w),S(),f):n},f.distance=function(w){return arguments.length?(i=typeof w=="function"?w:Qn(+w),g(),f):i},f}const GN=1664525,QN=1013904223,$f=4294967296;function KN(){let e=1;return()=>(e=(GN*e+QN)%$f)/$f}function ZN(e){return e.x}function qN(e){return e.y}var JN=10,eE=Math.PI*(3-Math.sqrt(5));function tE(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,l=new Map,a=Zu(d),u=io("tick","end"),c=KN();e==null&&(e=[]);function d(){f(),u.call("tick",t),n<r&&(a.stop(),u.call("end",t))}function f(g){var w,h=e.length,m;g===void 0&&(g=1);for(var v=0;v<g;++v)for(n+=(o-n)*i,l.forEach(function(y){y(n)}),w=0;w<h;++w)m=e[w],m.fx==null?m.x+=m.vx*=s:(m.x=m.fx,m.vx=0),m.fy==null?m.y+=m.vy*=s:(m.y=m.fy,m.vy=0);return t}function p(){for(var g=0,w=e.length,h;g<w;++g){if(h=e[g],h.index=g,h.fx!=null&&(h.x=h.fx),h.fy!=null&&(h.y=h.fy),isNaN(h.x)||isNaN(h.y)){var m=JN*Math.sqrt(.5+g),v=g*eE;h.x=m*Math.cos(v),h.y=m*Math.sin(v)}(isNaN(h.vx)||isNaN(h.vy))&&(h.vx=h.vy=0)}}function S(g){return g.initialize&&g.initialize(e,c),g}return p(),t={tick:f,restart:function(){return a.restart(d),t},stop:function(){return a.stop(),t},nodes:function(g){return arguments.length?(e=g,p(),l.forEach(S),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(s=1-g,t):1-s},randomSource:function(g){return arguments.length?(c=g,l.forEach(S),t):c},force:function(g,w){return arguments.length>1?(w==null?l.delete(g):l.set(g,S(w)),t):l.get(g)},find:function(g,w,h){var m=0,v=e.length,y,k,E,_,j;for(h==null?h=1/0:h*=h,m=0;m<v;++m)_=e[m],y=g-_.x,k=w-_.y,E=y*y+k*k,E<h&&(j=_,h=E);return j},on:function(g,w){return arguments.length>1?(u.on(g,w),t):u.on(g)}}}function nE(){var e,t,n,r,i=Qn(-30),o,s=1,l=1/0,a=.81;function u(p){var S,g=e.length,w=mc(e,ZN,qN).visitAfter(d);for(r=p,S=0;S<g;++S)t=e[S],w.visit(f)}function c(){if(e){var p,S=e.length,g;for(o=new Array(S),p=0;p<S;++p)g=e[p],o[g.index]=+i(g,p,e)}}function d(p){var S=0,g,w,h=0,m,v,y;if(p.length){for(m=v=y=0;y<4;++y)(g=p[y])&&(w=Math.abs(g.value))&&(S+=g.value,h+=w,m+=w*g.x,v+=w*g.y);p.x=m/h,p.y=v/h}else{g=p,g.x=g.data.x,g.y=g.data.y;do S+=o[g.data.index];while(g=g.next)}p.value=S}function f(p,S,g,w){if(!p.value)return!0;var h=p.x-t.x,m=p.y-t.y,v=w-S,y=h*h+m*m;if(v*v/a<y)return y<l&&(h===0&&(h=mn(n),y+=h*h),m===0&&(m=mn(n),y+=m*m),y<s&&(y=Math.sqrt(s*y)),t.vx+=h*p.value*r/y,t.vy+=m*p.value*r/y),!0;if(p.length||y>=l)return;(p.data!==t||p.next)&&(h===0&&(h=mn(n),y+=h*h),m===0&&(m=mn(n),y+=m*m),y<s&&(y=Math.sqrt(s*y)));do p.data!==t&&(v=o[p.data.index]*r/y,t.vx+=h*v,t.vy+=m*v);while(p=p.next)}return u.initialize=function(p,S){e=p,n=S,c()},u.strength=function(p){return arguments.length?(i=typeof p=="function"?p:Qn(+p),c(),u):i},u.distanceMin=function(p){return arguments.length?(s=p*p,u):Math.sqrt(s)},u.distanceMax=function(p){return arguments.length?(l=p*p,u):Math.sqrt(l)},u.theta=function(p){return arguments.length?(a=p*p,u):Math.sqrt(a)},u}class jf{constructor(t){J(this,"simulation");J(this,"config");J(this,"nodes",[]);J(this,"links",[]);J(this,"onTick");J(this,"onEnd");J(this,"lastTickTime",0);J(this,"tickThrottle",16);J(this,"nodeCluster",new Map);J(this,"clusterCenters",new Map);J(this,"previousPositions",new Map);J(this,"interpolationTargets",new Map);J(this,"isInterpolating",!1);J(this,"interpolationStartTime",0);J(this,"interpolationDuration",300);J(this,"animationFrameId",null);J(this,"overlapDetectionRadius",15);J(this,"emergencySpacingForce",2);J(this,"tickCount",0);J(this,"performanceMetrics",{frameRate:60,avgFrameTime:16.67,cpuUsage:0,memoryUsage:0,simulationSteps:0,throttleLevel:0,activeOptimizations:[],lastMeasurement:performance.now()});J(this,"frameTimeHistory",[]);J(this,"lastFrameTime",performance.now());J(this,"performanceMonitoringInterval",null);J(this,"isPerformanceMonitoringEnabled",!1);J(this,"_emergencyMode",!1);J(this,"qualityLevel","high");J(this,"webWorker",null);J(this,"_isUsingWebWorker",!1);J(this,"cpuUsageHistory",[]);J(this,"memoryUsageHistory",[]);J(this,"getSmartCollisionRadius",t=>{const n=this.config.collisionRadius,r=t;if(!r.task)return n;const i=r.task,o=this.config.prioritySpacingMultiplier||1.2;let s=1;switch(i.priority){case"high":s=o;break;case"medium":s=o*.85;break;case"low":s=o*.7;break}(i.status==="in-progress"||i.subtasks.some(c=>c.status==="in-progress"))&&(s*=1.3);const a=1+(i.dependencies.length+this.getOutgoingConnections(i.id))*.1,u=Math.max(n*.6,80);return Math.max(u,n*s*a)});this.config=t,this.simulation=tE(),this.setupForces(),t.enablePerformanceMonitoring&&this.enablePerformanceMonitoring(),t.useWebWorkers&&this.isWebWorkerSupported()&&this.initializeWebWorker()}detectAndResolveOverlaps(){let t=!1;const n=[];for(let r=0;r<this.nodes.length;r++)for(let i=r+1;i<this.nodes.length;i++){const o=this.nodes[r],s=this.nodes[i];if(o.x!==void 0&&o.y!==void 0&&s.x!==void 0&&s.y!==void 0){const l=s.x-o.x,a=s.y-o.y,u=Math.sqrt(l*l+a*a),c=this.getSmartCollisionRadius(o),d=this.getSmartCollisionRadius(s),f=c+d+this.overlapDetectionRadius;if(u<f&&u>0){t=!0;const p=f-u,S=this.emergencySpacingForce*p/u,g=l*S*.5,w=a*S*.5;n.push({node:o,dx:-g,dy:-w},{node:s,dx:g,dy:w})}}}return n.forEach(({node:r,dx:i,dy:o})=>{r.x!==void 0&&r.y!==void 0&&(r.x+=i,r.y+=o,r.vx=(r.vx||0)+i*.1,r.vy=(r.vy||0)+o*.1)}),t}validateSpacingConsistency(){let t=0;const n=Math.min(this.config.minNodeSeparation||180,this.config.collisionRadius*1.5);for(let r=0;r<this.nodes.length;r++)for(let i=r+1;i<this.nodes.length;i++){const o=this.nodes[r],s=this.nodes[i];if(o.x!==void 0&&o.y!==void 0&&s.x!==void 0&&s.y!==void 0){const l=s.x-o.x,a=s.y-o.y;Math.sqrt(l*l+a*a)<n&&t++}}return{consistent:t===0,violations:t}}getSpacingMetrics(){const t=[];let n=1/0,r=0;for(let u=0;u<this.nodes.length;u++)for(let c=u+1;c<this.nodes.length;c++){const d=this.nodes[u],f=this.nodes[c];if(d.x!==void 0&&d.y!==void 0&&f.x!==void 0&&f.y!==void 0){const p=f.x-d.x,S=f.y-d.y,g=Math.sqrt(p*p+S*S);t.push(g),n=Math.min(n,g),r=Math.max(r,g)}}const{violations:i}=this.validateSpacingConsistency(),o=t.length>0?t.reduce((u,c)=>u+c,0)/t.length:0,s=this.config.width*this.config.height,a=this.nodes.length*Math.PI*Math.pow(this.config.collisionRadius,2)/s;return{averageNodeDistance:o,minNodeDistance:n===1/0?0:n,maxNodeDistance:r,spacingViolations:i,densityScore:a}}addSmartSpacingForces(){this.config.clusterSpacing&&this.simulation.force("cluster",this.clusterForce()),this.config.minNodeSeparation&&this.simulation.force("separation",this.separationForce()),this.config.densityAdaptation&&this.simulation.force("density",this.densityAdaptationForce())}getOutgoingConnections(t){return this.nodes.filter(n=>n.task.dependencies.includes(t)).length}clusterForce(){return()=>{this.nodes.forEach(n=>{const r=this.getClusterForNode(n),i=this.clusterCenters.get(r);if(i&&n.x!==void 0&&n.y!==void 0){const o=i.x-n.x,s=i.y-n.y,l=Math.sqrt(o*o+s*s);if(l>0){const a=.1/l;n.vx=(n.vx||0)+o*a,n.vy=(n.vy||0)+s*a}}})}}separationForce(){const t=this.config.minNodeSeparation||200,n=.5;return()=>{for(let r=0;r<this.nodes.length;r++)for(let i=r+1;i<this.nodes.length;i++){const o=this.nodes[r],s=this.nodes[i];if(o.x!==void 0&&o.y!==void 0&&s.x!==void 0&&s.y!==void 0){const l=s.x-o.x,a=s.y-o.y,u=Math.sqrt(l*l+a*a);if(u<t&&u>0){const c=(t-u)/u*n,d=l*c*.5,f=a*c*.5;o.vx=(o.vx||0)-d,o.vy=(o.vy||0)-f,s.vx=(s.vx||0)+d,s.vy=(s.vy||0)+f}}}}}densityAdaptationForce(){return()=>{this.nodes.forEach(r=>{if(r.x===void 0||r.y===void 0)return;const i=this.nodes.filter(l=>{if(l===r||l.x===void 0||l.y===void 0)return!1;const a=l.x-r.x,u=l.y-r.y;return Math.sqrt(a*a+u*u)<300}),o=i.length,s=5;if(o>s){const a=.1*(o-s);i.forEach(u=>{const c=r.x-u.x,d=r.y-u.y,f=Math.sqrt(c*c+d*d);if(f>0){const p=a/f;r.vx=(r.vx||0)+c*p,r.vy=(r.vy||0)+d*p}})}})}}getClusterForNode(t){const n=this.nodeCluster.get(t.id);if(n)return n;const r=t.task;if(r.dependencies.length>0){const s=`dep-${r.dependencies[0]}`;return this.nodeCluster.set(t.id,s),s}if(this.nodes.filter(s=>s.task.dependencies.includes(r.id)).length>0){const s=`leader-${r.id}`;return this.nodeCluster.set(t.id,s),s}const o=`priority-${r.priority}`;return this.nodeCluster.set(t.id,o),o}setupForces(){const{config:t}=this;this.simulation.alphaDecay(t.alphaDecay).alphaMin(t.alphaMin).velocityDecay(t.velocityDecay).force("link",bf().id(n=>n.id).distance(t.linkDistance).strength(t.linkStrength)).force("charge",nE().strength(t.chargeStrength)).force("center",MN(t.width/2,t.height/2).strength(t.centerStrength)).force("collision",YN().radius(t.enableSmartSpacing?this.getSmartCollisionRadius.bind(this):t.collisionRadius).strength(t.collisionStrength)),t.enableSmartSpacing&&this.addSmartSpacingForces(),this.simulation.on("tick",()=>{const n=Date.now();n-this.lastTickTime>=this.tickThrottle&&(this.lastTickTime=n,this.handleTick())}),this.simulation.on("end",()=>{this.handleSimulationEnd()})}handleTick(){this.tickCount++,this.tickCount%10===0&&this.nodes.length>50&&this.detectAndResolveOverlaps(),this.onTick&&(this.storePreviousPositions(),this.updateNodesWithInterpolation(),this.onTick(this.nodes))}storePreviousPositions(){this.nodes.forEach(t=>{t.x!==void 0&&t.y!==void 0&&this.previousPositions.set(t.id,{x:t.x,y:t.y})})}updateNodesWithInterpolation(){this.nodes.forEach(t=>{if(t.x!==void 0&&t.y!==void 0){const n=this.previousPositions.get(t.id);if(n){const r=t.x-n.x,i=t.y-n.y;Math.sqrt(r*r+i*i)>10&&(t.x=n.x+r*.7,t.y=n.y+i*.7)}}})}handleSimulationEnd(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.isInterpolating=!1,this.onEnd&&this.onEnd(this.nodes)}transitionToNewLayout(t,n=500){this.interpolationDuration=n,this.isInterpolating=!0,this.interpolationStartTime=performance.now(),this.nodes.forEach(r=>{r.x!==void 0&&r.y!==void 0&&this.interpolationTargets.set(r.id,{x:r.x,y:r.y})}),this.updateConfig(t),this.startLayoutTransition()}startLayoutTransition(){const t=n=>{if(!this.isInterpolating)return;const r=n-this.interpolationStartTime,i=Math.min(r/this.interpolationDuration,1),o=1-Math.pow(1-i,3);this.nodes.forEach(s=>{const l=this.interpolationTargets.get(s.id),a=this.previousPositions.get(s.id);l&&a&&s.x!==void 0&&s.y!==void 0&&(s.x=a.x+(l.x-a.x)*o,s.y=a.y+(l.y-a.y)*o)}),i<1?this.animationFrameId=requestAnimationFrame(t):(this.isInterpolating=!1,this.animationFrameId=null),this.onTick&&this.onTick(this.nodes)};this.animationFrameId=requestAnimationFrame(t)}updateConfig(t){this.config={...this.config,...t},this.setupForces();const n=this.simulation.force("link");n&&n.distance(this.config.linkDistance).strength(this.config.linkStrength);const r=this.simulation.force("charge");r&&r.strength(this.config.chargeStrength);const i=this.simulation.force("center");i&&i.x(this.config.width/2).y(this.config.height/2).strength(this.config.centerStrength);const o=this.simulation.force("collision");o&&o.radius(this.config.collisionRadius).strength(this.config.collisionStrength)}setData(t,n){this.nodes=t.map(i=>{const o=`task-${i.id}`,s=n==null?void 0:n.get(o);return{id:o,task:i,x:s==null?void 0:s.x,y:s==null?void 0:s.y,fx:s?s.x:null,fy:s?s.y:null}}),this.links=[],t.forEach(i=>{i.dependencies.forEach(o=>{this.links.push({source:`task-${o}`,target:`task-${i.id}`,strength:this.config.linkStrength})})}),this.config.enableSmartSpacing&&this.calculateClusterCenters(),this.config.activeTaskId&&this.applyActiveTaskFocus(this.config.activeTaskId),this.simulation.nodes(this.nodes);const r=this.simulation.force("link");r&&r.links(this.links)}calculateClusterCenters(){this.clusterCenters.clear();const t=new Map;this.nodes.forEach(n=>{const r=this.getClusterForNode(n);t.has(r)||t.set(r,[]),t.get(r).push(n)}),t.forEach((n,r)=>{if(n.length===0)return;let i=this.config.width/2,o=this.config.height/2,s=0;n.forEach(c=>{c.x!==void 0&&c.y!==void 0&&(i+=c.x,o+=c.y,s++)}),s>0&&(i/=s+1,o/=s+1);const a=Array.from(t.keys()).indexOf(r)*2*Math.PI/t.size,u=Math.min(this.config.width,this.config.height)*.15;i+=Math.cos(a)*u,o+=Math.sin(a)*u,this.clusterCenters.set(r,{x:i,y:o})})}applyActiveTaskFocus(t){const n=`task-${t}`,r=this.nodes.find(o=>o.id===n);if(!r)return;r.fx=this.config.width/2,r.fy=this.config.height/2;const i=new Set;r.task.dependencies.forEach(o=>{i.add(`task-${o}`)}),this.nodes.forEach(o=>{o.task.dependencies.includes(t)&&i.add(o.id)}),this.links.forEach(o=>{const s=typeof o.source=="string"?o.source:o.source.id,l=typeof o.target=="string"?o.target:o.target.id;s===n||l===n?o.strength=this.config.linkStrength*(this.config.focusStrength||2):(i.has(s)||i.has(l))&&(o.strength=this.config.linkStrength*1.5)})}start(){this.simulation.restart()}stop(){this.simulation.stop()}alpha(t){return t===void 0?this.simulation.alpha():(this.simulation.alpha(t),this)}onTickUpdate(t){this.onTick=t}onSimulationEnd(t){this.onEnd=t}getNodes(){return this.nodes}getLinks(){return this.links}releaseFixedPositions(){this.nodes.forEach(t=>{t.fx=null,t.fy=null})}setFixedPosition(t,n,r){const i=this.nodes.find(o=>o.id===t);i&&(i.fx=n,i.fy=r)}optimizeForLargeDataset(t){t>500?(this.tickThrottle=50,this.interpolationDuration=200):t>200?(this.tickThrottle=33,this.interpolationDuration=250):t>100?(this.tickThrottle=25,this.interpolationDuration=300):(this.tickThrottle=16,this.interpolationDuration=350),t>100&&this.updateConfig({alphaDecay:.05,alphaMin:.005,chargeStrength:Math.max(-1200,-800-t),collisionStrength:Math.min(.5,.8-t/1e3)}),t>300&&this.updateConfig({alphaDecay:.1,linkStrength:.3,centerStrength:.05}),t>50&&(this.updateConfig({enableSmartSpacing:!0,densityAdaptation:!0,minNodeSeparation:Math.max(120,200-t*.5)}),t>200&&(this.overlapDetectionRadius=Math.max(10,15-t/100),this.emergencySpacingForce=Math.max(1,2-t/500))),t>100&&this.updateConfig({collisionRadius:Math.max(100,160-t*.2),collisionStrength:Math.max(.3,.8-t/1e3)}),t>=(this.config.emergencyThrottleThreshold||500)&&this.activateEmergencyMode(t),t>300&&this.config.useWebWorkers&&this.isWebWorkerSupported()&&this.enableWebWorkerCalculations(),this.config.adaptiveQuality&&this.adjustQualityBasedOnSize(t),t>200&&this.config.enablePerformanceMonitoring&&this.enablePerformanceMonitoring()}activateEmergencyMode(t){this._emergencyMode=!0,this.qualityLevel="emergency",this.performanceMetrics.activeOptimizations.push("emergency-mode"),this.tickThrottle=Math.max(100,66+(t-500)*.1),this.updateConfig({alphaDecay:.2,alphaMin:.01,chargeStrength:Math.max(-500,-300-t*.5),linkStrength:.1,collisionStrength:.2,velocityDecay:.7}),this.updateConfig({enableSmartSpacing:!1,densityAdaptation:!1}),console.warn(`🚨 Emergency mode activated for ${t} nodes - reduced quality for performance`)}adjustQualityBasedOnSize(t){t>800?(this.qualityLevel="emergency",this.tickThrottle=100):t>600?(this.qualityLevel="low",this.tickThrottle=66):t>400?(this.qualityLevel="medium",this.tickThrottle=50):(this.qualityLevel="high",this.tickThrottle=Math.max(16,33-t*.05)),this.performanceMetrics.activeOptimizations.push(`quality-${this.qualityLevel}`)}enablePerformanceMonitoring(){this.isPerformanceMonitoringEnabled||(this.isPerformanceMonitoringEnabled=!0,this.performanceMetrics.activeOptimizations.push("performance-monitoring"),this.performanceMonitoringInterval=window.setInterval(()=>{this.updatePerformanceMetrics(),this.checkPerformanceThresholds()},1e3),console.log("📊 Performance monitoring enabled for large graph optimization"))}updatePerformanceMetrics(){const t=performance.now(),n=t-this.lastFrameTime;this.lastFrameTime=t,this.frameTimeHistory.push(n),this.frameTimeHistory.length>60&&this.frameTimeHistory.shift();const r=this.frameTimeHistory.reduce((o,s)=>o+s,0)/this.frameTimeHistory.length;this.performanceMetrics.avgFrameTime=r,this.performanceMetrics.frameRate=Math.min(60,1e3/r);const i=this.calculateVariance(this.frameTimeHistory);if(this.performanceMetrics.cpuUsage=Math.min(100,i*10),"memory"in performance){const o=performance.memory;this.performanceMetrics.memoryUsage=o.usedJSHeapSize/(1024*1024)}this.cpuUsageHistory.push(this.performanceMetrics.cpuUsage),this.memoryUsageHistory.push(this.performanceMetrics.memoryUsage),this.cpuUsageHistory.length>30&&this.cpuUsageHistory.shift(),this.memoryUsageHistory.length>30&&this.memoryUsageHistory.shift(),this.performanceMetrics.lastMeasurement=t}calculateVariance(t){if(t.length===0)return 0;const n=t.reduce((i,o)=>i+o,0)/t.length,r=t.reduce((i,o)=>i+Math.pow(o-n,2),0)/t.length;return Math.sqrt(r)}checkPerformanceThresholds(){const{frameRate:t,memoryUsage:n}=this.performanceMetrics,r=this.config.maxFrameRate||30,i=this.config.memoryUsageLimit||100;t<r*.5&&this.applyEmergencyThrottling(),n>i&&this.performMemoryOptimization(),t<r*.8?this.increaseThrottling():t>r*1.2&&this.tickThrottle>16&&this.decreaseThrottling()}applyEmergencyThrottling(){this.tickThrottle=Math.max(this.tickThrottle*1.5,100),this.performanceMetrics.throttleLevel++,this.performanceMetrics.activeOptimizations.push("emergency-throttling"),console.warn(`⚡ Emergency throttling applied - frame rate: ${this.performanceMetrics.frameRate.toFixed(1)}fps`)}increaseThrottling(){this.tickThrottle=Math.min(this.tickThrottle*1.2,100),this.performanceMetrics.throttleLevel++}decreaseThrottling(){this.tickThrottle=Math.max(this.tickThrottle*.9,16),this.performanceMetrics.throttleLevel=Math.max(0,this.performanceMetrics.throttleLevel-1)}performMemoryOptimization(){this.frameTimeHistory.length>30&&(this.frameTimeHistory=this.frameTimeHistory.slice(-30)),this.cpuUsageHistory.length>15&&(this.cpuUsageHistory=this.cpuUsageHistory.slice(-15)),this.memoryUsageHistory.length>15&&(this.memoryUsageHistory=this.memoryUsageHistory.slice(-15)),this.isInterpolating||(this.previousPositions.clear(),this.interpolationTargets.clear()),this.performanceMetrics.activeOptimizations.push("memory-optimization"),console.log("🧹 Memory optimization performed")}isWebWorkerSupported(){return typeof Worker<"u"&&typeof window<"u"}initializeWebWorker(){if(this.isWebWorkerSupported())try{const t=`
        self.onmessage = function(e) {
          const { type, payload } = e.data;
          
          if (type === 'CALCULATE_FORCES') {
            // Perform force calculations off-main-thread
            const { nodes, config } = payload;
            
            // Simplified force calculation for Web Worker
            const results = nodes.map(node => {
              let fx = 0, fy = 0;
              
              // Calculate repulsion forces with other nodes
              nodes.forEach(other => {
                if (other.id !== node.id && other.x !== undefined && other.y !== undefined) {
                  const dx = node.x - other.x;
                  const dy = node.y - other.y;
                  const distance = Math.sqrt(dx * dx + dy * dy);
                  
                  if (distance > 0) {
                    const force = config.chargeStrength / (distance * distance);
                    fx += (dx / distance) * force;
                    fy += (dy / distance) * force;
                  }
                }
              });
              
              return { id: node.id, fx, fy };
            });
            
            self.postMessage({ type: 'RESULT', payload: results });
          }
        };
      `,n=new Blob([t],{type:"application/javascript"});this.webWorker=new Worker(URL.createObjectURL(n)),this.webWorker.onmessage=r=>{this.handleWorkerMessage(r.data)},this.performanceMetrics.activeOptimizations.push("web-worker"),console.log("🔧 Web Worker initialized for off-main-thread force calculations")}catch(t){console.warn("Failed to initialize Web Worker:",t),this.webWorker=null}}enableWebWorkerCalculations(){this.webWorker&&(this._isUsingWebWorker=!0,this.performanceMetrics.activeOptimizations.push("web-worker-active"))}handleWorkerMessage(t){t.type==="RESULT"&&t.payload.forEach(r=>{const i=this.nodes.find(o=>o.id===r.id);i&&(i.vx=(i.vx||0)+r.fx*.1,i.vy=(i.vy||0)+r.fy*.1)})}cleanupWebWorker(){this.webWorker&&(this.webWorker.terminate(),this.webWorker=null,this._isUsingWebWorker=!1)}getPerformanceMetrics(){return{...this.performanceMetrics}}isEmergencyMode(){return this._emergencyMode}isUsingWebWorker(){return this._isUsingWebWorker}optimizePerformance(){this.updatePerformanceMetrics(),this.checkPerformanceThresholds(),this.performMemoryOptimization()}restartSimulation(){this.simulation.stop(),this.simulation.alpha(1).restart(),console.log("ForceDirectedLayout: Simulation restarted")}resetToDefaults(t=!1){this.config={...qa},this.setupForces(),t||(this.nodes=[],this.links=[],this.simulation.nodes(this.nodes),this.simulation.force("link",bf(this.links))),this.restartSimulation(),console.log("ForceDirectedLayout: Reset to default configuration",{preserveData:t})}getConfig(){return JSON.parse(JSON.stringify(this.config))}exportConfig(t=!1){const n={config:this.getConfig(),timestamp:new Date().toISOString(),nodeCount:this.nodes.length,linkCount:this.links.length,...t&&{performanceMetrics:this.getPerformanceMetrics()}};return JSON.stringify(n,null,2)}validateConfig(t){const n=[],r=[];return t.alphaDecay!==void 0&&(t.alphaDecay<=0||t.alphaDecay>1)&&n.push("alphaDecay must be between 0 and 1"),t.alphaMin!==void 0&&(t.alphaMin<=0||t.alphaMin>1)&&n.push("alphaMin must be between 0 and 1"),t.velocityDecay!==void 0&&(t.velocityDecay<0||t.velocityDecay>1)&&n.push("velocityDecay must be between 0 and 1"),t.linkDistance!==void 0&&t.linkDistance<0&&n.push("linkDistance must be positive"),t.linkStrength!==void 0&&(t.linkStrength<0||t.linkStrength>1)&&n.push("linkStrength must be between 0 and 1"),t.collisionRadius!==void 0&&t.collisionRadius<0&&n.push("collisionRadius must be positive"),t.collisionStrength!==void 0&&(t.collisionStrength<0||t.collisionStrength>1)&&n.push("collisionStrength must be between 0 and 1"),t.width!==void 0&&t.width<=0&&n.push("width must be positive"),t.height!==void 0&&t.height<=0&&n.push("height must be positive"),t.maxFrameRate!==void 0&&(t.maxFrameRate<1||t.maxFrameRate>120)&&r.push("maxFrameRate outside recommended range (1-120 fps)"),t.emergencyThrottleThreshold!==void 0&&t.emergencyThrottleThreshold<100&&r.push("emergencyThrottleThreshold below 100 may cause frequent throttling"),t.memoryUsageLimit!==void 0&&t.memoryUsageLimit<50&&r.push("memoryUsageLimit below 50MB may cause frequent optimizations"),t.minNodeSeparation!==void 0&&t.collisionRadius!==void 0&&t.minNodeSeparation<t.collisionRadius&&r.push("minNodeSeparation is less than collisionRadius, may cause overlaps"),{valid:n.length===0,errors:n,warnings:r}}testCollisionDetection(){const t={totalNodes:this.nodes.length,collisionPairs:[],overlapCount:0,averageDistance:0,recommendations:[]};if(this.nodes.length<2)return t.recommendations.push("Need at least 2 nodes to test collision detection"),t;let n=0,r=0;for(let i=0;i<this.nodes.length;i++)for(let o=i+1;o<this.nodes.length;o++){const s=this.nodes[i],l=this.nodes[o];if(!s.x||!s.y||!l.x||!l.y)continue;const a=s.x-l.x,u=s.y-l.y,c=Math.sqrt(a*a+u*u),d=this.getSmartCollisionRadius(s),f=this.getSmartCollisionRadius(l),p=d+f;n+=c,r++,c<p&&(t.collisionPairs.push({nodeA:s.id,nodeB:l.id,distance:c,minDistance:p}),t.overlapCount++)}return t.averageDistance=r>0?n/r:0,t.overlapCount>0?(t.recommendations.push(`Found ${t.overlapCount} overlapping node pairs`),t.overlapCount>this.nodes.length*.1&&t.recommendations.push("High overlap rate - consider increasing collision radius or spacing"),t.recommendations.push("Consider running restartSimulation() to resolve overlaps")):t.recommendations.push("No overlaps detected - collision detection working properly"),t.averageDistance<this.config.collisionRadius*2&&t.recommendations.push("Average node distance is low - consider increasing spacing parameters"),t}generateCollisionReport(){const t=this.testCollisionDetection(),n=this.getPerformanceMetrics(),r=this.config.width*this.config.height,o=this.nodes.length*Math.PI*Math.pow(this.config.collisionRadius,2)/r,s=this.config.collisionRadius*2.5,l=Math.max(0,1-Math.abs(t.averageDistance-s)/s);let a=1/0,u=0,c=null;for(const S of t.collisionPairs)a=Math.min(a,S.distance),u=Math.max(u,S.distance),(!c||S.distance<c.distance)&&(c={distance:S.distance,required:S.minDistance});const d=Math.max(0,1-this.simulation.alpha())*(n.frameRate/60);let f;t.overlapCount===0&&l>.8?f="excellent":t.overlapCount<this.nodes.length*.05&&l>.6?f="good":t.overlapCount<this.nodes.length*.15&&l>.4?f="fair":f="poor";const p=[];return o>.3&&p.push("Layout density is high - consider increasing dimensions or reducing collision radius"),l<.5&&p.push("Spacing efficiency is low - adjust force parameters for better distribution"),t.overlapCount>0&&p.push(`${t.overlapCount} overlaps detected - increase collision strength or radius`),d<.7&&p.push("Simulation appears unstable - consider adjusting alpha decay or force parameters"),n.frameRate<30&&p.push("Low frame rate detected - enable performance optimizations"),p.length===0&&p.push("Layout is well-optimized with good spacing and performance"),{summary:{totalNodes:this.nodes.length,totalLinks:this.links.length,layoutDimensions:{width:this.config.width,height:this.config.height},density:Math.round(o*1e3)/1e3},spacing:{averageNodeDistance:Math.round(t.averageDistance*100)/100,minDistance:a===1/0?0:Math.round(a*100)/100,maxDistance:Math.round(u*100)/100,optimalDistance:s,spacingEfficiency:Math.round(l*1e3)/1e3},collisions:{overlapCount:t.overlapCount,criticalOverlaps:t.collisionPairs.filter(S=>S.distance<S.minDistance*.8).length,overlapPercentage:Math.round(t.overlapCount/Math.max(1,this.nodes.length*(this.nodes.length-1)/2)*1e4)/100,worstOverlap:c},performance:{simulationStability:Math.round(d*1e3)/1e3,convergenceRate:Math.round((1-this.simulation.alpha())*1e3)/1e3,layoutQuality:f},recommendations:p}}cleanup(){this.simulation.stop(),this.cleanupWebWorker(),this.performanceMonitoringInterval&&(clearInterval(this.performanceMonitoringInterval),this.performanceMonitoringInterval=null),this.frameTimeHistory=[],this.cpuUsageHistory=[],this.memoryUsageHistory=[],this.performanceMetrics={frameRate:60,avgFrameTime:16.67,cpuUsage:0,memoryUsage:0,simulationSteps:0,throttleLevel:0,activeOptimizations:[],lastMeasurement:performance.now()},this.lastFrameTime=performance.now(),this.isPerformanceMonitoringEnabled=!1,this._emergencyMode=!1,this.qualityLevel="high",this._isUsingWebWorker=!1,this.previousPositions.clear(),this.interpolationTargets.clear(),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),console.log("ForceDirectedLayout: Cleanup completed - all performance monitoring resources disposed")}}const qa={alphaDecay:.0228,alphaMin:.001,velocityDecay:.4,linkDistance:200,linkStrength:.7,chargeStrength:-800,centerStrength:.1,collisionRadius:160,collisionStrength:.8,width:1400,height:800,focusStrength:2,enableSmartSpacing:!0,prioritySpacingMultiplier:1.3,clusterSpacing:150,minNodeSeparation:180,densityAdaptation:!0,edgeBundling:!1,enablePerformanceMonitoring:!0,useWebWorkers:!0,maxFrameRate:60,emergencyThrottleThreshold:500,adaptiveQuality:!0,memoryUsageLimit:200};class rE{constructor(){J(this,"defaultOptions",{padding:150,includeRelatedTasks:!0,maxZoom:1.5,minZoom:.1,animationDuration:1e3})}calculateOptimalViewport(t,n,r,i={}){const o={...this.defaultOptions,...i},s=t.find(y=>y.data.task.id===n);if(!s||!s.position)return null;let l=[s];if(o.includeRelatedTasks){const y=t.map(_=>_.data.task),k=this.findRelatedTasks(s.data.task,y),E=t.filter(_=>k.some(j=>j.id===_.data.task.id)&&_.position);l=[...l,...E]}const a=this.calculateBoundingBox(l);if(!a)return r||{x:0,y:0,zoom:1};const{width:u,height:c}=this.getViewportDimensions(),d=a.maxX-a.minX+300,f=a.maxY-a.minY+200,p=(u-o.padding*2)/d,S=(c-o.padding*2)/f,g=Math.min(p,S,o.maxZoom,Math.max(o.minZoom,.1)),w=(a.minX+a.maxX)/2,h=(a.minY+a.maxY)/2,m=u/2-w*g,v=c/2-h*g;return{x:m,y:v,zoom:g}}calculateFitViewport(t,n,r={}){const i={...this.defaultOptions,...r},o=n.filter(w=>w.position&&t.some(h=>h.id===w.data.task.id));if(o.length===0)return{x:0,y:0,zoom:1};const s=this.calculateBoundingBox(o);if(!s)return{x:0,y:0,zoom:1};const{width:l,height:a}=this.getViewportDimensions(),u=s.maxX-s.minX+i.padding*2,c=s.maxY-s.minY+i.padding*2,d=l/u,f=a/c,p=Math.min(d,f,i.maxZoom),S=(s.minX+s.maxX)/2,g=(s.minY+s.maxY)/2;return{x:l/2-S*p,y:a/2-g*p,zoom:p}}findRelatedTasks(t,n){const r=[];return t.dependencies.forEach(i=>{const o=n.find(s=>s.id===i);o&&r.push(o)}),n.forEach(i=>{i.dependencies.includes(t.id)&&i.id!==t.id&&r.push(i)}),r.forEach(i=>{i.subtasks.some(o=>o.status==="in-progress"||o.status==="pending")}),r}calculateBoundingBox(t){if(t.length===0)return null;const n=t.map(r=>r.position).filter(r=>r!==void 0);return n.length===0?null:{minX:Math.min(...n.map(r=>r.x)),maxX:Math.max(...n.map(r=>r.x)),minY:Math.min(...n.map(r=>r.y)),maxY:Math.max(...n.map(r=>r.y))}}getViewportDimensions(){return typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:1200,height:800}}shouldAnimateTransition(t,n){const r=Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)),i=Math.abs(n.zoom-t.zoom);return r>50||i>.1}}class iE{constructor(){J(this,"activeTransition",null);J(this,"reactFlowInstance",null)}setReactFlowInstance(t){this.reactFlowInstance=t}transitionToViewport(t,n=1e3,r="ease-out"){return new Promise(i=>{if(!this.reactFlowInstance){console.warn("ReactFlow instance not set"),i();return}this.activeTransition&&cancelAnimationFrame(this.activeTransition);const o=performance.now(),s=this.reactFlowInstance.getViewport(),l=a=>{const u=a-o,c=Math.min(u/n,1),d=this.applyEasing(c,r),f={x:s.x+(t.x-s.x)*d,y:s.y+(t.y-s.y)*d,zoom:s.zoom+(t.zoom-s.zoom)*d};this.reactFlowInstance.setViewport(f),c<1?this.activeTransition=requestAnimationFrame(l):(this.activeTransition=null,i())};this.activeTransition=requestAnimationFrame(l)})}applyEasing(t,n){switch(n){case"ease-out":return 1-Math.pow(1-t,3);case"ease-in":return Math.pow(t,3);case"ease-in-out":return t<.5?4*Math.pow(t,3):1-Math.pow(-2*t+2,3)/2;default:return t}}cancelTransition(){this.activeTransition&&(cancelAnimationFrame(this.activeTransition),this.activeTransition=null)}}class oE{constructor(){J(this,"subscribers",[]);J(this,"currentActiveTask",null)}updateActiveTask(t){const n=this.currentActiveTask,r=t.find(i=>i.status==="in-progress"||i.subtasks.some(o=>o.status==="in-progress"))||null;(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&(this.currentActiveTask=r,this.subscribers.forEach(i=>{i(r,n)}))}subscribe(t){return this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);n>-1&&this.subscribers.splice(n,1)}}getCurrentActiveTask(){return this.currentActiveTask}}var sE={};function Pf(e,t){const n=[],u=(typeof window<"u"?window.innerWidth:1200)-2*40,c=Math.max(1,Math.floor((u+120)/420)),d=new Array(c).fill(0);return e.forEach(f=>{const p=`task-${f.id}`,S=t.get(p);if(S){n.push({id:p,type:"task",position:S,data:{task:f,isCollapsed:!1}});return}const g=180+f.subtasks.length*25+(f.description.length>100?20:0)+(f.dependencies.length>0?15:0),w=d.indexOf(Math.min(...d)),h=40+w*420,m=140+d[w];d[w]+=g+80,n.push({id:p,type:"task",position:{x:h,y:m},data:{task:f,isCollapsed:!1}})}),n}function $m(e,t,n=!1,r=null){const i=[],o=new Map,s=new Set,l=280,a=100,u=160,c=60,d=120,p=(typeof window<"u"?window.innerWidth:1400)-2*c,S=Math.max(3,Math.floor(p/(l+a))),g=n&&r?e.find(m=>m.id===r&&(m.status==="in-progress"||m.subtasks.some(v=>v.status==="in-progress"))):e.find(m=>m.status==="in-progress"||m.subtasks.some(v=>v.status==="in-progress")),w=m=>{if(o.has(m))return o.get(m);if(s.has(m))return console.warn(`Circular dependency detected involving task ${m}`),0;const v=e.find(E=>E.id===m);if(!v)return 0;s.add(m);let y=-1;for(const E of v.dependencies)y=Math.max(y,w(E));s.delete(m);const k=y+1;return o.set(m,k),k};e.forEach(m=>w(m.id));const h=new Map;if(n&&g){const m=Math.floor(S/2),v=o.get(g.id)||0;e.forEach(y=>{let k=o.get(y.id)||0;if(y.id===g.id)k=m;else{const _=(o.get(y.id)||0)-v;k=m+_,k=Math.max(0,k)}h.has(k)||h.set(k,[]),h.get(k).push(y)})}else e.forEach(m=>{const v=o.get(m.id)||0;h.has(v)||h.set(v,[]),h.get(v).push(m)});for(const[m,v]of Array.from(h.entries()).sort(([y],[k])=>y-k)){const y=m%S,k=Math.floor(m/S);v.sort((E,_)=>{if(n&&g){const N=E.id===g.id,T=_.id===g.id,M=g.dependencies.includes(E.id),z=g.dependencies.includes(_.id),b=E.dependencies.includes(g.id),C=_.dependencies.includes(g.id);if(N&&!T)return-1;if(T&&!N)return 1;if(M&&!z)return-1;if(z&&!M)return 1;if(b&&!C)return-1;if(C&&!b)return 1}const j={high:3,medium:2,low:1},P={"in-progress":3,pending:2,done:1},D=j[E.priority]||1,R=j[_.priority]||1;if(D!==R)return R-D;const H=P[E.status]||1,O=P[_.status]||1;return H!==O?O-H:E.id-_.id}),v.forEach((E,_)=>{const j=`task-${E.id}`,P=t.get(j);if(P){i.push({id:j,type:"task",position:P,data:{task:E,isCollapsed:!1}});return}const R=d+k*600+_*u;let H=c+y*(l+a);const O=R;i.filter(T=>{if(!T.position)return!1;const M=Math.abs(T.position.x-H),z=Math.abs(T.position.y-O);return M<50&&z<100}).length>0&&(H-=30*(_+1)),i.push({id:j,type:"task",position:{x:H,y:O},data:{task:E,isCollapsed:!1}})})}return i}function Af(e,t,n,r=null){const i=[];return!n||e.length===0?$m(e,t,!1,r):(e.forEach(o=>{const s=`task-${o.id}`,l=t.get(s)||{x:Math.random()*800+200,y:Math.random()*600+150};i.push({id:s,type:"task",position:l,data:{task:o,isCollapsed:!1}})}),i)}function on(e,t,n,r=!1,i=null,o){if(o&&t==="graph")return Af(e,n,o,i);switch(t){case"grid":return Pf(e,n);case"graph":return $m(e,n,r,i);case"force":return Af(e,n,o||null,i);default:return Pf(e,n)}}const js="taskmaster-project-path",yc="taskmaster-theme",vc="taskmaster-positions",xc="taskmaster-viewport",Ps="taskmaster-project-name",wc="taskmaster-focus-on-active-task",Sc="taskmaster-dynamic-layout",lE="taskmaster-default-start-path",zo=()=>typeof window>"u"?"light":window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",aE=()=>{if(typeof window>"u")return sE.HOME||"/";const e=localStorage.getItem(lE);return e&&e.trim()?e:"/"},uE=()=>{if(typeof window>"u")return null;try{return localStorage.getItem(js)}catch(e){return console.warn("Failed to load project path from localStorage:",e),null}},cE=()=>{if(typeof window>"u")return"system";try{return localStorage.getItem(yc)||"system"}catch(e){return console.warn("Failed to load theme from localStorage:",e),"system"}},dE=()=>{if(typeof window>"u")return new Map;try{const e=localStorage.getItem(vc);if(e){const t=JSON.parse(e);return new Map(t)}}catch(e){console.warn("Failed to load positions from localStorage:",e)}return new Map},fE=()=>{if(typeof window>"u")return null;try{const e=localStorage.getItem(xc);return e?JSON.parse(e):null}catch(e){return console.warn("Failed to load viewport from localStorage:",e),null}},hE=()=>{if(typeof window>"u")return null;try{return localStorage.getItem(Ps)}catch(e){return console.warn("Failed to load project name from localStorage:",e),null}},pE=()=>{if(typeof window>"u")return!0;try{const e=localStorage.getItem(wc);return e!==null?JSON.parse(e):!0}catch(e){return console.warn("Failed to load focus on active task setting from localStorage:",e),!0}},mE=()=>{if(typeof window>"u")return!1;try{const e=localStorage.getItem(Sc);return e!==null?JSON.parse(e):!1}catch(e){return console.warn("Failed to load dynamic layout setting from localStorage:",e),!1}},Df=e=>{if(!(typeof window>"u"))try{e?localStorage.setItem(js,e):localStorage.removeItem(js)}catch(t){console.warn("Failed to save project path to localStorage:",t)}},gE=e=>{if(!(typeof window>"u"))try{localStorage.setItem(yc,e)}catch(t){console.warn("Failed to save theme to localStorage:",t)}},yE=e=>{if(!(typeof window>"u"))try{const t=Array.from(e.entries());localStorage.setItem(vc,JSON.stringify(t))}catch(t){console.warn("Failed to save positions to localStorage:",t)}},vE=e=>{if(!(typeof window>"u"))try{localStorage.setItem(xc,JSON.stringify(e))}catch(t){console.warn("Failed to save viewport to localStorage:",t)}},zf=e=>{if(!(typeof window>"u"))try{e?localStorage.setItem(Ps,e):localStorage.removeItem(Ps)}catch(t){console.warn("Failed to save project name to localStorage:",t)}},xE=e=>{if(!(typeof window>"u"))try{localStorage.setItem(wc,JSON.stringify(e))}catch(t){console.warn("Failed to save focus on active task setting to localStorage:",t)}},wE=e=>{if(!(typeof window>"u"))try{localStorage.setItem(Sc,JSON.stringify(e))}catch(t){console.warn("Failed to save dynamic layout setting to localStorage:",t)}},SE=e=>{if(!e)return"TaskMaster Visualizer";try{const t=e.split("/").pop()||e.split("\\").pop();if(t&&t!=="tasks")return t.replace(/[-_]/g," ").replace(/\b\w/g,n=>n.toUpperCase()).trim()}catch(t){console.warn("Failed to extract project name:",t)}return"TaskMaster Visualizer"};class kE{constructor(){J(this,"nodePositions",new Map)}addNode(t,n,r,i=280,o=120){this.nodePositions.set(t,{x:n,y:r,width:i,height:o})}getNodeBounds(t){return this.nodePositions.get(t)}checkIntersection(t,n,r,i){for(const[o,s]of this.nodePositions)if(this.lineIntersectsRect(t,n,r,i,s))return!0;return!1}lineIntersectsRect(t,n,r,i,o){const s=o.x,l=o.x+o.width,a=o.y,u=o.y+o.height;return this.lineIntersectsLine(t,n,r,i,s,a,l,a)||this.lineIntersectsLine(t,n,r,i,l,a,l,u)||this.lineIntersectsLine(t,n,r,i,l,u,s,u)||this.lineIntersectsLine(t,n,r,i,s,u,s,a)}lineIntersectsLine(t,n,r,i,o,s,l,a){const u=(t-r)*(s-a)-(n-i)*(o-l);if(Math.abs(u)<1e-10)return!1;const c=((t-o)*(s-a)-(n-s)*(o-l))/u,d=-((t-r)*(n-s)-(n-i)*(t-o))/u;return c>=0&&c<=1&&d>=0&&d<=1}}function NE(e){const t=new Map;e.forEach(r=>{const i=`${r.source}-${r.target}`;t.has(i)||t.set(i,[]),t.get(i).push(r)});const n=[];return t.forEach(r=>{r.length===1?n.push({...r[0],offset:0}):r.forEach((i,o)=>{const s=r.length,l=(o-(s-1)/2)*20;n.push({...i,offset:l})})}),n}function di(e,t){if(t!=="graph"&&t!=="force")return[];const n=[],r=new kE,i=new Map;e.forEach(l=>i.set(l.id,l)),e.forEach(l=>{r.addNode(`task-${l.id}`,l.id*300,l.id*150)});const o=[];return e.forEach(l=>{l.dependencies.forEach((a,u)=>{const c=i.get(a);c&&o.push({source:`task-${a}`,target:`task-${l.id}`,data:{sourceTask:c,targetTask:l,relationshipType:"dependency",priority:u}})})}),NE(o).forEach(({source:l,target:a,data:u,offset:c})=>{const{sourceTask:d,targetTask:f}=u,p=d.status==="in-progress"||d.subtasks.some(E=>E.status==="in-progress"),S=f.status==="in-progress"||f.subtasks.some(E=>E.status==="in-progress"),g=p||S;let w="#64748b",h=.6,m=2,v,y="smoothstep";S?(w="#3b82f6",h=.9,m=3,y="smoothstep"):p?(w="#10b981",h=.8,m=2.5,y="smoothstep"):d.status==="done"&&f.status==="pending"?(w="#22c55e",h=.7,v="8,4",y="bezier"):d.status==="done"&&f.status==="done"&&(w="#94a3b8",h=.4,m=1.5,y="straight"),f.priority==="high"?(w="#ef4444",m=Math.max(m,2.5)):f.priority==="low"&&(h=Math.min(h,.5),m=Math.max(m-.5,1));const k={stroke:w,strokeWidth:m,strokeOpacity:h,strokeDasharray:v};c!==0&&(k.transform=`translateY(${c}px)`,h=Math.max(.3,h-Math.abs(c)*.01)),n.push({id:`edge-${d.id}-${f.id}-${Math.abs(c)}`,source:l,target:a,type:y,animated:g,style:k})}),n}const Mn=CN((e,t)=>{const n=cE(),r=zo(),i=n==="dark"||n==="system"&&r==="dark";return typeof window<"u"&&(i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),{tasks:[],nodes:[],edges:[],selectedTaskId:null,editorPreference:"cursor",searchQuery:"",layoutMode:"grid",projectPath:uE()||aE(),isLoading:!1,error:null,theme:n,isDarkMode:i,customPositions:dE(),lastViewport:fE(),projectName:hE(),focusOnActiveTask:pE(),dynamicLayout:mE(),currentActiveTaskId:null,forceLayout:null,isSimulationRunning:!1,viewportManager:new rE,cameraController:new iE,taskStatusManager:new oE,autoFocusOnActiveTask:!0,focusTransitionDuration:1e3,isLiveUpdateEnabled:!1,sseConnection:null,lastUpdateTime:null,loadTasks:o=>{console.log("loadTasks called with:",o),console.log("Number of tasks to load:",o==null?void 0:o.length);const{layoutMode:s,customPositions:l,dynamicLayout:a,forceLayout:u}=t(),c=o.find(S=>S.status==="in-progress"||S.subtasks.some(g=>g.status==="in-progress")),d=(c==null?void 0:c.id)||null,f=on(o,s,l,a,d,u),p=di(o,s);console.log("Generated nodes:",f.length),console.log("Generated edges:",p.length),e({tasks:o,nodes:f,edges:p,error:null,currentActiveTaskId:d})},loadTasksFromPath:async o=>{e({isLoading:!0,error:null});try{const s=await fetch(`/api/tasks?projectPath=${encodeURIComponent(o)}`);if(!s.ok){const v=await s.json();throw new Error(v.error||"Failed to load tasks")}const a=(await s.json()).tasks||[],{layoutMode:u,customPositions:c,dynamicLayout:d,forceLayout:f}=t(),p=a.find(v=>v.status==="in-progress"||v.subtasks.some(y=>y.status==="in-progress")),S=(p==null?void 0:p.id)||null,g=on(a,u,c,d,S,f),w=di(a,u),h=t().projectName;let m=h;h||(m=SE(o)),e({tasks:a,nodes:g,edges:w,projectPath:o,projectName:m,isLoading:!1,error:null,currentActiveTaskId:S}),Df(o),h||zf(m),t().startWatchingProject(o)}catch(s){console.error("Failed to load tasks:",s),e({isLoading:!1,error:s instanceof Error?s.message:"Failed to load tasks",tasks:[],nodes:[],edges:[]})}},setProjectPath:o=>{e({projectPath:o}),Df(o)},setLayoutMode:o=>{const s=t(),{tasks:l,customPositions:a,dynamicLayout:u,currentActiveTaskId:c,forceLayout:d}=s;if(o==="force"&&!d){const S={...qa,width:typeof window<"u"?window.innerWidth:1200,height:typeof window<"u"?window.innerHeight:800,activeTaskId:c},g=new jf(S);g.onTickUpdate(w=>{const{customPositions:h,tasks:m,layoutMode:v}=t(),y=new Map(h);if(w.forEach(k=>{k.x!==void 0&&k.y!==void 0&&y.set(k.id,{x:k.x,y:k.y})}),v==="force"){const k=on(m,"force",y,u,c,g);e({customPositions:y,nodes:k})}else e({customPositions:y})}),g.onSimulationEnd(()=>{e({isSimulationRunning:!1})}),e({forceLayout:g}),g.optimizeForLargeDataset(l.length),g.setData(l,a),g.start(),e({isSimulationRunning:!0})}const f=on(l,o,a,u,c,o==="force"?d||t().forceLayout:d),p=di(l,o);e({layoutMode:o,nodes:f,edges:p})},selectTask:o=>e({selectedTaskId:o}),updateTaskStatus:(o,s)=>e(l=>{const a=l.tasks.map(p=>p.id===o?{...p,status:s}:p),u=a.find(p=>p.status==="in-progress"||p.subtasks.some(S=>S.status==="in-progress")),c=(u==null?void 0:u.id)||null,d=c!==l.currentActiveTaskId;let f=l.nodes.map(p=>p.data.task.id===o?{...p,data:{...p.data,task:{...p.data.task,status:s}}}:p);return l.dynamicLayout&&(l.layoutMode==="graph"||l.layoutMode==="force")&&d&&(f=on(a,l.layoutMode,l.customPositions,!0,c,l.forceLayout)),{tasks:a,nodes:f,currentActiveTaskId:c}}),toggleTaskCollapse:o=>e(s=>({nodes:s.nodes.map(l=>l.data.task.id===o?{...l,data:{...l.data,isCollapsed:!l.data.isCollapsed}}:l)})),setEditorPreference:o=>e({editorPreference:o}),openInEditor:o=>{const{editorPreference:s,projectPath:l}=t(),a=t().tasks.find(f=>f.id===o);if(!a)return;if(!l){console.warn("No project path available"),alert("No project path available. Please load a project first.");return}let u;a.filePath?u=a.filePath:u=`${l}/tasks/tasks.json`;const c=s==="vscode"?"vscode":"cursor",d=`${c}://file${u}`;try{window.open(d,"_blank"),console.log(`Opening file in ${s}: ${u}`)}catch(f){console.error("Failed to open file in editor:",f),alert(`Failed to open file in ${s}. Make sure ${s} is installed and associated with ${c}:// URLs.`)}},setSearchQuery:o=>e({searchQuery:o}),setTheme:o=>{const s=zo(),l=o==="dark"||o==="system"&&s==="dark";typeof window<"u"&&(l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),e({theme:o,isDarkMode:l}),gE(o)},updateNodePosition:(o,s)=>{const l=t(),a=new Map(l.customPositions);a.set(o,s),e({customPositions:a,nodes:l.nodes.map(u=>u.id===o?{...u,position:s}:u)}),yE(a)},setLastViewport:o=>{e({lastViewport:o}),vE(o)},setProjectName:o=>{e({projectName:o}),zf(o)},setFocusOnActiveTask:o=>{e({focusOnActiveTask:o}),xE(o)},setDynamicLayout:o=>{const s=t();if(e({dynamicLayout:o}),wE(o),o&&(s.layoutMode==="graph"||s.layoutMode==="force")){const l=s.tasks.find(d=>d.status==="in-progress"||d.subtasks.some(f=>f.status==="in-progress")),a=(l==null?void 0:l.id)||null,u=on(s.tasks,s.layoutMode,s.customPositions,o,a,s.forceLayout),c=di(s.tasks,s.layoutMode);e({nodes:u,edges:c,currentActiveTaskId:a})}},initializeForceLayout:()=>{const{tasks:o}=t();if(o.length===0)return;const s={...qa,width:typeof window<"u"?window.innerWidth:1200,height:typeof window<"u"?window.innerHeight:800},l=new jf(s);l.onTickUpdate(a=>{const{customPositions:u,tasks:c,layoutMode:d,dynamicLayout:f,currentActiveTaskId:p}=t(),S=new Map(u);if(a.forEach(g=>{g.x!==void 0&&g.y!==void 0&&S.set(g.id,{x:g.x,y:g.y})}),d==="force"){const g=on(c,"force",S,f,p,l);e({customPositions:S,nodes:g})}else e({customPositions:S})}),l.onSimulationEnd(()=>{e({isSimulationRunning:!1})}),e({forceLayout:l,isSimulationRunning:!1}),l.optimizeForLargeDataset(o.length)},updateForceLayout:o=>{const{forceLayout:s}=t();s&&o&&(o.linkDistance||o.chargeStrength||o.collisionRadius?s.transitionToNewLayout(o,500):s.updateConfig(o))},startForceSimulation:()=>{const{forceLayout:o,tasks:s,customPositions:l}=t();!o||s.length===0||(o.setData(s,l),o.start(),e({isSimulationRunning:!0}))},stopForceSimulation:()=>{const{forceLayout:o}=t();o&&(o.stop(),e({isSimulationRunning:!1}))},setActiveTaskFocus:o=>{const{forceLayout:s}=t();if(!s)return;const l={activeTaskId:o};s.updateConfig(l),e({currentActiveTaskId:o})},enableLiveUpdates:()=>{const o=t();if(!(o.sseConnection||o.isLiveUpdateEnabled))try{console.log("Connecting to live updates...");const s=new EventSource("/api/live-updates");s.onopen=()=>{console.log("SSE connection opened"),e({isLiveUpdateEnabled:!0,sseConnection:s})},s.onmessage=l=>{try{const a=JSON.parse(l.data);if(console.log("Received SSE message:",a),a.type==="tasks-updated"){console.log("Tasks updated, refreshing...");const{layoutMode:u,customPositions:c}=t(),d=a.data.tasks||[],f=on(d,u,c),p=di(d,u);e({tasks:d,nodes:f,edges:p,lastUpdateTime:a.timestamp,error:null})}else a.type==="error"&&(console.error("SSE error:",a.message),e({error:a.message}))}catch(a){console.error("Failed to parse SSE message:",a)}},s.onerror=l=>{console.error("SSE connection error:",l),e({isLiveUpdateEnabled:!1,sseConnection:null,error:"Live updates connection lost"})}}catch(s){console.error("Failed to enable live updates:",s),e({error:"Failed to enable live updates"})}},disableLiveUpdates:()=>{const o=t();o.sseConnection&&o.sseConnection.close(),e({isLiveUpdateEnabled:!1,sseConnection:null}),console.log("Live updates disabled")},startWatchingProject:async o=>{try{const s=await fetch("/api/watch-project",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectPath:o})});if(!s.ok){const u=await s.json();throw new Error(u.error||"Failed to start watching project")}const l=await s.json();console.log("Started watching project:",l);const a=t();a.isLiveUpdateEnabled||a.enableLiveUpdates()}catch(s){console.error("Failed to start watching project:",s),e({error:`Failed to start watching project: ${s instanceof Error?s.message:"Unknown error"}`})}},stopWatchingProject:async o=>{try{const s=await fetch("/api/unwatch-project",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectPath:o})});if(!s.ok){const a=await s.json();throw new Error(a.error||"Failed to stop watching project")}const l=await s.json();console.log("Stopped watching project:",l)}catch(s){console.error("Failed to stop watching project:",s),e({error:`Failed to stop watching project: ${s instanceof Error?s.message:"Unknown error"}`})}},clearAllStoredData:()=>{if(!(typeof window>"u"))try{[js,yc,vc,xc,Ps,wc,Sc].forEach(a=>{localStorage.removeItem(a)}),console.log("All stored data cleared"),e({projectPath:null,theme:"system",isDarkMode:zo()==="dark",customPositions:new Map,lastViewport:null,projectName:null,focusOnActiveTask:!0,dynamicLayout:!1,editorPreference:"cursor",selectedTaskId:null,searchQuery:"",layoutMode:"grid"});const l=zo()==="dark";typeof window<"u"&&(l?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}catch(o){console.warn("Failed to clear stored data:",o)}}}}),EE={done:x.jsx(dc,{className:"w-5 h-5 text-green-500"}),"in-progress":x.jsx(hc,{className:"w-5 h-5 text-blue-500"}),pending:x.jsx(fc,{className:"w-5 h-5 text-gray-400"})},_E={high:"border-red-500",medium:"border-yellow-500",low:"border-gray-300"},CE={high:"border-red-400",medium:"border-yellow-400",low:"border-gray-600"},ME=({data:e})=>{const{task:t,isCollapsed:n}=e,{selectTask:r,toggleTaskCollapse:i,openInEditor:o,layoutMode:s,isDarkMode:l,focusOnActiveTask:a}=Mn(),[u,c]=$.useState(0),[d,f]=$.useState(t.status),[p,S]=$.useState(t.subtasks.map(M=>M.status)),[g,w]=$.useState(!1),[h,m]=$.useState(!1),[v,y]=$.useState([]),k=$.useRef(),E=t.subtasks.length>0?t.subtasks.filter(M=>M.status==="done").length/t.subtasks.length*100:0,_=t.status==="in-progress"||t.subtasks.some(M=>M.status==="in-progress");$.useEffect(()=>{d!==t.status&&(w(!0),t.status==="done"&&d!=="done"&&(m(!0),setTimeout(()=>m(!1),2e3)),setTimeout(()=>w(!1),1e3),f(t.status));const M=t.subtasks.map(b=>b.status),z=[];M.forEach((b,C)=>{b==="done"&&p[C]!=="done"&&z.push(t.subtasks[C].id)}),z.length>0&&(y(z),setTimeout(()=>y([]),1e3)),S(M)},[t.status,t.subtasks,d,p]);const j=$.useMemo(()=>{if(!_)return!1;const M=new Date,z=new Date(M.getTime()-10*60*1e3);return t.lastUpdated&&new Date(t.lastUpdated)>z?!0:t.subtasks.some(b=>b.status==="in-progress"&&b.lastUpdated?new Date(b.lastUpdated)>z:!1)},[t.lastUpdated,t.subtasks,_]);$.useEffect(()=>{k.current&&cancelAnimationFrame(k.current);const M=u,z=E,b=performance.now(),C=800,A=F=>{const L=F-b,B=Math.min(L/C,1),V=1-Math.pow(1-B,3),Y=M+(z-M)*V;c(Y),B<1&&(k.current=requestAnimationFrame(A))};return k.current=requestAnimationFrame(A),()=>{k.current&&cancelAnimationFrame(k.current)}},[E]);const P=()=>{r(t.id)},D=M=>{M.stopPropagation(),i(t.id)},R=M=>{M.stopPropagation(),o(t.id)},H=s==="graph",O=l?CE:_E,N=t.status==="done",T=a&&_&&!N;return x.jsx(x.Fragment,{children:x.jsxs("div",{className:`
          ${l?"bg-gray-800 text-white border-gray-600":"bg-white text-gray-800 border-gray-300"} 
          rounded-lg shadow-md p-4 min-w-[250px] max-w-[350px] border-2 
          ${O[t.priority]} 
          cursor-pointer hover:shadow-lg transition-all duration-300
          ${T?"shadow-2xl shadow-orange-500/50 ring-4 ring-orange-400/60 ring-offset-2 active-task-border-glow":""}
          ${_&&!T?"shadow-lg shadow-orange-500/30 ring-2 ring-orange-400/40":""}
          ${g?"animate-status-change":""}
          ${h?"animate-completion-celebration":""}
        `,onClick:P,children:[H&&x.jsx(Wr,{type:"target",position:G.Left,className:`!w-3 !h-3 ${l?"!bg-gray-400":"!bg-gray-500"}`}),x.jsxs("div",{className:"flex items-start justify-between mb-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[EE[t.status],x.jsxs("span",{className:`text-sm font-medium ${l?"text-gray-300":"text-gray-600"}`,children:["#",t.id]}),j&&x.jsxs("div",{className:"flex items-center gap-1 animate-pulse",children:[x.jsx(Mm,{className:"w-4 h-4 text-orange-500 animate-bounce"}),x.jsx("span",{className:"text-xs text-orange-500 font-bold",children:"Live"})]}),_&&t.subtasks.length===0&&x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full animate-ping"}),x.jsx("span",{className:"text-xs text-orange-500 font-bold tracking-wide",children:"ACTIVE"})]}),g&&x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-ping"}),x.jsx("span",{className:"text-xs text-blue-500 font-medium",children:"Updated"})]}),h&&x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-ping"}),x.jsx("span",{className:"text-xs text-green-500 font-bold",children:"DONE!"})]})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[t.subtasks.length>0&&x.jsx("button",{onClick:D,className:`p-1 rounded hover:bg-opacity-20 ${l?"hover:bg-white":"hover:bg-black"}`,children:n?x.jsx(tN,{className:"w-4 h-4"}):x.jsx(nN,{className:"w-4 h-4"})}),x.jsx("button",{onClick:R,className:`p-1 rounded hover:bg-opacity-20 ${l?"hover:bg-white":"hover:bg-black"}`,title:"Open in editor",children:x.jsx(iN,{className:"w-4 h-4"})})]})]}),x.jsx("h3",{className:`font-semibold mb-2 line-clamp-2 ${l?"text-white":"text-gray-800"}`,children:t.title}),!n&&x.jsxs(x.Fragment,{children:[x.jsx("p",{className:`text-sm line-clamp-3 mb-3 ${l?"text-gray-300":"text-gray-600"}`,children:t.description}),t.subtasks.length>0&&x.jsxs("div",{className:`mt-3 pt-3 border-t ${l?"border-gray-600":"border-gray-200"}`,children:[x.jsxs("p",{className:`text-xs font-medium mb-2 ${l?"text-gray-400":"text-gray-500"}`,children:["Subtasks: ",t.subtasks.filter(M=>M.status==="done").length,"/",t.subtasks.length]}),x.jsxs("div",{className:"space-y-1 mb-3",children:[t.subtasks.slice(0,n?2:t.subtasks.length).map(M=>x.jsxs("div",{className:`flex items-center gap-2 text-xs py-1 px-2 rounded transition-all duration-300 ${v.includes(M.id)?"animate-subtask-complete":""} ${M.status==="in-progress"?`${l?"bg-orange-900/20 text-orange-300":"bg-orange-50 text-orange-700"}`:`${l?"text-gray-300":"text-gray-700"}`}`,children:[M.status==="done"?x.jsx(dc,{className:"w-3 h-3 text-green-500 flex-shrink-0"}):M.status==="in-progress"?x.jsx(hc,{className:"w-3 h-3 text-orange-500 flex-shrink-0"}):x.jsx(fc,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),x.jsx("span",{className:"truncate",children:M.title})]},M.id)),n&&t.subtasks.length>2&&x.jsxs("p",{className:`text-xs ${l?"text-gray-500":"text-gray-400"}`,children:["+",t.subtasks.length-2," more..."]})]}),x.jsxs("div",{className:`w-full rounded-full h-2 relative overflow-hidden ${l?"bg-gray-700":"bg-gray-200"}`,children:[x.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-out ${_?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-blue-500"}`,style:{width:`${u}%`}}),_&&x.jsx("div",{className:"absolute top-0 left-0 h-full w-full overflow-hidden rounded-full",children:x.jsx("div",{className:"h-full w-8 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-slide-right"})})]})]}),t.dependencies.length>0&&x.jsxs("p",{className:`text-xs mt-2 ${l?"text-gray-400":"text-gray-500"}`,children:["Dependencies: ",t.dependencies.join(", ")]})]}),H&&x.jsx(Wr,{type:"source",position:G.Right,className:`!w-3 !h-3 ${l?"!bg-gray-400":"!bg-gray-500"}`})]})})},TE=()=>{const{selectedTaskId:e,tasks:t,selectTask:n,updateTaskStatus:r,isDarkMode:i}=Mn(),o=t.find(l=>l.id===e);if(!o)return null;const s=["pending","in-progress","done"];return x.jsxs("div",{className:`absolute right-0 top-0 h-full w-96 shadow-xl p-6 overflow-y-auto z-10 ${i?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("h2",{className:`text-xl font-bold ${i?"text-white":"text-gray-900"}`,children:["Task #",o.id]}),x.jsx("button",{onClick:()=>n(null),className:`p-2 rounded ${i?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:x.jsx(pc,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("h3",{className:`text-lg font-semibold mb-2 ${i?"text-white":"text-gray-900"}`,children:o.title}),x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx(vN,{className:`w-4 h-4 ${i?"text-gray-400":"text-gray-500"}`}),x.jsxs("span",{className:`px-2 py-1 rounded text-xs font-medium ${o.priority==="high"?i?"bg-red-900 text-red-200":"bg-red-100 text-red-700":o.priority==="medium"?i?"bg-yellow-900 text-yellow-200":"bg-yellow-100 text-yellow-700":i?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:[o.priority," priority"]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-1 ${i?"text-gray-300":"text-gray-700"}`,children:"Status"}),x.jsxs("select",{value:o.status,onChange:l=>r(o.id,l.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${i?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[s.map(l=>x.jsx("option",{value:l,children:l},l)),"          "]})]}),x.jsxs("div",{children:[x.jsxs("h4",{className:`text-sm font-medium mb-1 flex items-center gap-1 ${i?"text-gray-300":"text-gray-700"}`,children:[x.jsx(rN,{className:"w-4 h-4"}),"Description"]}),x.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:o.description})]}),x.jsxs("div",{children:[x.jsxs("h4",{className:`text-sm font-medium mb-1 flex items-center gap-1 ${i?"text-gray-300":"text-gray-700"}`,children:[x.jsx(oN,{className:"w-4 h-4"}),"Details"]}),x.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:o.details})]}),x.jsxs("div",{children:[x.jsxs("h4",{className:`text-sm font-medium mb-1 flex items-center gap-1 ${i?"text-gray-300":"text-gray-700"}`,children:[x.jsx(xN,{className:"w-4 h-4"}),"Test Strategy"]}),x.jsx("p",{className:`text-sm ${i?"text-gray-400":"text-gray-600"}`,children:o.testStrategy})]}),o.dependencies.length>0&&x.jsxs("div",{children:[x.jsx("h4",{className:`text-sm font-medium mb-1 ${i?"text-gray-300":"text-gray-700"}`,children:"Dependencies"}),x.jsx("div",{className:"flex flex-wrap gap-2",children:o.dependencies.map(l=>x.jsxs("span",{className:`px-2 py-1 rounded text-sm ${i?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"}`,children:["Task #",l]},l))})]}),o.subtasks.length>0&&x.jsxs("div",{children:[x.jsx("h4",{className:`text-sm font-medium mb-2 ${i?"text-gray-300":"text-gray-700"}`,children:"Subtasks"}),x.jsx("div",{className:"space-y-2",children:o.subtasks.map(l=>x.jsxs("div",{className:`p-2 rounded ${i?"bg-gray-700":"bg-gray-50"}`,children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`w-2 h-2 rounded-full ${l.status==="done"?"bg-green-500":l.status==="in-progress"?"bg-blue-500":"bg-gray-400"}`}),x.jsx("span",{className:`text-sm font-medium ${i?"text-white":"text-gray-900"}`,children:l.title})]}),x.jsx("p",{className:`text-xs mt-1 ${i?"text-gray-400":"text-gray-600"}`,children:l.description})]},l.id))})]})]})]})},bE=({onClose:e})=>{const{editorPreference:t,setEditorPreference:n,isDarkMode:r,focusOnActiveTask:i,setFocusOnActiveTask:o,dynamicLayout:s,setDynamicLayout:l,layoutMode:a,updateForceLayout:u,clearAllStoredData:c,setProjectPath:d,projectPath:f}=Mn(),[p,S]=$.useState(null),[g,w]=$.useState(!1),[h,m]=$.useState({enableSmartSpacing:!0,prioritySpacingMultiplier:1.3,clusterSpacing:150,minNodeSeparation:180,densityAdaptation:!0,edgeBundling:!1}),[v,y]=$.useState(!1),[k,E]=$.useState(null),[_,j]=$.useState({linkDistance:200,linkStrength:.7,chargeStrength:-800,centerStrength:.1,collisionRadius:160,collisionStrength:.8,alphaDecay:.0228,alphaMin:.001,velocityDecay:.4}),P={small:{linkDistance:250,chargeStrength:-1200,alphaDecay:.0228,collisionRadius:180},medium:{linkDistance:200,chargeStrength:-800,alphaDecay:.05,collisionRadius:160},large:{linkDistance:150,chargeStrength:-400,alphaDecay:.1,collisionRadius:120}},D=(T,M)=>{const z={...h,[T]:M};m(z),u({[T]:M})},R=(T,M)=>{const z={...h,[T]:M};m(z),u({[T]:M})},H=(T,M)=>{const z={..._,[T]:M};j(z),y(!0),k&&clearTimeout(k),u({[T]:M});const b=setTimeout(()=>{y(!1)},600);E(b)},O=T=>{const M=P[T],z={..._,...M};j(z),y(!0),k&&clearTimeout(k),u(M);const b=setTimeout(()=>{y(!1)},600);E(b)},N=()=>{c(),w(!1),e()};return $.useEffect(()=>()=>{k&&clearTimeout(k)},[k]),x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:x.jsxs("div",{className:`rounded-lg shadow-xl p-6 w-[500px] max-h-[80vh] overflow-y-auto ${r?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-gray-900"}`,children:"Settings"}),x.jsx("button",{onClick:e,className:`p-2 rounded ${r?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:x.jsx(pc,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Default Editor"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("label",{className:"flex items-center",children:[x.jsx("input",{type:"radio",name:"editor",value:"cursor",checked:t==="cursor",onChange:T=>n(T.target.value),className:"mr-2"}),x.jsx("span",{className:r?"text-white":"text-gray-900",children:"Cursor"})]}),x.jsxs("label",{className:"flex items-center",children:[x.jsx("input",{type:"radio",name:"editor",value:"vscode",checked:t==="vscode",onChange:T=>n(T.target.value),className:"mr-2"}),x.jsx("span",{className:r?"text-white":"text-gray-900",children:"Visual Studio Code"})]})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Startup Project Path"}),x.jsx("input",{type:"text",value:p||f||"",onChange:T=>S(T.target.value),onBlur:()=>{p!==null&&(d(p),typeof window<"u"&&localStorage.setItem("taskmaster-default-start-path",p))},className:`text-sm p-2 rounded border ${r?"bg-gray-700 text-white border-gray-600":"bg-white text-gray-900 border-gray-300"} w-full`,placeholder:"Enter default startup directory path"}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Change this to override the default startup directory."})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Viewport Behavior"}),x.jsx("div",{className:"space-y-2",children:x.jsxs("label",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",checked:i,onChange:T=>o(T.target.checked),className:"mr-2"}),x.jsx("span",{className:r?"text-white":"text-gray-900",children:"Focus on active task instead of remembering last position"})]})}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"When enabled, the view will automatically center on the selected task instead of returning to your last viewport position."})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Layout Options"}),x.jsx("div",{className:"space-y-2",children:x.jsxs("label",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",checked:s,onChange:T=>l(T.target.checked),disabled:a!=="graph"&&a!=="force",className:"mr-2"}),x.jsx("span",{className:`${a!=="graph"&&a!=="force"?r?"text-gray-500":"text-gray-400":r?"text-white":"text-gray-900"}`,children:"Dynamic active task positioning (graph/force view only)"})]})}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"When enabled in graph or force view, the layout will reorganize around the currently active task, placing it in the center with related tasks nearby."})]}),x.jsxs("div",{className:`pt-4 border-t ${r?"border-gray-600":"border-gray-200"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsx("label",{className:`block text-sm font-medium ${r?"text-gray-300":"text-gray-700"}`,children:"Core Physics Parameters (Force Layout)"}),v&&x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),x.jsx("span",{className:`text-xs ${r?"text-blue-400":"text-blue-600"}`,children:"Applying changes..."})]})]}),a!=="force"&&x.jsx("p",{className:`text-xs mb-3 px-3 py-2 rounded ${r?"bg-yellow-900/20 text-yellow-200 border border-yellow-700":"bg-yellow-50 text-yellow-700 border border-yellow-200"}`,children:"Physics parameters are available in Force layout mode only."}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Graph Size Presets"}),x.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(T=>x.jsxs("button",{onClick:()=>O(T),disabled:a!=="force",className:`px-3 py-1 text-xs rounded transition-colors ${a!=="force"?r?"bg-gray-700 text-gray-500":"bg-gray-100 text-gray-400":r?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[T==="small"&&"<100 nodes",T==="medium"&&"100-500 nodes",T==="large"&&">500 nodes"]},T))}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Apply optimized settings for different graph sizes."})]}),x.jsxs("div",{className:a==="force"?"":"opacity-50",children:[x.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Link Distance: ",_.linkDistance,"px"]}),x.jsx("input",{type:"range",min:"100",max:"400",step:"25",value:_.linkDistance,onChange:T=>H("linkDistance",parseInt(T.target.value)),disabled:a!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Distance between connected nodes. Larger values spread the graph more."})]}),x.jsxs("div",{className:a==="force"?"":"opacity-50",children:[x.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Node Repulsion: ",Math.abs(_.chargeStrength)]}),x.jsx("input",{type:"range",min:"200",max:"2000",step:"100",value:Math.abs(_.chargeStrength),onChange:T=>H("chargeStrength",-parseInt(T.target.value)),disabled:a!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"How strongly nodes repel each other. Higher values spread nodes apart."})]}),x.jsxs("div",{className:a==="force"?"":"opacity-50",children:[x.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Link Strength: ",_.linkStrength.toFixed(1)]}),x.jsx("input",{type:"range",min:"0.1",max:"1.0",step:"0.1",value:_.linkStrength,onChange:T=>H("linkStrength",parseFloat(T.target.value)),disabled:a!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Strength of connections between linked nodes. Higher values create tighter clusters."})]}),x.jsxs("div",{className:a==="force"?"":"opacity-50",children:[x.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Simulation Speed: ",(_.alphaDecay*1e3).toFixed(1)]}),x.jsx("input",{type:"range",min:"10",max:"150",step:"5",value:_.alphaDecay*1e3,onChange:T=>H("alphaDecay",parseInt(T.target.value)/1e3),disabled:a!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"How quickly the simulation converges. Higher values reach stability faster."})]}),x.jsxs("div",{className:a==="force"?"":"opacity-50",children:[x.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Collision Radius: ",_.collisionRadius,"px"]}),x.jsx("input",{type:"range",min:"100",max:"250",step:"10",value:_.collisionRadius,onChange:T=>H("collisionRadius",parseInt(T.target.value)),disabled:a!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Minimum space around each node to prevent overlap."})]})]})]}),x.jsxs("div",{className:`pt-4 border-t ${r?"border-gray-600":"border-gray-200"}`,children:[x.jsx("label",{className:`block text-sm font-medium mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:"Smart Spacing Configuration (Force Layout)"}),a!=="force"&&x.jsx("p",{className:`text-xs mb-3 px-3 py-2 rounded ${r?"bg-yellow-900/20 text-yellow-200 border border-yellow-700":"bg-yellow-50 text-yellow-700 border border-yellow-200"}`,children:"Smart spacing features are available in Force layout mode only."}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("label",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",checked:h.enableSmartSpacing,onChange:T=>D("enableSmartSpacing",T.target.checked),disabled:a!=="force",className:"mr-2"}),x.jsx("span",{className:`${a!=="force"?r?"text-gray-500":"text-gray-400":r?"text-white":"text-gray-900"}`,children:"Enable Smart Spacing Algorithms"})]}),x.jsx("p",{className:`text-xs mt-1 ml-6 ${r?"text-gray-400":"text-gray-600"}`,children:"Advanced spacing with variable collision radii, clustering, and density adaptation."})]}),x.jsxs("div",{className:h.enableSmartSpacing&&a==="force"?"":"opacity-50",children:[x.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Priority Spacing Multiplier: ",h.prioritySpacingMultiplier.toFixed(1),"x"]}),x.jsx("input",{type:"range",min:"1.0",max:"2.0",step:"0.1",value:h.prioritySpacingMultiplier,onChange:T=>R("prioritySpacingMultiplier",parseFloat(T.target.value)),disabled:!h.enableSmartSpacing||a!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Extra space allocation for high-priority tasks."})]}),x.jsxs("div",{className:h.enableSmartSpacing&&a==="force"?"":"opacity-50",children:[x.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Cluster Spacing: ",h.clusterSpacing,"px"]}),x.jsx("input",{type:"range",min:"100",max:"300",step:"25",value:h.clusterSpacing,onChange:T=>R("clusterSpacing",parseInt(T.target.value)),disabled:!h.enableSmartSpacing||a!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Distance between different task clusters."})]}),x.jsxs("div",{className:h.enableSmartSpacing&&a==="force"?"":"opacity-50",children:[x.jsxs("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:["Minimum Node Separation: ",h.minNodeSeparation,"px"]}),x.jsx("input",{type:"range",min:"120",max:"300",step:"20",value:h.minNodeSeparation,onChange:T=>R("minNodeSeparation",parseInt(T.target.value)),disabled:!h.enableSmartSpacing||a!=="force",className:`w-full ${r?"accent-blue-500":"accent-blue-600"}`}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Minimum distance between any two task nodes."})]}),x.jsxs("div",{className:h.enableSmartSpacing&&a==="force"?"":"opacity-50",children:[x.jsxs("label",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",checked:h.densityAdaptation,onChange:T=>D("densityAdaptation",T.target.checked),disabled:!h.enableSmartSpacing||a!=="force",className:"mr-2"}),x.jsx("span",{className:`${!h.enableSmartSpacing||a!=="force"?r?"text-gray-500":"text-gray-400":r?"text-white":"text-gray-900"}`,children:"Adaptive Density Spacing"})]}),x.jsx("p",{className:`text-xs mt-1 ml-6 ${r?"text-gray-400":"text-gray-600"}`,children:"Automatically increase spacing in dense areas to prevent overcrowding."})]}),x.jsxs("div",{className:h.enableSmartSpacing&&a==="force"?"opacity-50":"opacity-30",children:[x.jsxs("label",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",checked:h.edgeBundling,onChange:T=>D("edgeBundling",T.target.checked),disabled:!0,className:"mr-2"}),x.jsx("span",{className:`${r?"text-gray-500":"text-gray-400"}`,children:"Edge Bundling (Coming Soon)"})]}),x.jsx("p",{className:"text-xs mt-1 ml-6 text-gray-500",children:"Bundle multiple edges between clusters for cleaner visualization."})]}),x.jsxs("div",{className:h.enableSmartSpacing&&a==="force"?"":"opacity-50",children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Collision Detection Testing"}),x.jsx("button",{onClick:()=>{var M,z;const T=(z=(M=window.taskStore)==null?void 0:M.getState())==null?void 0:z.forceLayout;if(T&&T.testCollisionDetection){const b=T.testCollisionDetection(),C=T.generateCollisionReport();console.log("=== Collision Detection Test Results ==="),console.log(`Test ${b.success?"PASSED":"FAILED"}`),console.log(C),alert(`Collision detection test ${b.success?"PASSED":"FAILED"}!

Check console for detailed report.

Summary:
- Nodes: ${b.details.totalNodes}
- Violations: ${b.details.spacingMetrics.spacingViolations}
- Min distance: ${b.details.spacingMetrics.minNodeDistance.toFixed(1)}px`)}else alert("Force layout not available. Please switch to Force layout mode first.")},disabled:!h.enableSmartSpacing||a!=="force",className:`px-3 py-2 text-sm rounded font-medium transition-colors ${!h.enableSmartSpacing||a!=="force"?r?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-400 cursor-not-allowed":r?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Test Collision System"}),x.jsx("p",{className:`text-xs mt-1 ${r?"text-gray-400":"text-gray-600"}`,children:"Run comprehensive collision detection tests and view detailed report in console."})]})]})]}),x.jsx("div",{className:`pt-4 border-t ${r?"border-gray-600":"border-gray-200"}`,children:x.jsx("div",{className:"space-y-4",children:x.jsxs("div",{children:[x.jsx("h3",{className:`text-sm font-medium mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Storage Management"}),x.jsx("p",{className:`text-xs mb-3 ${r?"text-gray-400":"text-gray-600"}`,children:"Clear all stored data including project paths, custom positions, viewport settings, and preferences."}),g?x.jsxs("div",{className:`p-4 rounded border ${r?"bg-red-900/20 border-red-700":"bg-red-50 border-red-200"}`,children:[x.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[x.jsx(SN,{className:"w-5 h-5 text-red-500"}),x.jsx("span",{className:`font-medium ${r?"text-red-200":"text-red-800"}`,children:"Clear all stored data?"})]}),x.jsx("p",{className:`text-sm mb-4 ${r?"text-red-200":"text-red-700"}`,children:"This will reset all preferences, positions, and settings. This action cannot be undone."}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:N,className:"px-4 py-2 text-sm rounded transition-colors bg-red-600 hover:bg-red-700 text-white",children:"OK, I understand"}),x.jsx("button",{onClick:()=>w(!1),className:`px-4 py-2 text-sm rounded transition-colors ${r?"bg-gray-600 hover:bg-gray-700 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:"Cancel"})]})]}):x.jsxs("button",{onClick:()=>w(!0),className:`flex items-center gap-2 px-3 py-2 rounded text-sm transition-colors ${r?"bg-red-900 hover:bg-red-800 text-red-200 border border-red-700":"bg-red-50 hover:bg-red-100 text-red-700 border border-red-200"}`,children:[x.jsx(wN,{className:"w-4 h-4"}),"Clear All Stored Data"]})]})})}),x.jsx("div",{className:`pt-4 border-t ${r?"border-gray-600":"border-gray-200"}`,children:x.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-600"}`,children:"This preference will be used when opening task files in your editor."})})]})]})})},$E=({onSearch:e})=>{const{isDarkMode:t}=Mn(),[n,r]=$.useState(""),i=o=>{r(o),e(o)};return x.jsxs("div",{className:"relative w-full",children:[x.jsx(mN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),x.jsx("input",{type:"text",placeholder:"Search tasks...",value:n,onChange:o=>i(o.target.value),className:`pl-10 pr-4 py-2 w-full rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 ${t?"bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:bg-gray-600":"bg-gray-50 border-gray-200 text-gray-900 placeholder-gray-500 focus:bg-white"}`})]})},jE=()=>{const{isDarkMode:e}=Mn();return x.jsxs("div",{className:`absolute bottom-4 left-4 rounded-lg shadow-md p-4 z-10 ${e?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:[x.jsx("h3",{className:`text-sm font-semibold mb-2 ${e?"text-white":"text-gray-900"}`,children:"Legend"}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(fc,{className:"w-4 h-4 text-gray-400"}),x.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Pending"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(hc,{className:"w-4 h-4 text-blue-500"}),x.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"In Progress"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(dc,{className:"w-4 h-4 text-green-500"}),x.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Done"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Mm,{className:"w-4 h-4 text-blue-500 animate-bounce"}),x.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Recently Active"})]})]}),x.jsxs("div",{className:`mt-3 pt-3 border-t space-y-1 ${e?"border-gray-600":"border-gray-200"}`,children:[x.jsx("h4",{className:`text-xs font-semibold mb-1 ${e?"text-white":"text-gray-900"}`,children:"Dependencies (Graph Mode)"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-0.5 bg-blue-500 rounded"}),x.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"To Active Task"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-0.5 bg-green-500 rounded"}),x.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"From Active Task"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-4 h-0.5 bg-green-500 rounded border-dashed border border-green-500"}),x.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Completed Dependency"})]})]}),x.jsxs("div",{className:`mt-3 pt-3 border-t space-y-1 ${e?"border-gray-600":"border-gray-200"}`,children:[x.jsx("h4",{className:`text-xs font-semibold mb-1 ${e?"text-white":"text-gray-900"}`,children:"Priority Borders"}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:`w-4 h-4 border-2 rounded ${e?"border-red-400":"border-red-500"}`}),x.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"High Priority"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:`w-4 h-4 border-2 rounded ${e?"border-yellow-400":"border-yellow-500"}`}),x.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Medium Priority"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:`w-4 h-4 border-2 rounded ${e?"border-gray-600":"border-gray-300"}`}),x.jsx("span",{className:`text-xs ${e?"text-gray-300":"text-gray-700"}`,children:"Low Priority"})]})]})]})},PE=({onSelectPath:e,onClose:t,isOpen:n})=>{const{isDarkMode:r}=Mn(),[i,o]=$.useState("/home"),[s,l]=$.useState([]),[a,u]=$.useState(!1),[c,d]=$.useState(null),[f,p]=$.useState([]);$.useEffect(()=>{n&&g()},[n]),$.useEffect(()=>{n&&f.length===0&&(async()=>{try{const E=await fetch("/api/drives");if(E.ok){const _=await E.json();_.homeDirectory&&i==="/home"&&(o(_.homeDirectory),await w(_.homeDirectory))}}catch(E){console.warn("Failed to get home directory for initialization:",E)}})()},[n,f.length,i]);const S=async(k,E)=>{let _=E;try{const j=await k.json();j&&j.error?_=j.error:_=`Error ${k.status}: ${k.statusText||E}`}catch{try{const P=await k.text();_=`Server error ${k.status}: ${P.substring(0,100)}${P.length>100?"...":""}`}catch{_=`${E} (Status: ${k.status})`}}return _},g=async()=>{u(!0);try{const k=await fetch("/api/drives");if(!k.ok){const _=await S(k,"Failed to load system drives");throw new Error(_)}const E=await k.json();if(p(E.drives||[]),d(null),E.homeDirectory)o(E.homeDirectory),await w(E.homeDirectory);else if(E.drives&&E.drives.length>0){const _=E.drives[0].path;o(_),await w(_)}else u(!1)}catch(k){console.error("Failed to load drives:",k),d(k instanceof Error?k.message:"An unknown error occurred while loading drives"),u(!1)}},w=async k=>{u(!0);try{const E=await fetch(`/api/browse?dir=${encodeURIComponent(k)}`);if(!E.ok){const j=await S(E,"Failed to load directory contents");throw new Error(j)}const _=await E.json();o(_.currentPath),l(_.items),d(null)}catch(E){console.error("Directory load error:",E),d(E instanceof Error?E.message:"An unknown error occurred while loading directory")}finally{u(!1)}},h=k=>{k.isDirectory&&w(k.path)},m=()=>{const k=i.split("/").slice(0,-1).join("/")||"/";w(k)},v=()=>{e(i),t()},y=k=>{if(k===0)return"0 B";const E=1024,_=["B","KB","MB","GB"],j=Math.floor(Math.log(k)/Math.log(E));return parseFloat((k/Math.pow(E,j)).toFixed(1))+" "+_[j]};return n?x.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:x.jsxs("div",{className:`rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] m-4 ${r?"bg-gray-800":"bg-white"}`,children:[x.jsxs("div",{className:`p-4 border-b ${r?"border-gray-700":"border-gray-200"}`,children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h2",{className:`text-xl font-bold ${r?"text-white":"text-gray-800"}`,children:"Select Project Root Directory"}),x.jsx("button",{onClick:t,className:`p-2 rounded-lg ${r?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:x.jsx(pc,{className:"w-5 h-5"})})]}),x.jsxs("p",{className:`text-sm mb-4 ${r?"text-gray-300":"text-gray-600"}`,children:["Choose the root directory of your project. Tasks will be loaded from the"," ",x.jsx("code",{className:`px-1 rounded ${r?"bg-gray-700 text-gray-200":"bg-gray-100 text-gray-800"}`,children:"tasks/"})," ","subdirectory.",x.jsx("br",{}),x.jsxs("span",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:["Example: Select ",x.jsx("code",{children:"/Users/john/myproject"})," to load tasks from"," ",x.jsx("code",{children:"/Users/john/myproject/tasks/"})]})]}),x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx("button",{onClick:m,disabled:i==="/",className:`p-2 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed ${r?"hover:bg-gray-700":"hover:bg-gray-100"}`,children:x.jsx(Jk,{className:"w-4 h-4"})}),x.jsx("div",{className:`flex-1 px-3 py-2 rounded-lg text-sm font-mono ${r?"bg-gray-700 text-gray-200":"bg-gray-100 text-gray-800"}`,children:i}),x.jsxs("button",{onClick:v,className:`px-4 py-2 text-white rounded-lg flex items-center gap-2 ${r?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"}`,children:[x.jsx(eN,{className:"w-4 h-4"}),"Select Project Root"]})]}),f.length>0&&x.jsxs("div",{className:"flex gap-2 mb-4",children:[x.jsxs("span",{className:`text-sm flex items-center gap-1 ${r?"text-gray-300":"text-gray-600"}`,children:[x.jsx(cN,{className:"w-4 h-4"}),"Quick Access:"]}),f.map(k=>x.jsx("button",{onClick:()=>w(k.path),className:`px-3 py-1 rounded text-sm ${r?"bg-gray-700 hover:bg-gray-600 text-gray-200":"bg-gray-100 hover:bg-gray-200 text-gray-800"}`,children:k.name},k.path))]})]}),x.jsxs("div",{className:"overflow-y-auto max-h-96",children:[a&&x.jsx("div",{className:`p-8 text-center ${r?"text-gray-400":"text-gray-500"}`,children:"Loading..."}),c&&x.jsx("div",{className:`p-4 m-4 rounded-lg ${r?"text-red-400 bg-red-900 bg-opacity-50":"text-red-600 bg-red-50"}`,children:c}),!a&&!c&&x.jsx("div",{className:"p-4",children:s.length===0?x.jsx("div",{className:`text-center py-8 ${r?"text-gray-400":"text-gray-500"}`,children:"No accessible items in this directory"}):x.jsx("div",{className:"space-y-1",children:s.map(k=>x.jsxs("div",{onClick:()=>h(k),className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ${r?"hover:bg-gray-700":"hover:bg-gray-50"} ${k.isDirectory?"cursor-pointer":"cursor-default opacity-60"}`,children:[k.isDirectory?x.jsx(aN,{className:"w-5 h-5 text-blue-500"}):x.jsx(sN,{className:"w-5 h-5 text-gray-400"}),x.jsxs("div",{className:"flex-1",children:[x.jsx("div",{className:`font-medium ${r?"text-white":"text-gray-800"}`,children:k.name}),x.jsx("div",{className:`text-sm ${r?"text-gray-400":"text-gray-500"}`,children:k.isDirectory?"Directory":y(k.size||0)})]}),x.jsx("div",{className:`text-xs ${r?"text-gray-500":"text-gray-400"}`,children:new Date(k.modified).toLocaleDateString()})]},k.path))})})]})]})}):null},AE={task:ME};function DE(){const e=nl(),{tasks:t,nodes:n,edges:r,loadTasks:i,loadTasksFromPath:o,selectedTaskId:s,selectTask:l,setSearchQuery:a,searchQuery:u,layoutMode:c,setLayoutMode:d,projectPath:f,isLoading:p,error:S,theme:g,isDarkMode:w,setTheme:h,updateNodePosition:m,lastViewport:v,setLastViewport:y,projectName:k,setProjectName:E,isLiveUpdateEnabled:_,lastUpdateTime:j,enableLiveUpdates:P,disableLiveUpdates:D,focusOnActiveTask:R,viewportManager:H,cameraController:O,taskStatusManager:N,autoFocusOnActiveTask:T,focusTransitionDuration:M,currentActiveTaskId:z}=Mn(),[b,C,A]=_k(n),[F,L,B]=Ck(r),[V,Y]=$.useState(!1),[Q,Z]=$.useState(!1),[oe,ne]=$.useState(!1),[re,Se]=$.useState("");$.useEffect(()=>{e&&O.setReactFlowInstance(e)},[e,O]),$.useEffect(()=>{if(!T||b.length===0)return;const K=t.find(me=>me.status==="in-progress"),q=(K==null?void 0:K.id)||null;if(q!==z&&(Mn.getState().setActiveTaskFocus(q),q&&N.updateActiveTask(t),q&&K)){const me=b.filter(De=>De.type==="task").map(De=>({id:De.id,type:"task",position:De.position,data:De.data})),qe=H.calculateOptimalViewport(me,q,e==null?void 0:e.getViewport());qe&&O.transitionToViewport(qe,M)}},[b,t,T,z,M,e,H,O,N]),$.useEffect(()=>N.subscribe((q,me)=>{console.log(`Active task changed from ${me==null?void 0:me.id} to: ${q==null?void 0:q.id}`)}),[N]),$.useEffect(()=>{if(!R||b.length===0)return;const K=b.filter(q=>{const me=q.data.task;return me.status==="in-progress"||me.subtasks.some(qe=>qe.status==="in-progress")});console.log(`Enhanced highlighting enabled for ${K.length} active tasks`)},[b,R]),$.useEffect(()=>{f&&t.length===0&&!p&&o(f)},[f,t.length,p,o]),$.useEffect(()=>{const K=q=>{var me;q.key==="Escape"&&(l(null),Y(!1),Z(!1)),q.key==="/"&&q.target===document.body&&(q.preventDefault(),(me=document.querySelector('input[type="text"]'))==null||me.focus())};return window.addEventListener("keydown",K),()=>window.removeEventListener("keydown",K)},[l]),$.useEffect(()=>{f||(console.log("Attempting to load default tasks..."),fetch("/tasks/tasks.json").then(K=>(console.log("Fetch response:",K.status,K.ok),K.json())).then(K=>{var q;console.log("Tasks data loaded:",K),console.log("Number of tasks:",(q=K.tasks)==null?void 0:q.length),i(K.tasks)}).catch(K=>console.error("Failed to load default tasks:",K)))},[i,f]);const ke=async K=>{await o(K)};$.useEffect(()=>{console.log("Syncing nodes from store:",n.length,"layout mode:",c),C(n),L(r)},[n,r,C,L,c]);const Pe=$.useCallback(K=>{A(K),K.forEach(q=>{q.type==="position"&&q.position&&q.dragging===!1&&m(q.id,q.position)})},[A,m]),Te=$.useCallback((K,q)=>{y(q)},[y]),pe=()=>{Se(k||"TaskMaster Visualizer"),ne(!0)},Fe=()=>{const K=re.trim();K&&E(K),ne(!1)},se=()=>{ne(!1),Se("")},X=K=>{K.key==="Enter"?Fe():K.key==="Escape"&&se()};$.useEffect(()=>{const K=setTimeout(()=>{if(!u){C(n),L(r);return}const q=u.toLowerCase(),me=n.filter(We=>We.data.task.title.toLowerCase().includes(q)||We.data.task.description.toLowerCase().includes(q)||We.data.task.id.toString().includes(q)),qe=new Set(me.map(We=>We.id)),De=r.filter(We=>qe.has(We.source)&&qe.has(We.target));C(me),L(De)},200);return()=>clearTimeout(K)},[n,r,u,C,L]);const Ae=$.useCallback(K=>L(q=>O0(K,q)),[L]);return x.jsxs("div",{className:`h-full w-full relative ${w?"dark bg-gray-900":"bg-white"}`,children:[p&&x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20 flex items-center justify-center z-50",children:x.jsx("div",{className:`p-6 rounded-lg shadow-lg ${w?"bg-gray-800 text-white":"bg-white text-gray-900"}`,children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),x.jsx("div",{children:"Loading tasks..."})]})})}),S&&x.jsx("div",{className:`absolute top-20 left-1/2 transform -translate-x-1/2 px-4 py-3 rounded-lg shadow-lg z-40 ${w?"bg-red-900 border border-red-700 text-red-200":"bg-red-50 border border-red-200 text-red-700"}`,children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-medium",children:"Error:"}),x.jsx("span",{children:S})]})}),x.jsxs(wm,{nodes:b,edges:F,onNodesChange:Pe,onEdgesChange:B,onConnect:Ae,onMove:Te,nodeTypes:AE,fitView:!v,defaultViewport:v||{x:0,y:0,zoom:.8},attributionPosition:"bottom-left",maxZoom:2,minZoom:.1,zoomOnScroll:!0,zoomOnPinch:!0,panOnScroll:!1,selectNodesOnDrag:!1,zoomOnDoubleClick:!1,children:[x.jsx(Qk,{variant:vt.Dots,gap:12,size:1,color:w?"#374151":"#e5e7eb"}),x.jsx(Vk,{}),x.jsx(Ik,{style:{backgroundColor:w?"#1f2937":"#f9fafb",border:`1px solid ${w?"#374151":"#d1d5db"}`},maskColor:w?"#111827":"#f3f4f6"})]}),x.jsx("div",{className:`absolute top-0 left-0 right-0 border-b shadow-sm z-10 ${w?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:x.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{onClick:()=>Y(!V),className:`p-2 rounded-lg transition-colors ${w?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,title:"Settings",children:x.jsx(gN,{className:"w-5 h-5"})}),x.jsx("button",{onClick:()=>Z(!0),className:`p-2 rounded-lg transition-colors ${w?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-600"}`,title:"Select project root directory (tasks will be loaded from /tasks subdirectory)",children:x.jsx(lN,{className:"w-5 h-5"})}),x.jsxs("div",{className:`flex items-center gap-1 rounded-lg p-1 ${w?"bg-gray-700":"bg-gray-100"}`,children:[x.jsx("button",{onClick:()=>h("light"),className:`p-1.5 rounded ${g==="light"?w?"bg-gray-600 text-white":"bg-white text-gray-900 shadow-sm":w?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,title:"Light mode",children:x.jsx(yN,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>h("dark"),className:`p-1.5 rounded ${g==="dark"?w?"bg-gray-600 text-white":"bg-white text-gray-900 shadow-sm":w?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,title:"Dark mode",children:x.jsx(fN,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>h("system"),className:`p-1.5 rounded ${g==="system"?w?"bg-gray-600 text-white":"bg-white text-gray-900 shadow-sm":w?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-700"}`,title:"System preference",children:x.jsx(dN,{className:"w-4 h-4"})})]}),x.jsxs("div",{className:`flex items-center gap-1 rounded-lg p-1 ${w?"bg-gray-700":"bg-gray-100"}`,children:[x.jsxs("button",{onClick:()=>d("grid"),className:`px-3 py-1 text-sm rounded flex items-center gap-1 transition-colors ${c==="grid"?w?"bg-gray-600 text-white shadow-sm":"bg-white text-blue-600 shadow-sm":w?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:[x.jsx(uN,{className:"w-4 h-4"}),"Grid"]}),x.jsxs("button",{onClick:()=>d("graph"),className:`px-3 py-1 text-sm rounded flex items-center gap-1 transition-colors ${c==="graph"?w?"bg-gray-600 text-white shadow-sm":"bg-white text-blue-600 shadow-sm":w?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:[x.jsx(hN,{className:"w-4 h-4"}),"Graph"]}),x.jsxs("button",{onClick:()=>d("force"),className:`px-3 py-1 text-sm rounded flex items-center gap-1 transition-colors ${c==="force"?w?"bg-gray-600 text-white shadow-sm":"bg-white text-blue-600 shadow-sm":w?"text-gray-300 hover:text-white":"text-gray-600 hover:text-gray-800"}`,children:[x.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[x.jsx("circle",{cx:"12",cy:"12",r:"2"}),x.jsx("path",{d:"M12 1v6m0 6v6"}),x.jsx("path",{d:"m5.93 5.93 4.24 4.24m5.66 5.66 4.24 4.24"}),x.jsx("path",{d:"M1 12h6m6 0h6"}),x.jsx("path",{d:"m5.93 18.07 4.24-4.24m5.66-5.66 4.24-4.24"})]}),"Force"]})]})]}),x.jsxs("div",{className:"flex-1 max-w-md mx-4",children:[oe?x.jsx("div",{className:"flex items-center gap-2 justify-center",children:x.jsx("input",{type:"text",value:re,onChange:K=>Se(K.target.value),onKeyDown:X,onBlur:Fe,className:`text-lg font-bold text-center border rounded px-2 py-1 ${w?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,autoFocus:!0})}):x.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[x.jsx("h1",{className:`text-lg font-bold text-center ${w?"text-white":"text-gray-900"}`,children:k||"TaskMaster Visualizer"}),x.jsx("button",{onClick:pe,className:`p-1 rounded transition-colors ${w?"text-gray-400 hover:text-gray-300":"text-gray-500 hover:text-gray-600"}`,title:"Edit project name",children:x.jsx(pN,{className:"w-4 h-4"})})]}),f?x.jsx("div",{className:`text-xs text-center ${w?"text-gray-400":"text-gray-500"}`,children:f}):x.jsx("div",{className:`text-xs text-center ${w?"text-gray-400":"text-gray-500"}`,children:x.jsx("button",{onClick:()=>Z(!0),className:"hover:underline",children:"Click to open a project folder"})}),f&&x.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[x.jsxs("button",{onClick:_?D:P,className:`flex items-center gap-1 px-2 py-1 text-xs rounded transition-colors ${_?w?"bg-green-900 text-green-300 border border-green-700":"bg-green-50 text-green-700 border border-green-200":w?"bg-gray-700 text-gray-400 border border-gray-600":"bg-gray-100 text-gray-600 border border-gray-200"}`,title:_?"Live updates enabled - click to disable":"Live updates disabled - click to enable",children:[x.jsx("div",{className:`w-2 h-2 rounded-full ${_?"bg-green-500 animate-pulse":"bg-gray-400"}`}),x.jsx("span",{children:_?"Live":"Static"})]}),j&&x.jsxs("span",{className:`text-xs ${w?"text-gray-500":"text-gray-400"}`,children:["Updated: ",new Date(j).toLocaleTimeString()]})]})]}),x.jsx("div",{className:"w-64",children:x.jsx($E,{onSearch:a})})]})}),x.jsx("div",{className:"absolute top-20 right-4",children:x.jsx(jE,{})}),s&&x.jsx(TE,{}),V&&x.jsx(bE,{onClose:()=>Y(!1)}),x.jsx(PE,{isOpen:Q,onClose:()=>Z(!1),onSelectPath:ke})]})}function zE(){return x.jsx(cc,{children:x.jsx(DE,{})})}Vl.createRoot(document.getElementById("root")).render(x.jsx(I.StrictMode,{children:x.jsx(zE,{})}));
